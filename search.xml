<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>å¦‚ä½•ä¼˜é›…çš„åœ¨winä¸Šè¿è¡ŒLinux</title>
      <link href="/posts/26155/"/>
      <url>/posts/26155/</url>
      
        <content type="html"><![CDATA[<details><summary>ç‰ˆæƒä¿¡æ¯</summary><p>:::warning</p><p>æœ¬æ–‡ç« ä¸ºåšä¸»åŸåˆ›æ–‡ç« ã€‚éµå¾ª <a href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh-hans">CC 4.0 BY-SA</a> ç‰ˆæƒåè®®ï¼Œè½¬è½½è¯·é™„ä¸ŠåŸæ–‡å‡ºå¤„é“¾æ¥å’Œæœ¬å£°æ˜ã€‚</p><p>:::</p></details><hr /><p>åœ¨ Windows å’Œ Linux ä¹‹é—´åˆ‡æ¢å¼€å‘ç¯å¢ƒæ˜¯ä¸€ä»¶è®©äººå¤´ç–¼çš„äº‹ã€‚å¹¸è¿çš„æ˜¯ï¼ŒWSLï¼ˆWindows Subsystem for Linuxï¼‰ä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ç§ä¼˜é›…çš„è§£å†³æ–¹æ¡ˆï¼š<strong>åœ¨ Windows ä¸ŠåŸç”Ÿè¿è¡Œ Linux</strong>ï¼Œæ— éœ€è™šæ‹Ÿæœºæˆ–åŒç³»ç»Ÿã€‚æœ¬æ–‡å°†å¸¦ä½ ä¼˜é›…åœ°å…¥é—¨ WSLï¼Œä»å®‰è£…åˆ°ä½¿ç”¨ï¼Œè®©ä½ è½»æ¾æ‹¥æœ‰åŒç³»ç»Ÿçš„å¿«ä¹è€Œä¸ç‰ºç‰²æ•ˆç‡ã€‚</p><h2 id="ä¸€-wsl-æ˜¯ä»€ä¹ˆ"><a class="markdownIt-Anchor" href="#ä¸€-wsl-æ˜¯ä»€ä¹ˆ"></a> ä¸€ã€WSL æ˜¯ä»€ä¹ˆï¼Ÿ</h2><p>WSLï¼ˆWindows Subsystem for Linuxï¼‰æ˜¯å¾®è½¯æä¾›çš„ä¸€ç§å…¼å®¹å±‚ï¼Œä½¿ä½ å¯ä»¥ç›´æ¥åœ¨ Windows ä¸Šè¿è¡Œ Linux ç”¨æˆ·ç©ºé—´ç¯å¢ƒã€‚å½“å‰ä¸»æµç‰ˆæœ¬æ˜¯ <strong>WSL 2</strong>ï¼Œå®ƒä½¿ç”¨è½»é‡è™šæ‹ŸåŒ–æŠ€æœ¯ï¼Œæä¾›å®Œæ•´çš„ Linux å†…æ ¸å’Œæ›´å¥½çš„æ€§èƒ½ã€‚é‚£ä¹ˆå®ƒæœ‰ä»€ä¹ˆå¥½å¤„å‘¢ï¼Ÿ</p><ul><li>Linux ã€Windowsæ–‡ä»¶å…±äº«ã€‚ä½ å¯ä»¥åœ¨Windowsçš„æ–‡ä»¶èµ„æºç®¡ç†å™¨ä¸Šå¤„ç†Linuxå­ç³»ç»Ÿçš„æ–‡ä»¶</li><li>å‘½ä»¤æ··ç”¨ï¼Œåœ¨Windowsé‡Œå¯ä»¥è¿è¡ŒLiunxå‘½ä»¤ï¼Œåœ¨Linuxé‡Œå¯ä»¥è¿è¡ŒWindowsç¨‹åº</li><li>æ˜¾å¡ç›´é€šï¼Œåœ¨AIè®­ç»ƒæ–¹é¢éå¸¸æ–¹ä¾¿<br />ç­‰ç­‰â€¦</li></ul><h2 id="äºŒ-å‡†å¤‡å·¥ä½œ"><a class="markdownIt-Anchor" href="#äºŒ-å‡†å¤‡å·¥ä½œ"></a> äºŒã€å‡†å¤‡å·¥ä½œ</h2><p>:::success</p><ul><li>Windows 10ï¼ˆç‰ˆæœ¬ 2004 åŠä»¥ä¸Šï¼Œæ¨è 21H2 æˆ–æ›´é«˜ï¼‰</li><li>æˆ– Windows 11ï¼ˆåŸç”Ÿæ”¯æŒ WSL 2ï¼‰<br />:::<br />æœ¬æ–‡ä»¥win11ä¸ºä¾‹ã€‚</li></ul><h3 id="å¼€å¯å¿…è¦åŠŸèƒ½"><a class="markdownIt-Anchor" href="#å¼€å¯å¿…è¦åŠŸèƒ½"></a> å¼€å¯å¿…è¦åŠŸèƒ½</h3><p>åœ¨æœç´¢æ æœç´¢ <code>å¯åŠ¨æˆ–å…³é—­windowåŠŸèƒ½</code><br /><img src="Snipaste_2025-06-07_23-29-33%201.png" alt="" /><br />å¼€å¯å¦‚ä¸‹ä¸¤é¡¹ï¼š</p><ul><li>é€‚ç”¨äºLinuxçš„Windowså­ç³»ç»Ÿ</li><li>è™šæ‹Ÿæœºå¹³å°<br /><img src="Snipaste_2025-06-07_23-32-13.png" alt="" /><br />ç„¶å<strong>é‡å¯ä»¥ä½¿æ›´æ”¹ç”Ÿæ•ˆ</strong>ã€‚<br />å¦‚æœæ˜¯win11çš„è¯é‡å¯åå¯ä»¥çœ‹åˆ°æ–‡ä»¶èµ„æºç®¡ç†å™¨ä¸­æœ‰ä¸ªLinux<br /><img src="Snipaste_2025-06-07_23-36-31.png" alt="" /></li></ul><h2 id="å®‰è£…linuxå­ç³»ç»Ÿ"><a class="markdownIt-Anchor" href="#å®‰è£…linuxå­ç³»ç»Ÿ"></a> å®‰è£…Linuxå­ç³»ç»Ÿ</h2><p>:::warning<br />win11åŸç”Ÿæ”¯æŒWSL2ï¼Œå¦‚æœæ²¡æœ‰å®‰è£…WSLï¼Œå¯ä»¥ç‚¹å‡»è¿™ä¸ªé“¾æ¥å®‰è£…<br /><a href="https://apps.microsoft.com/detail/9p9tqf7mrm4r?ocid=pdpshare&amp;hl=en-us&amp;gl=US">Windows Subsystem for Linux - Microsoft Apps</a><br />:::</p><p>è¿™é‡Œæä¾›ä¸¤ç§æ–¹æ³•å®‰è£…WSL2ï¼š</p><h3 id="ç›´æ¥å®‰è£…å‘è¡Œç‰ˆ"><a class="markdownIt-Anchor" href="#ç›´æ¥å®‰è£…å‘è¡Œç‰ˆ"></a> ç›´æ¥å®‰è£…å‘è¡Œç‰ˆ</h3><p>æ‰“å¼€ä¸‹é¢çš„é“¾æ¥ï¼š<br /><a href="https://learn.microsoft.com/zh-cn/windows/wsl/install-manual#step-1---enable-the-windows-subsystem-for-linux">æ—§ç‰ˆ WSL çš„æ‰‹åŠ¨å®‰è£…æ­¥éª¤ | Microsoft Learn</a><br />ç›´æ¥ä¸‹è½½æƒ³è¦çš„ç³»ç»Ÿçš„å‘è¡Œç‰ˆï¼š<br /><img src="Snipaste_2025-06-08_00-08-42.png" alt="" /></p><p>ä¸‹è½½ä¸‹æ¥åå°†æ–‡ä»¶åç¼€æ”¹ä¸º<code>.zip</code>,è§£å‹ç¼©<br /><img src="Snipaste_2025-06-08_00-11-46.png" alt="" /></p><p>è§£å‹åï¼Œé€‰æ‹©x64ç‰ˆæœ¬ï¼ŒåŒæ ·çš„æ–¹æ³•ï¼Œç»§ç»­è§£å‹<br /><img src="Snipaste_2025-06-08_00-14-29.png" alt="" /></p><p>è§£å‹åï¼Œå¤åˆ¶å¦‚ä¸‹ä¸¤ä¸ªæ–‡ä»¶åˆ°ä½ æƒ³è¦å®‰è£…çš„æŒ‡å®šç›®å½•<br /><img src="Snipaste_2025-06-08_00-14-53.png" alt="" /></p><p>ä¾‹å¦‚æˆ‘çš„æ˜¯<code>E:\Linux\Ubuntu-24.04LTS</code></p><p>åœ¨ç›®å½•ä¸‹åŒå‡»è¿è¡Œexeæ–‡ä»¶ï¼Œè‡ªæ­¤å®‰è£…å®Œæˆã€‚<br /><img src="Snipaste_2025-06-08_00-18-01.png" alt="" /></p><h3 id="å‘½ä»¤è¡Œå®‰è£…ä¸æ¨è"><a class="markdownIt-Anchor" href="#å‘½ä»¤è¡Œå®‰è£…ä¸æ¨è"></a> å‘½ä»¤è¡Œå®‰è£…ï¼ˆä¸æ¨èï¼‰</h3><p>ä¸æ¨èåŸå› å¦‚ä¸‹ï¼š</p><ul><li>æ­¤æ–¹æ³•ä¸‹å®‰è£…çš„Linuxå­ç³»ç»Ÿé»˜è®¤å®‰è£…åœ¨cç›˜ï¼Œæ— æ³•æ›´æ”¹å®‰è£…è·¯å¾„ï¼Œæƒ³è¦è¿ç§»æ¯”è¾ƒéº»çƒ¦ã€‚</li><li>ç”±äºæœåŠ¡å™¨åŸå› ï¼Œä¸‹è½½å¾ˆæ…¢ï¼Œéœ€è¦ä¸€äº›ä¸Šç½‘æŠ€å·§æ‰èƒ½æµç•…ä¸‹è½½ã€‚</li></ul><p>æ‰“å¼€cmdå‘½ä»¤æç¤ºç¬¦çª—å£ï¼Œè¾“å…¥å¦‚ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wsl --update</span><br><span class="line">wsl --install</span><br></pre></td></tr></table></figure><p>ç­‰å¾…å®‰è£…æˆåŠŸã€‚é»˜è®¤å®‰è£…Ubuntuç³»ç»Ÿã€‚<br />ä¹Ÿå¯ä»¥æŒ‡å®šç‰ˆæœ¬<br />è¾“å…¥</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wsl --list --online</span><br></pre></td></tr></table></figure><p>å¯ä»¥æŸ¥çœ‹å½“å‰å¯å®‰è£…çš„å‘è¡Œç‰ˆã€‚<br /><img src="Snipaste_2025-06-08_00-01-29%201.png" alt="" /><br />æ¯”å¦‚å®‰è£…Debianï¼Œç›´æ¥è¾“å…¥</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wsl --install Debian</span><br></pre></td></tr></table></figure><p>ç­‰å¾…å®‰è£…å®Œæˆå³å¯ã€‚</p><p><strong>å®‰è£…å®Œæˆåæç¤ºè¾“å…¥ç”¨æˆ·åå’Œå¯†ç ï¼Œæ³¨æ„å¯†ç è¾“å…¥æ˜¯ä¸æ˜¾ç¤ºçš„ã€‚</strong></p><h3 id="å¼€å§‹ä½¿ç”¨"><a class="markdownIt-Anchor" href="#å¼€å§‹ä½¿ç”¨"></a> å¼€å§‹ä½¿ç”¨</h3><p>ğŸ’¡å¦‚æœä½ çš„ç”µè„‘åªæœ‰é‚£ç§ä¸‘ä¸‘çš„ç®€é™‹çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œå¯ä»¥åœ¨å¾®è½¯å•†åº—ä¸‹è½½ä¸€ä¸ª<code>Windows Terminal Preview</code>è·å¾—æ›´å¥½çš„ä½“éªŒ<br /><img src="Snipaste_2025-06-08_00-21-38.png" alt="" /></p><h3 id="å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥"><a class="markdownIt-Anchor" href="#å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥"></a> å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥</h3><table><thead><tr><th>å‘½ä»¤</th><th>åŠŸèƒ½</th></tr></thead><tbody><tr><td><code>wsl</code></td><td>å¯åŠ¨é»˜è®¤ Linux å‘è¡Œç‰ˆ</td></tr><tr><td><code>wsl -l -v</code></td><td>æŸ¥çœ‹å·²å®‰è£…çš„å‘è¡Œç‰ˆå’Œ WSL ç‰ˆæœ¬</td></tr><tr><td><code>wsl --set-version &lt;å‘è¡Œç‰ˆ&gt; 2</code></td><td>å°†æŒ‡å®šå‘è¡Œç‰ˆå‡çº§åˆ° WSL 2</td></tr><tr><td><code>wsl --set-default-version 2</code></td><td>è®¾ç½®é»˜è®¤å¯åŠ¨Linuxç‰ˆæœ¬</td></tr><tr><td><code>wsl -d &lt;å‘è¡Œç‰ˆ&gt;</code></td><td>å¯åŠ¨æŒ‡å®šå‘è¡Œç‰ˆ</td></tr><tr><td><code>wsl --shutdown</code></td><td>å…³é—­æ‰€æœ‰æ­£åœ¨è¿è¡Œçš„ WSL å®ä¾‹</td></tr><tr><td><code>wsl --unregister &lt;å‘è¡Œç‰ˆ&gt;</code></td><td>å¸è½½å‘è¡Œç‰ˆ</td></tr><tr><td><code>wsl --export Ubuntu ubuntu.tar</code></td><td>å¯¹å­ç³»ç»Ÿè¿›è¡Œå¤‡ä»½ä¸æ¢å¤ ã€å¯¼å‡ºã€‘</td></tr><tr><td><code>wsl --import &lt;è‡ªå®šä¹‰å&gt; &lt;ç›®æ ‡è·¯å¾„&gt; &lt;.taræºè·¯å¾„&gt;</code></td><td>å¯¹å­ç³»ç»Ÿè¿›è¡Œè¯»å–/æ¢å¤Â  ã€å¯¼å…¥ã€‘</td></tr></tbody></table><h2 id="å¯åŠ¨"><a class="markdownIt-Anchor" href="#å¯åŠ¨"></a> å¯åŠ¨</h2><p>å¯ä»¥ä½¿ç”¨å‘½ä»¤è¡Œå¯åŠ¨ï¼ˆè§ä¸Šè¡¨ï¼‰ä¹Ÿå¯åœ¨<code>Windows Terminal Preview</code>ä¸‹ç›´æ¥ç‚¹å‡»<br /><img src="Snipaste_2025-06-08_00-26-24.png" alt="" /><br />å³å¯æ‰“å¼€~</p><h2 id="æ¢æº"><a class="markdownIt-Anchor" href="#æ¢æº"></a> æ¢æº</h2><p>è¿™é‡Œä½¿ç”¨æ¸…åæº<br /><a href="https://mirrors.tuna.tsinghua.edu.cn/help/ubuntu/">ubuntu | é•œåƒç«™ä½¿ç”¨å¸®åŠ© | æ¸…åå¤§å­¦å¼€æºè½¯ä»¶é•œåƒç«™ | Tsinghua Open Source Mirror</a><br />æœ‰è¯¦ç»†çš„ä½¿ç”¨ä»‹ç»ï¼Œæ ¹æ®è‡ªå·±çš„ç‰ˆæœ¬é€‰æ‹©æ–‡ä»¶è·¯å¾„ä»¥åŠæ ¼å¼å¤åˆ¶ç²˜è´´å³å¯ï¼Œä»¥Ubuntu24.04ä¸ºä¾‹ï¼š<br />ä½¿ç”¨å‘½ä»¤</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo nano /etc/apt/sources.list.d/ubuntu.sources</span><br></pre></td></tr></table></figure><p>è¿›å…¥ç¼–è¾‘é¡µé¢åï¼Œå…ˆæŠŠåŸæ¥çš„é…ç½®æºåˆ é™¤ï¼Œå†ç²˜è´´ã€‚<br /><img src="Snipaste_2025-06-08_13-50-00.png" alt="" /><br />ç„¶åæŒ‰<code>Ctrl+O</code> <code>Enter</code> <code>Ctrl+x</code>é€€å‡º ï¼ˆ&quot;^&quot;æŒ‡Ctrl &quot;M&quot;æŒ‡Altï¼‰<br />é€€å‡ºåä½¿ç”¨å‘½ä»¤</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt update</span><br></pre></td></tr></table></figure><p>æ›´æ–°è½¯ä»¶åŒ…æ•°æ®åº“ã€‚<br />æœ€åä½¿ç”¨</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt upgrade</span><br></pre></td></tr></table></figure><p>å‡çº§è½¯ä»¶åŒ…ã€‚</p><h2 id="é€€å‡ºç³»ç»Ÿ"><a class="markdownIt-Anchor" href="#é€€å‡ºç³»ç»Ÿ"></a> é€€å‡ºç³»ç»Ÿ</h2><p><code>Windows Terminal Preview</code>ä¸‹ï¼Œç›´æ¥å‰æ‰Linuxå‘½ä»¤è¡Œçª—å£å³å¯é€€å‡º<br />æˆ–åœ¨Linuxå‘½ä»¤è¡Œçª—å£ç›´æ¥ä½¿ç”¨å‘½ä»¤</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">exit</span><br></pre></td></tr></table></figure><p>æ¨å‡ºåç­‰å¾…å‡ ç§’å¯ä»¥è¾“å…¥</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wsl -l -v</span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹LiunxçŠ¶æ€ï¼šæ˜¯åœæ­¢<br /><img src="Snipaste_2025-06-08_14-16-16.png" alt="" /><br />è¿˜å¯ä»¥ä½¿ç”¨</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wsl --shutdown</span><br></pre></td></tr></table></figure><p>ä¸€æ¬¡æ€§å…³é—­æ‰€æœ‰è¿è¡Œçš„å®ä¾‹ã€‚</p><h2 id="å¸è½½ç³»ç»Ÿ"><a class="markdownIt-Anchor" href="#å¸è½½ç³»ç»Ÿ"></a> å¸è½½ç³»ç»Ÿ</h2><p>ä½¿ç”¨å‘½ä»¤</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wsl --unregister &lt;å‘è¡Œç‰ˆå&gt;</span><br></pre></td></tr></table></figure><p>å³å¯å¸è½½</p><h2 id="cc-ç¯å¢ƒæ­å»º"><a class="markdownIt-Anchor" href="#cc-ç¯å¢ƒæ­å»º"></a> C/C++ ç¯å¢ƒæ­å»º</h2><p>æ¯”è¾ƒç®€å•ï¼Œé»˜è®¤çš„ Ubuntu è½¯ä»¶æºåŒ…å«äº†ä¸€ä¸ªè½¯ä»¶åŒ…ç»„ï¼Œåç§°ä¸º â€œbuild-essentialâ€,å®ƒåŒ…å«äº† GNU ç¼–è¾‘å™¨é›†åˆï¼ŒGNU è°ƒè¯•å™¨ï¼Œå’Œå…¶ä»–ç¼–è¯‘è½¯ä»¶æ‰€å¿…éœ€çš„å¼€å‘åº“å’Œå·¥å…·ã€‚<br />æƒ³è¦å®‰è£…å¼€å‘å·¥å…·è½¯ä»¶åŒ…ï¼Œç›´æ¥</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install build-essential</span><br></pre></td></tr></table></figure><p>éªŒè¯</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">gcc -v</span><br><span class="line">g++ -v</span><br><span class="line">gdb -v</span><br></pre></td></tr></table></figure><p>æœ‰ä¸€ä¸ªæ²¡æœ‰çš„è¯ å•ç‹¬å®‰è£…ä¸€ä¸‹å³å¯</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install gdb</span><br></pre></td></tr></table></figure><h2 id="æ¨èç©æ³•"><a class="markdownIt-Anchor" href="#æ¨èç©æ³•"></a> æ¨èç©æ³•</h2><h3 id="vscodeæ’ä»¶"><a class="markdownIt-Anchor" href="#vscodeæ’ä»¶"></a> VScodeæ’ä»¶</h3><p>ä½¿ç”¨ WSL ä½œä¸ºå¼€å‘ç¯å¢ƒï¼Œç»“åˆ VS Code çš„ <strong>Remote - WSL æ’ä»¶</strong>ï¼Œåœ¨ Windows ä¸­ç¼–è¾‘ã€WSL ä¸­è¿è¡Œã€‚<br />ç›´æ¥ä¸‹è½½æ’ä»¶<br /><img src="Snipaste_2025-06-08_14-28-45.png" alt="" /><br />åœ¨Linuxç»ˆç«¯æ‰“å¼€æŸä¸ªæ–‡ä»¶å¤¹ ç„¶åä½¿ç”¨å‘½ä»¤å³å¯åœ¨Linuxç¯å¢ƒä¸‹è¿è¡ŒVScode</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">code .</span><br></pre></td></tr></table></figure><p><img src="Snipaste_2025-06-08_14-31-11.png" alt="" /><br />è¿˜å¯ä»¥ç›´æ¥ä½¿ç”¨VScodeç»ˆç«¯è¾“å…¥Linuxå‘½ä»¤ã€‚<br /><img src="Snipaste_2025-06-08_14-43-03.png" alt="" /></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>[è‡ªç”¨]16å±Šçƒ‚æ¡¥æ¯åµŒå…¥å¼èµ›é“æ¨¡å—ä»£ç æ•´ç†</title>
      <link href="/posts/44982/"/>
      <url>/posts/44982/</url>
      
        <content type="html"><![CDATA[<details><summary>ç‰ˆæƒä¿¡æ¯</summary><p>:::warning</p><p>æœ¬æ–‡ç« ä¸ºåšä¸»åŸåˆ›æ–‡ç« ã€‚éµå¾ª <a href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh-hans">CC 4.0 BY-SA</a> ç‰ˆæƒåè®®ï¼Œè½¬è½½è¯·é™„ä¸ŠåŸæ–‡å‡ºå¤„é“¾æ¥å’Œæœ¬å£°æ˜ã€‚</p><p>:::</p></details><hr /><h2 id="æ—¶é—´ç‰‡è½®è¯¢è°ƒåº¦"><a class="markdownIt-Anchor" href="#æ—¶é—´ç‰‡è½®è¯¢è°ƒåº¦"></a> æ—¶é—´ç‰‡è½®è¯¢è°ƒåº¦</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="type">uint8_t</span> TaskCount = <span class="number">0</span>;<span class="comment">//ç”¨äºè®°å½•ä»»åŠ¡æ•°é‡</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">enum</span> &#123;</span></span><br><span class="line">run,wait,stop</span><br><span class="line">&#125;TaskStatus;<span class="comment">//ä»»åŠ¡çŠ¶æ€</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></span><br><span class="line"><span class="type">uint8_t</span> TaskRunTime;</span><br><span class="line"><span class="type">uint8_t</span> TaskTimer;</span><br><span class="line">TaskStatus Status;</span><br><span class="line"><span class="type">void</span> (*FC)();</span><br><span class="line">&#125;TaskStrust;<span class="comment">//ä»»åŠ¡ä¿¡æ¯å—ï¼šæ³¨æ„ä¸¤ç‚¹1.æ³¨æ„Timerå’Œruntimeçš„æ•°æ®ç±»å‹ä¸ºucharï¼Œæœ€å¤§ä¸º255 2.æ—¶é—´ç‰‡ä¸º2ms</span></span><br><span class="line">TaskStrust TaskList[]=&#123;<span class="number">0</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">OS_Init</span><span class="params">(TIM_HandleTypeDef* htim)</span>&#123;</span><br><span class="line">HAL_TIM_Base_Start_IT(htim);</span><br><span class="line">TaskCount = <span class="keyword">sizeof</span>(TaskList)/<span class="keyword">sizeof</span>(TaskList[<span class="number">1</span>]);</span><br><span class="line"><span class="keyword">if</span>(TaskCount &gt; MAX_TASK) <span class="keyword">while</span>(<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">OS_IT_Run</span><span class="params">(<span class="type">void</span>)</span>&#123;</span><br><span class="line"><span class="type">uint8_t</span> i;</span><br><span class="line"><span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; TaskCount;i++)&#123;</span><br><span class="line"><span class="keyword">if</span>(TaskList[i].Status == wait)&#123;</span><br><span class="line"><span class="keyword">if</span>(++TaskList[i].TaskTimer &gt;= TaskList[i].TaskRunTime)&#123;</span><br><span class="line">TaskList[i].TaskTimer = <span class="number">0</span>;</span><br><span class="line">TaskList[i].Status = run;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//è‡ªå¸¦æ­»å¾ªç¯ï¼Œä¸»å‡½æ•°é‡Œè¿è¡Œ</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">OS_Run</span><span class="params">(<span class="type">void</span>)</span>&#123;</span><br><span class="line"><span class="type">uint8_t</span> j = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span>(<span class="number">1</span>)&#123;</span><br><span class="line"><span class="keyword">if</span>(TaskList[j].Status == run)&#123;</span><br><span class="line">TaskList[j].FC();</span><br><span class="line">TaskList[j].Status = wait;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(++j &gt;= TaskCount) j = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="é¢‘ç‡æµ‹é‡"><a class="markdownIt-Anchor" href="#é¢‘ç‡æµ‹é‡"></a> é¢‘ç‡æµ‹é‡</h2><p>æ ¸å¿ƒæ€è·¯ï¼š</p><p>1/ï¼ˆï¼ˆè¿™ä¸€æ¬¡çš„è®¡æ•°å€¼-ä¸Šä¸€æ¬¡è®°å½•çš„è®¡æ•°å€¼ï¼‰x ï¼ˆ1/æ—¶é’Ÿé¢‘ç‡ï¼‰ï¼‰= æ—¶é’Ÿé¢‘ç‡/ï¼ˆè®°å½•å·®å€¼ï¼‰</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></span><br><span class="line">    <span class="type">uint8_t</span> i;<span class="comment">//è®°å½•å½“å‰æ˜¯ç¬¬å‡ æ¬¡ã€‚</span></span><br><span class="line">    <span class="type">int</span> former;<span class="comment">//å‰ä¸€æ¬¡è®°å½•çš„è®¡æ•°å€¼</span></span><br><span class="line">    <span class="type">int</span> now;<span class="comment">//ç°åœ¨è®°å½•çš„è®¡æ•°å€¼</span></span><br><span class="line">    <span class="type">int</span> result;<span class="comment">//é¢‘ç‡ç»“æœ</span></span><br><span class="line">    <span class="type">uint8_t</span> ElapsedTime;<span class="comment">//å®šæ—¶å™¨æº¢å‡ºæ¬¡æ•°</span></span><br><span class="line">&#125;FreqInfo;</span><br><span class="line"></span><br><span class="line">reqInfo F1 = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">FreqInfo F2 = &#123;<span class="number">0</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å¯åŠ¨é¢‘ç‡æµ‹é‡</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">Freq_Start</span><span class="params">(<span class="type">void</span>)</span>&#123;</span><br><span class="line">    HAL_TIM_Base_Start_IT(&amp;htim3);<span class="comment">//å¯¹åº”F1</span></span><br><span class="line">    HAL_TIM_IC_Start_IT(&amp;htim3,TIM_CHANNEL_1);</span><br><span class="line">    HAL_TIM_Base_Start_IT(&amp;htim8);<span class="comment">//å¯¹åº”F2</span></span><br><span class="line">    HAL_TIM_IC_Start_IT(&amp;htim8,TIM_CHANNEL_1);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">static</span> <span class="type">void</span> <span class="title function_">Freq_Measure</span><span class="params">(FreqInfo* Fx,TIM_HandleTypeDef *htim)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(Fx-&gt;i == <span class="number">0</span>)&#123;</span><br><span class="line">        Fx-&gt;result = <span class="number">1000000</span>/(Fx-&gt;now - Fx-&gt;former);</span><br><span class="line">        __HAL_TIM_ENABLE(htim);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">Freq_Fuc</span><span class="params">(<span class="type">void</span>)</span>&#123;</span><br><span class="line">    Freq_Measure(&amp;F1,&amp;htim3);</span><br><span class="line">Freq_Measure(&amp;F2,&amp;htim8);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä¸­æ–­</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">HAL_TIM_IC_CaptureCallback</span><span class="params">(TIM_HandleTypeDef *htim)</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(htim-&gt;Instance == TIM3)&#123;</span><br><span class="line">        <span class="keyword">switch</span>(F1.i)&#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">0</span>: </span><br><span class="line">                F1.former = HAL_TIM_ReadCapturedValue(&amp;htim3,TIM_CHANNEL_1) + <span class="number">65535</span> * F1.ElapsedTime;</span><br><span class="line">                F1.i = <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">                F1.now = HAL_TIM_ReadCapturedValue(&amp;htim3,TIM_CHANNEL_1) + <span class="number">65535</span> * F1.ElapsedTime;</span><br><span class="line">                __HAL_TIM_DISABLE(&amp;htim3);</span><br><span class="line">                F1.ElapsedTime = <span class="number">0</span>;</span><br><span class="line">                F1.i = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">default</span>:<span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(htim-&gt;Instance == TIM8)&#123;</span><br><span class="line">        <span class="keyword">switch</span>(F2.i)&#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">                F2.former = HAL_TIM_ReadCapturedValue(&amp;htim8,TIM_CHANNEL_1) + <span class="number">65535</span> * F2.ElapsedTime;</span><br><span class="line">                F2.i = <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">                F2.now = HAL_TIM_ReadCapturedValue(&amp;htim8,TIM_CHANNEL_1) + <span class="number">65535</span> * F2.ElapsedTime;</span><br><span class="line">                __HAL_TIM_DISABLE(&amp;htim8);</span><br><span class="line">                F2.ElapsedTime = <span class="number">0</span>;</span><br><span class="line">                F2.i = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">default</span>:<span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åœ¨æº¢å‡ºä¸­æ–­ä¸­è®°å½•æº¢å‡ºæ¬¡æ•°</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="å…±äº«å˜é‡"><a class="markdownIt-Anchor" href="#å…±äº«å˜é‡"></a> å…±äº«å˜é‡</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;SharedData.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆå§‹åŒ–</span></span><br><span class="line"><span class="type">static</span> Data1 shareddata1 = &#123;<span class="number">0</span>,<span class="number">0</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//è·å–Data1æŒ‡é’ˆçš„æ¥å£</span></span><br><span class="line">Data1* <span class="title function_">get_shared_data</span><span class="params">(<span class="type">void</span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> &amp;shareddata1;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="æŒ‰é”®"><a class="markdownIt-Anchor" href="#æŒ‰é”®"></a> æŒ‰é”®</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">uint8_t</span> <span class="title function_">KeyBit</span><span class="params">(<span class="type">void</span>)</span>&#123;</span><br><span class="line">    <span class="type">uint8_t</span> keybit = <span class="number">0x00</span>;</span><br><span class="line">    <span class="comment">//è¯»å–B1çš„ç”µå¹³çŠ¶æ€å¹¶æŠŠä»–å·¦ç§»åˆ°bit0ä½</span></span><br><span class="line">    keybit |= HAL_GPIO_ReadPin(B1_GPIO_Port,B1_Pin) &lt;&lt; <span class="number">0</span>;</span><br><span class="line">    <span class="comment">//åŒä¸Š</span></span><br><span class="line">    keybit |= HAL_GPIO_ReadPin(B2_GPIO_Port,B2_Pin) &lt;&lt; <span class="number">1</span>;</span><br><span class="line">    keybit |= HAL_GPIO_ReadPin(B3_GPIO_Port,B3_Pin) &lt;&lt; <span class="number">2</span>;</span><br><span class="line">    keybit |= HAL_GPIO_ReadPin(B4_GPIO_Port,B4_Pin) &lt;&lt; <span class="number">3</span>;</span><br><span class="line">    <span class="keyword">return</span> keybit;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">task_Key</span><span class="params">(<span class="type">void</span>)</span>&#123;</span><br><span class="line"><span class="type">static</span> <span class="type">uint8_t</span> Trg,Cont;</span><br><span class="line">    <span class="type">unsigned</span> <span class="type">char</span> ReadData = KeyBit() ^ <span class="number">0x0f</span>;   <span class="comment">// å–åï¼šåœ¨æ²¡æœ‰æŒ‰é”®æŒ‰ä¸‹çš„æƒ…å†µä¸‹ï¼Œå…¶å§‹ç»ˆä¸º0x00</span></span><br><span class="line">    Trg = ReadData &amp; (ReadData ^ Cont);             <span class="comment">// 2</span></span><br><span class="line">    Cont = ReadData; </span><br><span class="line">    <span class="keyword">if</span>(Trg &amp;&amp; Cont)&#123;&#125;;</span><br><span class="line">    <span class="keyword">if</span>(Trg &amp;&amp; Cont == <span class="number">0</span>)&#123;&#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="lcd"><a class="markdownIt-Anchor" href="#lcd"></a> LCD</h2><p>å¼•è„šåˆå§‹åŒ–ä¸ºå…¨ä½å°±è¡Œ</p><h2 id="led"><a class="markdownIt-Anchor" href="#led"></a> LED</h2><p>LDå£ ä¸º PD2 ä½ç”µå¹³ä¸å…è®¸å†™å…¥ï¼Œé«˜ç”µå¹³å…è®¸å†™å…¥ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;LED.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;SharedData.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">uint16_t</span> LD_state = <span class="number">0</span>;  <span class="comment">//è®°å½•LDå„ä½çŠ¶æ€</span></span><br><span class="line"><span class="type">uint16_t</span> LD_state_before = <span class="number">0</span>; </span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">LED_init</span><span class="params">(<span class="type">void</span>)</span>&#123;</span><br><span class="line">HAL_GPIO_WritePin(LD1_GPIO_Port,GPIO_PIN_All,GPIO_PIN_SET);</span><br><span class="line">HAL_GPIO_WritePin(LD_load_GPIO_Port,LD_load_Pin,GPIO_PIN_SET);</span><br><span class="line">HAL_GPIO_WritePin(LD_load_GPIO_Port,LD_load_Pin,GPIO_PIN_RESET);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">LED_lightLD</span><span class="params">(<span class="type">uint8_t</span> LDnum)</span>&#123;</span><br><span class="line"></span><br><span class="line">LD_state |= (LD1_Pin &lt;&lt; LDnum); <span class="comment">//å…¶ä»–ä½ä¸å˜ï¼Œéœ€è¦æ”¹å˜çš„ä½å˜ä¸º1</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">LED_closeLD</span><span class="params">(<span class="type">uint8_t</span> LDnum)</span>&#123; </span><br><span class="line"></span><br><span class="line">LD_state &amp;= ~(LD1_Pin &lt;&lt; LDnum); <span class="comment">//å…¶ä»–ä½ä¸å˜ï¼Œéœ€æ”¹å˜çš„ä½å˜ä¸º0</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">Call_ChangeLD</span><span class="params">(<span class="type">void</span>(*fc)(<span class="type">uint8_t</span>),<span class="type">uint8_t</span> LDnum)</span>&#123;</span><br><span class="line"></span><br><span class="line">LDnum -= <span class="number">1</span>;</span><br><span class="line">fc(LDnum);</span><br><span class="line"><span class="keyword">if</span>(LD_state_before != LD_state)&#123;</span><br><span class="line">HAL_GPIO_WritePin(LD_load_GPIO_Port,LD_load_Pin,GPIO_PIN_SET);</span><br><span class="line">HAL_GPIO_WritePin(LD1_GPIO_Port,GPIO_PIN_All,GPIO_PIN_SET);</span><br><span class="line">HAL_GPIO_WritePin(LD1_GPIO_Port,LD_state,GPIO_PIN_RESET);</span><br><span class="line">HAL_GPIO_WritePin(LD_load_GPIO_Port,LD_load_Pin,GPIO_PIN_RESET);</span><br><span class="line">LD_state_before = LD_state;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">LED_Fuc</span><span class="params">(<span class="type">void</span>)</span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(Read_Show_index(<span class="number">0</span>)) &#123;</span><br><span class="line">Call_ChangeLD(LED_closeLD,<span class="number">1</span>);</span><br><span class="line">Call_ChangeLD(LED_lightLD,<span class="number">2</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">Call_ChangeLD(LED_closeLD,<span class="number">2</span>);</span><br><span class="line">Call_ChangeLD(LED_lightLD,<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(Read_Show_index(<span class="number">1</span>))&#123;</span><br><span class="line">Call_ChangeLD(LED_lightLD,<span class="number">8</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> Call_ChangeLD(LED_closeLD,<span class="number">8</span>);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ä¸²å£é‡å®šå‘ä¸æ•°æ®å¤„ç†"><a class="markdownIt-Anchor" href="#ä¸²å£é‡å®šå‘ä¸æ•°æ®å¤„ç†"></a> ä¸²å£é‡å®šå‘ä¸æ•°æ®å¤„ç†</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> BUFFER_SIZE 50</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> CMDNUM 6</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">TF1</span><span class="params">(<span class="type">void</span>)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">TF2</span><span class="params">(<span class="type">void</span>)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">PF1</span><span class="params">(<span class="type">void</span>)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">PF2</span><span class="params">(<span class="type">void</span>)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">returnF1</span><span class="params">(<span class="type">void</span>)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">returnF2</span><span class="params">(<span class="type">void</span>)</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">char</span> rx_DataBuffer[BUFFER_SIZE] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line"><span class="type">char</span> tx_DataBuffer[BUFFER_SIZE] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line"><span class="type">char</span> cmd[BUFFER_SIZE] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="type">uint16_t</span> tx_len = <span class="number">0</span>;  <span class="comment">// å½“å‰ç¼“å†²åŒºæ•°æ®é•¿åº¦</span></span><br><span class="line"><span class="type">uint8_t</span> tx_busy = <span class="number">0</span>;  <span class="comment">// å‘é€çŠ¶æ€æ ‡å¿—</span></span><br><span class="line"></span><br><span class="line"><span class="type">uint8_t</span> rx_handle = <span class="number">0</span>; <span class="comment">//å¤„ç†æ¥æ”¶æ•°æ®æ ‡å¿—</span></span><br><span class="line"><span class="type">uint8_t</span> rx_len = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span>&#123;</span></span><br><span class="line">    <span class="type">uint8_t</span>* cmd_str;</span><br><span class="line">    <span class="type">void</span> (*fc)();</span><br><span class="line">&#125;cmdinfo;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">cmdinfo cmdlist[] = &#123;</span><br><span class="line">    &#123;<span class="string">&quot;TF1&quot;</span>,TF1&#125;,</span><br><span class="line">    &#123;<span class="string">&quot;TF2&quot;</span>,TF2&#125;,</span><br><span class="line">    &#123;<span class="string">&quot;PF1&quot;</span>,PF1&#125;,</span><br><span class="line">    &#123;<span class="string">&quot;PF2&quot;</span>,PF2&#125;,</span><br><span class="line">    &#123;<span class="string">&quot;F1&quot;</span>,returnF1&#125;,</span><br><span class="line">    &#123;<span class="string">&quot;F2&quot;</span>,returnF2&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">TheUART_start</span><span class="params">(<span class="type">void</span>)</span>&#123;</span><br><span class="line">    HAL_UARTEx_ReceiveToIdle_DMA(&amp;huart1,(<span class="type">uint8_t</span>*)rx_DataBuffer,<span class="number">0x0f</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">TheUART_dma_transmit</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// å¦‚æœ DMA è¿˜åœ¨å¿™ï¼Œåˆ™ä¸å¯åŠ¨æ–°çš„ä¼ è¾“</span></span><br><span class="line">    <span class="keyword">if</span> (tx_busy) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    tx_busy = <span class="number">1</span>;  <span class="comment">// æ ‡è®°ä¸ºå‘é€ä¸­</span></span><br><span class="line">    HAL_UART_Transmit_DMA(&amp;huart1,(<span class="type">uint8_t</span>*)tx_DataBuffer,tx_len<span class="number">-1</span>);<span class="comment">//-1ä¸ºäº†é˜²æ­¢å‚»é€¼çƒ‚æ¡¥æ¯çš„éªŒè¯ç¨‹åºä¸é€šè¿‡</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">fputc</span><span class="params">(<span class="type">int</span> ch, FILE *f)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// ç¡®ä¿ç¼“å†²åŒºä¸ä¼šæº¢å‡º</span></span><br><span class="line">    <span class="keyword">if</span> (tx_len &lt; BUFFER_SIZE - <span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        tx_DataBuffer[tx_len++] = (<span class="type">uint8_t</span>)ch;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¦‚æœé‡åˆ°æ¢è¡Œç¬¦ï¼Œæˆ–è€…ç¼“å†²åŒºæ¥è¿‘æ»¡ï¼Œå°±å¯åŠ¨ DMA å‘é€</span></span><br><span class="line">    <span class="comment">// æ³¨æ„å’¯ï¼Œå¦‚æœç¼“å†²åŒºæ²¡æ»¡çš„æƒ…å†µä¸‹ï¼Œåªæœ‰æ£€æµ‹åˆ°/næ‰ä¼šè§¦å‘DMAçš„å‘é€ã€‚æ‰€ä»¥åœ¨ç¼“</span></span><br><span class="line">    <span class="comment">// å†²åŒºæ²¡æ»¡çš„æƒ…å†µä¸‹ï¼Œå¦‚æœä½ æƒ³è¦å‘é€å­—ç¬¦ä¸²&quot;abc&quot;ï¼Œprintf(&quot;abc&quot;)æ˜¯æ²¡ç”¨çš„ï¼Œ</span></span><br><span class="line">    <span class="comment">// printf(&quot;abc\n&quot;)æ‰æœ‰ç”¨å“¦ã€‚</span></span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (ch == <span class="string">&#x27;\n&#x27;</span> || tx_len &gt;= BUFFER_SIZE - <span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        TheUART_dma_transmit();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> ch;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">TheUART_HandleRxdata</span><span class="params">(<span class="type">void</span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(rx_handle == <span class="number">1</span>)&#123;</span><br><span class="line"></span><br><span class="line">        <span class="type">uint8_t</span> i = <span class="number">0</span>;</span><br><span class="line">        <span class="built_in">strcpy</span>(cmd,rx_DataBuffer);</span><br><span class="line">        cmd[rx_len] = <span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line">        <span class="keyword">if</span>(!Read_Show_index(<span class="number">1</span>))&#123;</span><br><span class="line">            other();</span><br><span class="line">            rx_len = <span class="number">0</span>;</span><br><span class="line">            rx_handle = <span class="number">0</span>;</span><br><span class="line">            TheUART_start();</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(i = <span class="number">0</span>;i &lt; CMDNUM;i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(<span class="built_in">strcmp</span>((<span class="type">const</span> <span class="type">char</span>*)cmd,(<span class="type">const</span> <span class="type">char</span>*)cmdlist[i].cmd_str) == <span class="number">0</span>)&#123;</span><br><span class="line">                cmdlist[i].fc();</span><br><span class="line">                rx_len = <span class="number">0</span>;</span><br><span class="line">                rx_handle = <span class="number">0</span>;</span><br><span class="line">                TheUART_start();</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        other();</span><br><span class="line">        rx_len = <span class="number">0</span>;</span><br><span class="line">        rx_handle = <span class="number">0</span>;</span><br><span class="line">        TheUART_start();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å‘½ä»¤å‡½æ•°</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">TF1</span><span class="params">(<span class="type">void</span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">TF2</span><span class="params">(<span class="type">void</span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">PF1</span><span class="params">(<span class="type">void</span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">PF2</span><span class="params">(<span class="type">void</span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">returnF1</span><span class="params">(<span class="type">void</span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">returnF2</span><span class="params">(<span class="type">void</span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">other</span><span class="params">(<span class="type">void</span>)</span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä¸­æ–­</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">HAL_UART_TxCpltCallback</span><span class="params">(UART_HandleTypeDef *huart)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(huart-&gt;Instance == USART1)  <span class="comment">// ç¡®ä¿æ˜¯ç›®æ ‡ä¸²å£</span></span><br><span class="line">    &#123;</span><br><span class="line">        tx_len = <span class="number">0</span>;  <span class="comment">// æ¸…ç©ºç¼“å†²åŒº</span></span><br><span class="line">        tx_busy = <span class="number">0</span>; <span class="comment">// æ ‡è®°ä¸ºå¯ç”¨</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">HAL_UARTEx_RxEventCallback</span><span class="params">(UART_HandleTypeDef *huart, <span class="type">uint16_t</span> Size)</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(huart-&gt;Instance == USART1)&#123;</span><br><span class="line">        rx_len = Size;</span><br><span class="line">        rx_handle = <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="adcä½¿ç”¨å®šæ—¶å™¨trgoä¿¡å·è§¦å‘adcè½¬æ¢"><a class="markdownIt-Anchor" href="#adcä½¿ç”¨å®šæ—¶å™¨trgoä¿¡å·è§¦å‘adcè½¬æ¢"></a> ADCï¼šä½¿ç”¨å®šæ—¶å™¨TRGOä¿¡å·è§¦å‘ADCè½¬æ¢</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">double</span> ADC_Data = .<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">ADCFuc_Init</span><span class="params">(ADC_HandleTypeDef *hadc)</span>&#123;</span><br><span class="line">    HAL_ADCEx_Calibration_Start(hadc,ADC_SINGLE_ENDED);<span class="comment">//æ ¡å‡†</span></span><br><span class="line">    HAL_ADC_Start_IT(hadc);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">char</span> <span class="title function_">ADCFuc_ReturnResult</span><span class="params">(<span class="type">void</span>)</span>&#123;</span><br><span class="line">    <span class="type">double</span> result = ADC_Data;</span><br><span class="line">    result = (result / <span class="number">4095.0</span>) * <span class="number">3.3</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//ä¸­æ–­-------------------------------------------------------------//</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">HAL_ADC_ConvCpltCallback</span><span class="params">(ADC_HandleTypeDef *hadc)</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span>(hadc-&gt;Instance == ADC2)&#123;</span><br><span class="line">        ADC_Data = HAL_ADC_GetValue(&amp;hadc2);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="at24c02"><a class="markdownIt-Anchor" href="#at24c02"></a> at24c02</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">include <span class="string">&quot;i2c_hal.h&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> COMMAND_W   0xA0</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> COMMAND_R   0xA1</span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">at24c02_Init</span><span class="params">(<span class="type">void</span>)</span>&#123;</span><br><span class="line">    I2CInit();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/// @brief at24c02å†™æ•°æ®</span></span><br><span class="line"><span class="comment">/// @param address è¦å†™å…¥çš„åœ°å€</span></span><br><span class="line"><span class="comment">/// @param data è¦å†™å…¥çš„æ•°æ®</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">at24c02_Write</span><span class="params">(<span class="type">uint8_t</span> address,<span class="type">uint8_t</span> data)</span>&#123;</span><br><span class="line">    </span><br><span class="line">    I2CStart();</span><br><span class="line"></span><br><span class="line">    I2CSendByte(COMMAND_W);</span><br><span class="line">    I2CWaitAck();</span><br><span class="line"></span><br><span class="line">    I2CSendByte(address);</span><br><span class="line">    I2CWaitAck();</span><br><span class="line"></span><br><span class="line">    I2CSendByte(data);</span><br><span class="line">    I2CWaitAck(); </span><br><span class="line"></span><br><span class="line">    I2CStop();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/// @brief at24c02è¯»æ•°æ®</span></span><br><span class="line"><span class="comment">/// @param address è¦è¯»æ•°æ®çš„åœ°å€</span></span><br><span class="line"><span class="comment">/// @return è¯»å‡ºçš„æ•°æ®</span></span><br><span class="line"><span class="type">uint8_t</span> <span class="title function_">at24c02_Read</span><span class="params">(<span class="type">uint8_t</span> address)</span>&#123;</span><br><span class="line">    <span class="type">uint8_t</span> data = <span class="number">0</span>;</span><br><span class="line">    I2CStart();</span><br><span class="line"></span><br><span class="line">    I2CSendByte(COMMAND_W);</span><br><span class="line">    I2CWaitAck();</span><br><span class="line"></span><br><span class="line">    I2CSendByte(address);</span><br><span class="line">    I2CWaitAck();</span><br><span class="line"></span><br><span class="line">    I2CStart();<span class="comment">//ä¸é‡Šæ”¾æ€»çº¿çš„æƒ…å†µä¸‹é‡å¯é€šä¿¡ï¼Œå‘é€è¯»å‘½ä»¤ã€‚</span></span><br><span class="line"></span><br><span class="line">    I2CSendByte(COMMAND_R);</span><br><span class="line">    I2CWaitAck();</span><br><span class="line"></span><br><span class="line">    data = I2CReceiveByte();</span><br><span class="line">    I2CSendNotAck();<span class="comment">//é€šçŸ¥ä»æœºä¸å†å‘é€æ•°æ®</span></span><br><span class="line"></span><br><span class="line">    I2CStop();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> data;</span><br><span class="line">&#125;   </span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="éŸ©ä¿¡åœ¨å¹²å˜›éŸ©ä¿¡åœ¨å·å¡”èƒ½åšåˆ°å—å“‡ä»–å‡ºäº†ä¸€ä¸ªååˆ€å¸å‘½çŒ«é›·"><a class="markdownIt-Anchor" href="#éŸ©ä¿¡åœ¨å¹²å˜›éŸ©ä¿¡åœ¨å·å¡”èƒ½åšåˆ°å—å“‡ä»–å‡ºäº†ä¸€ä¸ªååˆ€å¸å‘½çŒ«é›·"></a> éŸ©ä¿¡åœ¨å¹²å˜›ï¼ŸéŸ©ä¿¡åœ¨å·å¡”ï¼èƒ½åšåˆ°å—ï¼Ÿå“‡ä»–å‡ºäº†ä¸€ä¸ªååˆ€Â·å¸å‘½ï¼çŒ«é›·ï¼</h2><p>æŒ‚ä¸€å¼ æ¢¦è€å¸ˆä¿ä½‘ï¼<br /><img src="https://tiebapic.baidu.com/forum/w%3D580%3B/sign=770517cb7fdbb6fd255be52e391faa18/8326cffc1e178a829fdedc90b003738da977e824.jpg?tbpicau=2025-04-12-05_1fd40d1758be922db3d2562ec3e230c3" alt="" /></p>]]></content>
      
      
      <categories>
          
          <category> åµŒå…¥å¼ </category>
          
          <category> ç¨‹åºæ¶æ„ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> è“æ¡¥æ¯ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexoä¸»é¢˜Klise-enhancedä½¿ç”¨æ–‡æ¡£</title>
      <link href="/posts/20333/"/>
      <url>/posts/20333/</url>
      
        <content type="html"><![CDATA[<details><summary>ç‰ˆæƒä¿¡æ¯</summary><p>:::warning</p><p>æœ¬æ–‡ç« ä¸ºåšä¸»åŸåˆ›æ–‡ç« ã€‚éµå¾ª <a href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh-hans">CC 4.0 BY-SA</a> ç‰ˆæƒåè®®ï¼Œè½¬è½½è¯·é™„ä¸ŠåŸæ–‡å‡ºå¤„é“¾æ¥å’Œæœ¬å£°æ˜ã€‚</p><p>:::</p></details><hr /><h2 id="è¯´æ˜"><a class="markdownIt-Anchor" href="#è¯´æ˜"></a> è¯´æ˜</h2><p>æœ¬ä¸»é¢˜æ˜¯æ ¹æ®dewjonhçš„hexoä¸»é¢˜<a href="https://github.com/dewjohn/hexo-theme-Klise">Klise</a>æ”¹çš„ï¼Œæˆ‘éå¸¸å–œæ¬¢è¿™æ¬¾ä¸»é¢˜ï¼Œä½†æ˜¯ç”±äºæ­¤ä¸»é¢˜åŸä½œè€…å¥½åƒä¸å†ç»´æŠ¤ï¼Œå¯¹hexoçš„ç°ç‰ˆæœ¬ï¼ˆ2024ï¼‰çš„é€‚é…ä¸å¤ªå¥½ï¼Œäºæ˜¯ä¾¿è‡ªå·±ä¿®ä¿®è¡¥è¡¥ç”¨ç€ğŸ™‚ä½†æ˜¯ç”±äºæˆ‘æ²¡æœ‰å¤ªå¤šçš„ç²¾åŠ›åˆ†é…åœ¨å‰ç«¯ä¸Šï¼Œæ‰€ä»¥æœ‰äº›ä»£ç å¯èƒ½æœ‰äº›ä¸ä¸“ä¸šï¼Œå¸Œæœ›å„ä½å¤§ä½¬è§è°…å¹¶æŒ‡æ­£ã€‚å½“ç„¶å¦‚æœæœ‰ä»»ä½•bugè¯·å°½ç®¡issueï¼Œæˆ‘ä¼šå°½åŠ›ä¿®å¤ï¼</p><h2 id="ä¸»é¢˜æ¦‚è§ˆ"><a class="markdownIt-Anchor" href="#ä¸»é¢˜æ¦‚è§ˆ"></a> ä¸»é¢˜æ¦‚è§ˆ</h2><p><img src="Snipaste_2025-04-06_15-26-39.png" alt="" /></p><p><img src="Snipaste_2025-04-06_15-27-19.png" alt="" /></p><p><img src="Snipaste_2025-04-06_15-27-54.png" alt="" /></p><p>ä½ å¯ä»¥æŸ¥çœ‹<a href="https://im.godmao.top/">demo</a>æˆ–<a href="https://im.godmao.top/">æˆ‘çš„åšå®¢</a>æ¥é˜…è§ˆä¸»é¢˜æ•ˆæœã€‚</p><h2 id="ç›¸è¾ƒäºåŸç‰ˆæœ‰ä½•æ”¹åŠ¨"><a class="markdownIt-Anchor" href="#ç›¸è¾ƒäºåŸç‰ˆæœ‰ä½•æ”¹åŠ¨"></a> ç›¸è¾ƒäºåŸç‰ˆæœ‰ä½•æ”¹åŠ¨</h2><ul><li>ğŸ˜¢æŠŠscsså…¨ç¼–è¯‘ä¸ºcssäº†ï¼Œåªæœ‰ä¸€ä¸ªmain.cssæ–‡ä»¶ï¼ŒåŒ…å«äº†æ‰€æœ‰çš„æ¸²æŸ“æ ·å¼â€¦ä¸è¿‡ä¸ç”¨æ‹…å¿ƒæˆ‘æ³¨é‡Šäº†å˜»å˜»ğŸ¤“</li><li>å°†åŸä¸»é¢˜çš„æ·±è‰²æ¨¡å¼è¿›ä¸€æ­¥é€‚é…ï¼Œå¹¶ä¿®æ”¹äº†ä¸€äº›å…ƒç´ çš„æ˜¾ç¤ºé£æ ¼ã€‚</li></ul><h2 id="ä½¿ç”¨æ–¹æ³•"><a class="markdownIt-Anchor" href="#ä½¿ç”¨æ–¹æ³•"></a> ä½¿ç”¨æ–¹æ³•</h2><h3 id="é¦–å…ˆ"><a class="markdownIt-Anchor" href="#é¦–å…ˆ"></a> é¦–å…ˆï¼Œ</h3><p>ä½ éœ€è¦ä¸‹è½½ä¸€ä¸ªå­—æ•°ç»Ÿè®¡æ’ä»¶:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-wordcount --save</span><br></pre></td></tr></table></figure><p>å¦‚æœä¸æƒ³è¦ä¸‹è½½æˆ–æ— æ³•ä¸‹è½½æˆåŠŸï¼Œä½ ä¹Ÿå¯ä»¥æ”¾å¼ƒå­—æ•°ç»Ÿè®¡åŠŸèƒ½ã€‚å‰å¾€ä¸»é¢˜æ–‡ä»¶å¤¹ä¸‹çš„<code>layout\post.ejs</code>åˆ é™¤</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">å­—æ•°: &lt;span class=&quot;post-count&quot;&gt;&lt;%= wordcount(page.content) %&gt;&lt;/span&gt;</span><br><span class="line"></span><br><span class="line">é¢„è®¡é˜…è¯»æ—¶é—´: &lt;span class=&quot;post-count&quot;&gt;&lt;%= min2read(page.content) %&gt;min&lt;/span&gt;</span><br></pre></td></tr></table></figure><p>ä¸¤è¡Œã€‚</p><h3 id="ç„¶å"><a class="markdownIt-Anchor" href="#ç„¶å"></a> ç„¶åï¼Œ</h3><p>å®‰è£…ä¸»é¢˜æ–‡ä»¶</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/g0dmao/hexo-theme-Klise-enhanced.git</span><br></pre></td></tr></table></figure><p>å°†ä¸»é¢˜æ ¹ç›®å½•çš„<code>_config.hexo-theme-Klise-enhanced.yml</code>ç§»åŠ¨åˆ°åšå®¢æ ¹ç›®å½•ã€‚ä½ å¯ä»¥æ‰“å¼€è¯¥æ–‡ä»¶è¿›è¡Œä¸»é¢˜çš„ä¸€äº›é…ç½®ã€‚</p><p>åœ¨åšå®¢é…ç½®æ–‡ä»¶<code>_config.yml</code>ä¸­å¯ç”¨ä¸»é¢˜ã€‚</p><h3 id="æœ€å"><a class="markdownIt-Anchor" href="#æœ€å"></a> æœ€åï¼Œ</h3><p>enjoyï¼</p><h2 id="ä¸ªæ€§åŒ–éƒ¨åˆ†"><a class="markdownIt-Anchor" href="#ä¸ªæ€§åŒ–éƒ¨åˆ†"></a> ä¸ªæ€§åŒ–éƒ¨åˆ†</h2><h3 id="è‡ªå®šä¹‰èƒŒæ™¯"><a class="markdownIt-Anchor" href="#è‡ªå®šä¹‰èƒŒæ™¯"></a> è‡ªå®šä¹‰èƒŒæ™¯</h3><p>æ‰“å¼€ä¸»é¢˜æ–‡ä»¶å¤¹ä¸‹çš„<code>source\css\main.css</code>åœ¨å¤´éƒ¨ä¿®æ”¹ï¼Œå¯ä»¥è‡ªå®šä¹‰æ˜æš—æ¨¡å¼ä¸‹ä¸åŒçš„èƒŒæ™¯ï¼Œå·²åšå¥½æ³¨é‡Šã€‚</p><h3 id="å½“ç½‘é¡µå¤±å»ç„¦ç‚¹æ—¶æ ‡ç­¾é¡µæ ‡é¢˜çš„æ˜¾ç¤ºæ–‡å­—"><a class="markdownIt-Anchor" href="#å½“ç½‘é¡µå¤±å»ç„¦ç‚¹æ—¶æ ‡ç­¾é¡µæ ‡é¢˜çš„æ˜¾ç¤ºæ–‡å­—"></a> å½“ç½‘é¡µå¤±å»ç„¦ç‚¹æ—¶æ ‡ç­¾é¡µæ ‡é¢˜çš„æ˜¾ç¤ºæ–‡å­—</h3><p>æ‰“å¼€ä¸»é¢˜æ–‡ä»¶å¤¹ä¸‹çš„<code>layout\layout.ejs</code> ä¿®æ”¹document.titleå³å¯ã€‚</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">defer</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">Â  <span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;visibilitychange&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">Â  <span class="keyword">if</span> (<span class="variable language_">document</span>.<span class="property">visibilityState</span> == <span class="string">&#x27;hidden&#x27;</span>) &#123;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">Â  Â  Â  normal_title = <span class="variable language_">document</span>.<span class="property">title</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">Â  Â  Â  <span class="variable language_">document</span>.<span class="property">title</span> = <span class="string">&#x27;ç‚¹ä¸€ä¸‹&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">Â  &#125; <span class="keyword">else</span> <span class="variable language_">document</span>.<span class="property">title</span> = normal_title;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">&#125;);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="å¯é€‰"><a class="markdownIt-Anchor" href="#å¯é€‰"></a> å¯é€‰</h3><p>ä½ å¯ä»¥å®‰è£…å¦‚ä¸‹æ’ä»¶è·å¾—æ›´å¥½çš„æµè§ˆä½“éªŒã€‚</p><h4 id="hexo-renderer-markdown-it-plus"><a class="markdownIt-Anchor" href="#hexo-renderer-markdown-it-plus"></a> hexo-renderer-markdown-it-plus</h4><p>ä¸ä½¿ç”¨è‡ªå¸¦çš„mdæ¸²æŸ“å™¨ã€‚ä½¿ç”¨markdown-itæ¸²æŸ“å™¨ï¼Œä¸°å¯Œçš„æ’ä»¶æä¾›æ›´å¥½çš„mdæµè§ˆä½“éªŒã€‚</p><h4 id="hexo-tips"><a class="markdownIt-Anchor" href="#hexo-tips"></a> hexo-tips</h4><p>åœ¨æ–‡ç« ä¸­ç”Ÿæˆå„ç§æç¤ºå¡ç‰‡ï¼Œæ­¤ä¸»é¢˜å·²åšå¥½é€‚é…ã€‚</p><h4 id="hexo-blog-encrypt"><a class="markdownIt-Anchor" href="#hexo-blog-encrypt"></a> hexo-blog-encrypt</h4><p>æ–‡ç« åŠ å¯†æ’ä»¶ã€‚</p><h2 id="å¯èƒ½çš„é—®é¢˜"><a class="markdownIt-Anchor" href="#å¯èƒ½çš„é—®é¢˜"></a> å¯èƒ½çš„é—®é¢˜</h2><h3 id="tags-categoriesé¡µé¢æ˜¾ç¤ºä¸æ­£ç¡®"><a class="markdownIt-Anchor" href="#tags-categoriesé¡µé¢æ˜¾ç¤ºä¸æ­£ç¡®"></a> tagsã€categoriesé¡µé¢æ˜¾ç¤ºä¸æ­£ç¡®</h3><p>é¦–å…ˆæ£€æŸ¥é¡µé¢çš„è·¯å¾„è®¾ç½®æ˜¯å¦æ­£ç¡®ã€‚è‹¥æ­£ç¡®åˆ™è¯•ç€åœ¨ç›¸åº”é¡µé¢çš„<code>index.md</code> é‡Œæ·»åŠ typeå’Œlayoutæ ‡ç­¾ï¼š<br /><img src="Snipaste_2025-04-06_16-18-33.png" alt="" /><br />tagsé¡µé¢ typeã€layout ä¸ºtagsã€‚<br />categoriesé¡µé¢ typeã€layout ä¸º categoriesã€‚</p>]]></content>
      
      
      <categories>
          
          <category> webå‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç½‘é¡µ </tag>
            
            <tag> hexoä¸»é¢˜ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä»cåº•å±‚åˆ°åµŒå…¥å¼é©±åŠ¨å¼€å‘çš„å­¦ä¹ å‚è€ƒè·¯çº¿</title>
      <link href="/posts/25619/"/>
      <url>/posts/25619/</url>
      
        <content type="html"><![CDATA[<details><summary>ç‰ˆæƒä¿¡æ¯</summary><p>:::warning</p><p>æœ¬æ–‡ç« ä¸ºåšä¸»åŸåˆ›æ–‡ç« ã€‚éµå¾ª <a href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh-hans">CC 4.0 BY-SA</a> ç‰ˆæƒåè®®ï¼Œè½¬è½½è¯·é™„ä¸ŠåŸæ–‡å‡ºå¤„é“¾æ¥å’Œæœ¬å£°æ˜ã€‚</p><p>:::</p></details><hr /><p>ä»¥ä¸‹æ˜¯ä¸“ä¸º <strong>åµŒå…¥å¼Linuxé©±åŠ¨å¼€å‘å·¥ç¨‹å¸ˆ</strong> è®¾è®¡çš„ <strong>å­¦ä¹ è·¯çº¿</strong>ï¼Œæ•´åˆäº†ç›®æ ‡ã€é‡ç‚¹ã€æ—¶é—´åˆ†é…ã€ä¹¦ç±æ¨èå’Œå®æˆ˜å»ºè®®ï¼ŒåŠ›æ±‚æ¸…æ™°é«˜æ•ˆã€‚ç”±<code>deepseekR1</code>ç”Ÿæˆã€‚</p><hr /><h3 id="ä¸€-å­¦ä¹ è·¯çº¿æ€»å›¾"><a class="markdownIt-Anchor" href="#ä¸€-å­¦ä¹ è·¯çº¿æ€»å›¾"></a> <strong>ä¸€ã€å­¦ä¹ è·¯çº¿æ€»å›¾</strong></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">graph LR</span><br><span class="line">  A[Cè¯­è¨€+ç¡¬ä»¶] --&gt; B[æ“ä½œç³»ç»Ÿ+é©±åŠ¨åŸºç¡€] --&gt; C[é©±åŠ¨ä¸“é¡¹+å†…æ ¸æœºåˆ¶] --&gt; D[å®æˆ˜æ·±åŒ–]</span><br></pre></td></tr></table></figure><hr /><h3 id="äºŒ-åˆ†é˜¶æ®µè¯¦è§£"><a class="markdownIt-Anchor" href="#äºŒ-åˆ†é˜¶æ®µè¯¦è§£"></a> <strong>äºŒã€åˆ†é˜¶æ®µè¯¦è§£</strong></h3><h4 id="é˜¶æ®µ1cè¯­è¨€ä¸ç¡¬ä»¶äº¤äº’1-2ä¸ªæœˆ"><a class="markdownIt-Anchor" href="#é˜¶æ®µ1cè¯­è¨€ä¸ç¡¬ä»¶äº¤äº’1-2ä¸ªæœˆ"></a> <strong>é˜¶æ®µ1ï¼šCè¯­è¨€ä¸ç¡¬ä»¶äº¤äº’ï¼ˆ1-2ä¸ªæœˆï¼‰</strong></h4><p><strong>ç›®æ ‡</strong>ï¼š</p><ul><li>æŒæ¡Cè¯­è¨€åº•å±‚æ“ä½œèƒ½åŠ›ï¼Œç†è§£ç¨‹åºå¦‚ä½•ç›´æ¥æ§åˆ¶ç¡¬ä»¶ã€‚</li></ul><p><strong>æ ¸å¿ƒå†…å®¹</strong>ï¼š</p><table><thead><tr><th><strong>çŸ¥è¯†ç‚¹</strong></th><th><strong>å¿…è¦ç¨‹åº¦</strong></th><th><strong>æ·±å…¥ç¨‹åº¦</strong></th><th><strong>æ¨èä¹¦ç±/èµ„æº</strong></th></tr></thead><tbody><tr><td>æŒ‡é’ˆä¸å†…å­˜ç®¡ç†</td><td>â˜…â˜…â˜…â˜…â˜…</td><td>ç†è§£å†…å­˜å¸ƒå±€</td><td>ã€ŠCç¨‹åºè®¾è®¡è¯­è¨€ã€‹ï¼ˆK&amp;Rï¼‰</td></tr><tr><td>ç»“æ„ä½“ä¸ä½æ“ä½œ</td><td>â˜…â˜…â˜…â˜…â˜†</td><td>èƒ½æ“ä½œå¯„å­˜å™¨</td><td>ã€ŠåµŒå…¥å¼Cè¯­è¨€è‡ªæˆ‘ä¿®å…»ã€‹</td></tr><tr><td>æ±‡ç¼–åŸºç¡€</td><td>â˜…â˜…â˜…â˜†â˜†</td><td>é˜…è¯»ç®€å•æ±‡ç¼–</td><td>ã€ŠARM Cortex-Mæƒå¨æŒ‡å—ã€‹</td></tr><tr><td>ç¼–è¯‘æµç¨‹ï¼ˆGCCï¼‰</td><td>â˜…â˜…â˜…â˜…â˜†</td><td>ç†Ÿæ‚‰é¢„å¤„ç†-é“¾æ¥</td><td>CSAPPç¬¬3ç« </td></tr><tr><td>ç¡¬ä»¶äº¤äº’ï¼ˆGPIOï¼‰</td><td>â˜…â˜…â˜…â˜…â˜†</td><td>è£¸æœºç¨‹åºå¼€å‘</td><td>STM32å®˜æ–¹æ‰‹å†Œ</td></tr></tbody></table><p><strong>å®è·µé¡¹ç›®</strong>ï¼š</p><ol><li>ç”¨STM32ç›´æ¥æ“ä½œå¯„å­˜å™¨ç‚¹äº®LEDï¼ˆæ— éœ€åº“å‡½æ•°ï¼‰ã€‚</li><li>ç”¨Cå®ç°å†…å­˜æ± åˆ†é…å™¨ï¼ˆæ¨¡æ‹Ÿ<code>malloc/free</code>ï¼‰ã€‚</li></ol><p><strong>å·¥å…·</strong>ï¼š</p><ul><li><strong>STM32CubeIDE</strong>ï¼šè°ƒè¯•è£¸æœºç¨‹åºã€‚</li><li><strong>objdump</strong>ï¼šåæ±‡ç¼–æŸ¥çœ‹ä»£ç ç”Ÿæˆã€‚</li></ul><p><strong>å¯¹Linuxçš„ç”¨å¤„</strong>ï¼š</p><ul><li>ç†è§£é©±åŠ¨ä¸­ <strong>å¯„å­˜å™¨æ˜ å°„</strong>ï¼ˆå¦‚<code>ioremap</code>ï¼‰ã€‚</li><li>è¯Šæ–­ <strong>å†…å­˜è¶Šç•Œ</strong> å’Œ <strong>ç¡¬ä»¶è®¿é—®é”™è¯¯</strong>ã€‚</li></ul><hr /><h4 id="é˜¶æ®µ2æ“ä½œç³»ç»Ÿæ ¸å¿ƒé©±åŠ¨åŸºç¡€2-3ä¸ªæœˆ"><a class="markdownIt-Anchor" href="#é˜¶æ®µ2æ“ä½œç³»ç»Ÿæ ¸å¿ƒé©±åŠ¨åŸºç¡€2-3ä¸ªæœˆ"></a> <strong>é˜¶æ®µ2ï¼šæ“ä½œç³»ç»Ÿæ ¸å¿ƒ+é©±åŠ¨åŸºç¡€ï¼ˆ2-3ä¸ªæœˆï¼‰</strong></h4><p><strong>ç›®æ ‡</strong>ï¼š</p><ul><li>ç†è§£æ“ä½œç³»ç»Ÿæ ¸å¿ƒæœºåˆ¶ï¼Œå…¥é—¨Linuxé©±åŠ¨å¼€å‘ã€‚</li></ul><p><strong>æ ¸å¿ƒå†…å®¹</strong>ï¼š</p><table><thead><tr><th><strong>çŸ¥è¯†ç‚¹</strong></th><th><strong>å¿…è¦ç¨‹åº¦</strong></th><th><strong>æ·±å…¥ç¨‹åº¦</strong></th><th><strong>æ¨èä¹¦ç±/èµ„æº</strong></th></tr></thead><tbody><tr><td>è¿›ç¨‹ä¸çº¿ç¨‹</td><td>â˜…â˜…â˜…â˜†â˜†</td><td>ç†è§£ä¸Šä¸‹æ–‡åˆ‡æ¢</td><td>ã€Šæ“ä½œç³»ç»Ÿå¯¼è®ºã€‹ï¼ˆOSTEPï¼‰</td></tr><tr><td>è™šæ‹Ÿå†…å­˜</td><td>â˜…â˜…â˜…â˜…â˜†</td><td>é¡µè¡¨å·¥ä½œåŸç†</td><td>ã€Šæ·±å…¥ç†è§£è®¡ç®—æœºç³»ç»Ÿã€‹ç¬¬9ç« </td></tr><tr><td>ä¸­æ–­ä¸å¼‚å¸¸</td><td>â˜…â˜…â˜…â˜…â˜†</td><td>ä¸­æ–­å¤„ç†æµç¨‹</td><td>ã€ŠLinuxè®¾å¤‡é©±åŠ¨ç¨‹åºã€‹ï¼ˆLDD3ï¼‰</td></tr><tr><td>å†…æ ¸æ¨¡å—å¼€å‘</td><td>â˜…â˜…â˜…â˜…â˜…</td><td>å­—ç¬¦è®¾å¤‡é©±åŠ¨</td><td>LDD3ç¬¬3ç« </td></tr><tr><td>è®¾å¤‡æ ‘ï¼ˆDTï¼‰</td><td>â˜…â˜…â˜…â˜…â˜†</td><td>è§£æç¡¬ä»¶é…ç½®</td><td>å†…æ ¸æ–‡æ¡£ã€ŠDevice Tree Usageã€‹</td></tr></tbody></table><p><strong>å®è·µé¡¹ç›®</strong>ï¼š</p><ol><li>ç¼–å†™è™šæ‹Ÿå­—ç¬¦è®¾å¤‡é©±åŠ¨ï¼ˆå®ç°<code>read</code>/<code>write</code>ï¼‰ã€‚</li><li>ä¸ºLEDé©±åŠ¨æ·»åŠ è®¾å¤‡æ ‘æ”¯æŒï¼ˆ<code>.dts</code>æ–‡ä»¶é…ç½®ï¼‰ã€‚</li></ol><p><strong>å·¥å…·</strong>ï¼š</p><ul><li><strong>QEMU</strong>ï¼šæ¨¡æ‹ŸARMè®¾å¤‡è¿è¡ŒLinuxã€‚</li><li><strong>dmesg</strong>ï¼šæŸ¥çœ‹å†…æ ¸æ—¥å¿—ã€‚</li></ul><p><strong>å¯¹Linuxçš„ç”¨å¤„</strong>ï¼š</p><ul><li>æŒæ¡é©±åŠ¨å¼€å‘æ¡†æ¶ï¼ˆ<code>file_operations</code>ï¼‰ã€‚</li><li>ç†è§£ <strong>è®¾å¤‡æ ‘</strong> å¦‚ä½•è§£è€¦ç¡¬ä»¶é…ç½®ã€‚</li></ul><hr /><h4 id="é˜¶æ®µ3é©±åŠ¨ä¸“é¡¹å†…æ ¸æœºåˆ¶3-6ä¸ªæœˆ"><a class="markdownIt-Anchor" href="#é˜¶æ®µ3é©±åŠ¨ä¸“é¡¹å†…æ ¸æœºåˆ¶3-6ä¸ªæœˆ"></a> <strong>é˜¶æ®µ3ï¼šé©±åŠ¨ä¸“é¡¹+å†…æ ¸æœºåˆ¶ï¼ˆ3-6ä¸ªæœˆï¼‰</strong></h4><p><strong>ç›®æ ‡</strong>ï¼š</p><ul><li>ç²¾é€šä¸»æµé©±åŠ¨å¼€å‘æŠ€æœ¯ï¼Œæ·±å…¥å†…æ ¸æ ¸å¿ƒæœºåˆ¶ã€‚</li></ul><p><strong>æ ¸å¿ƒå†…å®¹</strong>ï¼š</p><table><thead><tr><th><strong>çŸ¥è¯†ç‚¹</strong></th><th><strong>å¿…è¦ç¨‹åº¦</strong></th><th><strong>æ·±å…¥ç¨‹åº¦</strong></th><th><strong>æ¨èä¹¦ç±/èµ„æº</strong></th></tr></thead><tbody><tr><td>GPIO/I2C/SPIé©±åŠ¨</td><td>â˜…â˜…â˜…â˜…â˜…</td><td>å®Œæ•´é©±åŠ¨å¼€å‘</td><td>ã€Šç²¾é€šLinuxè®¾å¤‡é©±åŠ¨ç¨‹åºå¼€å‘ã€‹</td></tr><tr><td>ä¸­æ–­å¤„ç†</td><td>â˜…â˜…â˜…â˜…â˜…</td><td>é¡¶åŠéƒ¨/åº•åŠéƒ¨</td><td>å†…æ ¸æºç <code>drivers/irqchip</code></td></tr><tr><td>å†…æ ¸åŒæ­¥æœºåˆ¶</td><td>â˜…â˜…â˜…â˜…â˜†</td><td>è‡ªæ—‹é”/RCU</td><td>ã€ŠLinuxå†…æ ¸è®¾è®¡ä¸å®ç°ã€‹ç¬¬5ç« </td></tr><tr><td>DMAä¸å†…å­˜ç®¡ç†</td><td>â˜…â˜…â˜…â˜†â˜†</td><td>ç¼“å­˜ä¸€è‡´æ€§</td><td>å†…æ ¸æ–‡æ¡£ã€ŠDMA-API-HOWTOã€‹</td></tr><tr><td>ç”µæºç®¡ç†</td><td>â˜…â˜…â˜…â˜†â˜†</td><td>suspend/resume</td><td>å†…æ ¸æ–‡æ¡£ã€ŠPower Managementã€‹</td></tr></tbody></table><p><strong>å®è·µé¡¹ç›®</strong>ï¼š</p><ol><li>ä¸ºæ ‘è“æ´¾å¼€å‘I2Cä¼ æ„Ÿå™¨é©±åŠ¨ï¼ˆå¦‚BMP280ï¼‰ã€‚</li><li>å®ç°å¸¦ä¸­æ–­çš„æŒ‰é”®é©±åŠ¨ï¼ˆ<code>request_irq</code>ï¼‰ã€‚</li></ol><p><strong>å·¥å…·</strong>ï¼š</p><ul><li><strong>é€»è¾‘åˆ†æä»ª</strong>ï¼šæŠ“å–SPI/I2Cæ—¶åºã€‚</li><li><strong>perf</strong>ï¼šåˆ†æé©±åŠ¨æ€§èƒ½ç“¶é¢ˆã€‚</li></ul><p><strong>å¯¹Linuxçš„ç”¨å¤„</strong>ï¼š</p><ul><li>æŒæ¡çœŸå®ç¡¬ä»¶é©±åŠ¨å¼€å‘æµç¨‹ã€‚</li><li>ç†è§£å†…æ ¸ <strong>å¹¶å‘æ§åˆ¶</strong> å’Œ <strong>ä¸­æ–­ä¼˜åŒ–</strong>ã€‚</li></ul><hr /><h4 id="é˜¶æ®µ4å®æˆ˜æ·±åŒ–æŒç»­å­¦ä¹ "><a class="markdownIt-Anchor" href="#é˜¶æ®µ4å®æˆ˜æ·±åŒ–æŒç»­å­¦ä¹ "></a> <strong>é˜¶æ®µ4ï¼šå®æˆ˜æ·±åŒ–ï¼ˆæŒç»­å­¦ä¹ ï¼‰</strong></h4><p><strong>ç›®æ ‡</strong>ï¼š</p><ul><li>å‚ä¸çœŸå®é¡¹ç›®ï¼Œè§£å†³å¤æ‚é—®é¢˜ã€‚</li></ul><p><strong>æ ¸å¿ƒå†…å®¹</strong>ï¼š</p><table><thead><tr><th><strong>çŸ¥è¯†ç‚¹</strong></th><th><strong>å¿…è¦ç¨‹åº¦</strong></th><th><strong>æ·±å…¥ç¨‹åº¦</strong></th><th><strong>æ¨èèµ„æº</strong></th></tr></thead><tbody><tr><td>å†…æ ¸å­ç³»ç»Ÿ</td><td>â˜…â˜…â˜…â˜…â˜†</td><td>è¾“å…¥/IIOå­ç³»ç»Ÿ</td><td>å†…æ ¸æºç <code>drivers/input</code></td></tr><tr><td>è°ƒè¯•ä¸è°ƒä¼˜</td><td>â˜…â˜…â˜…â˜…â˜†</td><td>ftrace/kgdb</td><td>å†…æ ¸æ–‡æ¡£ã€Šftraceä½¿ç”¨æŒ‡å—ã€‹</td></tr><tr><td>ç¤¾åŒºè´¡çŒ®</td><td>â˜…â˜…â˜…â˜†â˜†</td><td>æäº¤å†…æ ¸è¡¥ä¸</td><td>LKMLï¼ˆLinuxå†…æ ¸é‚®ä»¶åˆ—è¡¨ï¼‰</td></tr></tbody></table><p><strong>å®è·µé¡¹ç›®</strong>ï¼š</p><ol><li>ä¸ºå¼€æºé©±åŠ¨ä¿®å¤Bugï¼ˆå¦‚å†…æ ¸Bugzillaä¸­çš„ç®€å•é—®é¢˜ï¼‰ã€‚</li><li>ä¼˜åŒ–é©±åŠ¨æ€§èƒ½ï¼ˆå‡å°‘ä¸­æ–­å»¶è¿Ÿæˆ–å†…å­˜å ç”¨ï¼‰ã€‚</li></ol><p><strong>å·¥å…·</strong>ï¼š</p><ul><li><strong>git</strong>ï¼šç®¡ç†å†…æ ¸ä»£ç ä¿®æ”¹ã€‚</li><li><strong><a href="http://checkpatch.pl">checkpatch.pl</a></strong>ï¼šæ£€æŸ¥ä»£ç è§„èŒƒã€‚</li></ul><p><strong>å¯¹Linuxçš„ç”¨å¤„</strong>ï¼š</p><ul><li>ç§¯ç´¯çœŸå®é¡¹ç›®ç»éªŒï¼Œæå‡å·¥ç¨‹èƒ½åŠ›ã€‚</li><li>ç†è§£Linuxå†…æ ¸ç¤¾åŒºçš„åä½œæ–¹å¼ã€‚</li></ul><hr /><h3 id="ä¸‰-æ—¶é—´åˆ†é…å»ºè®®"><a class="markdownIt-Anchor" href="#ä¸‰-æ—¶é—´åˆ†é…å»ºè®®"></a> <strong>ä¸‰ã€æ—¶é—´åˆ†é…å»ºè®®</strong></h3><table><thead><tr><th><strong>é˜¶æ®µ</strong></th><th><strong>å»ºè®®æ—¶é•¿</strong></th><th><strong>æ ¸å¿ƒç›®æ ‡</strong></th><th><strong>æ—¶é—´å æ¯”</strong></th></tr></thead><tbody><tr><td>Cè¯­è¨€ä¸ç¡¬ä»¶äº¤äº’</td><td>1-2ä¸ªæœˆ</td><td>è£¸æœºæ“ä½œå¯„å­˜å™¨</td><td>15%</td></tr><tr><td>æ“ä½œç³»ç»Ÿ+é©±åŠ¨åŸºç¡€</td><td>2-3ä¸ªæœˆ</td><td>å­—ç¬¦è®¾å¤‡é©±åŠ¨+è®¾å¤‡æ ‘</td><td>30%</td></tr><tr><td>é©±åŠ¨ä¸“é¡¹+å†…æ ¸æœºåˆ¶</td><td>3-6ä¸ªæœˆ</td><td>GPIO/I2C/ä¸­æ–­é©±åŠ¨å¼€å‘</td><td>40%</td></tr><tr><td>å®æˆ˜æ·±åŒ–</td><td>æŒç»­</td><td>é¡¹ç›®ç»éªŒ+ç¤¾åŒºè´¡çŒ®</td><td>15%</td></tr></tbody></table><hr /><h3 id="å››-é©±åŠ¨å¼€å‘å·¥ç¨‹å¸ˆæ ¸å¿ƒèƒ½åŠ›"><a class="markdownIt-Anchor" href="#å››-é©±åŠ¨å¼€å‘å·¥ç¨‹å¸ˆæ ¸å¿ƒèƒ½åŠ›"></a> <strong>å››ã€é©±åŠ¨å¼€å‘å·¥ç¨‹å¸ˆæ ¸å¿ƒèƒ½åŠ›</strong></h3><ol><li><p><strong>ç¡¬ä»¶èƒ½åŠ›</strong>ï¼š</p><ul><li>é˜…è¯»èŠ¯ç‰‡æ‰‹å†Œï¼ˆå¦‚æ—¶é’Ÿé…ç½®ã€å¯„å­˜å™¨å®šä¹‰ï¼‰ã€‚</li><li>ä½¿ç”¨ç¤ºæ³¢å™¨è°ƒè¯•I2C/SPIé€šä¿¡é—®é¢˜ã€‚</li></ul></li><li><p><strong>å†…æ ¸èƒ½åŠ›</strong>ï¼š</p><ul><li>ç¼–å†™ç¬¦åˆå†…æ ¸ç¼–ç è§„èŒƒï¼ˆ<code>checkpatch.pl</code>ï¼‰çš„ä»£ç ã€‚</li><li>ç†è§£è®¾å¤‡æ¨¡å‹ï¼ˆæ€»çº¿/è®¾å¤‡/é©±åŠ¨ï¼‰ã€‚</li></ul></li><li><p><strong>è°ƒè¯•èƒ½åŠ›</strong>ï¼š</p><ul><li>åˆ†æå†…æ ¸Oopså’ŒPanicæ—¥å¿—ã€‚</li><li>ä½¿ç”¨<code>trace-cmd</code>è·Ÿè¸ªå‡½æ•°è°ƒç”¨é“¾ã€‚</li></ul></li></ol><hr /><h3 id="äº”-å­¦ä¹ å»ºè®®ä¸é¿å‘"><a class="markdownIt-Anchor" href="#äº”-å­¦ä¹ å»ºè®®ä¸é¿å‘"></a> <strong>äº”ã€å­¦ä¹ å»ºè®®ä¸é¿å‘</strong></h3><ol><li><p><strong>å¿…åš</strong>ï¼š</p><ul><li>æ¯å¤©é˜…è¯»å†…æ ¸é©±åŠ¨æºç ï¼ˆå¦‚<code>drivers/gpio</code>ï¼‰ã€‚</li><li>ç”¨çœŸå®ç¡¬ä»¶ï¼ˆæ ‘è“æ´¾/BeagleBoneï¼‰æ›¿ä»£ä»¿çœŸã€‚</li></ul></li><li><p><strong>é¿å…</strong>ï¼š</p><ul><li>æ²‰è¿·è‡ªåˆ¶æ“ä½œç³»ç»Ÿå†…æ ¸ï¼ˆé™¤éç›®æ ‡ä¸ºå†…æ ¸ç ”å‘ï¼‰ã€‚</li><li>è¿‡æ—©ç ”ç©¶ç¼–è¯‘å™¨åç«¯ä¼˜åŒ–ï¼ˆå¦‚LLVM Passï¼‰ã€‚</li></ul></li><li><p><strong>æ·å¾„</strong>ï¼š</p><ul><li>ç›´æ¥å‚è€ƒå†…æ ¸ä¸­ç±»ä¼¼é©±åŠ¨çš„å®ç°ï¼ˆå¦‚<code>drivers/i2c/busses/i2c-bcm2835.c</code>ï¼‰ã€‚</li><li>å‚ä¸å¼€æºç¤¾åŒºï¼ˆä»æ–‡æ¡£æ”¹è¿›å¼€å§‹ï¼‰ã€‚</li></ul></li></ol><hr /><h3 id="å…­-é©±åŠ¨å¼€å‘é¢è¯•å¸¸è§é—®é¢˜"><a class="markdownIt-Anchor" href="#å…­-é©±åŠ¨å¼€å‘é¢è¯•å¸¸è§é—®é¢˜"></a> <strong>å…­ã€é©±åŠ¨å¼€å‘é¢è¯•å¸¸è§é—®é¢˜</strong></h3><ul><li><p><strong>åŸºç¡€é—®é¢˜</strong>ï¼š</p><ul><li>è§£é‡Š<code>platform_driver</code>å’Œ<code>platform_device</code>çš„ä½œç”¨ã€‚</li><li>è‡ªæ—‹é”ä¸ºä»€ä¹ˆä¸èƒ½åœ¨ç¡çœ åœºæ™¯ä½¿ç”¨ï¼Ÿ</li></ul></li><li><p><strong>å®æˆ˜é—®é¢˜</strong>ï¼š</p><ul><li>å¦‚ä½•ä¸ºä¸€ä¸ªæ–°ç¡¬ä»¶ç¼–å†™è®¾å¤‡æ ‘èŠ‚ç‚¹ï¼Ÿ</li><li>é©±åŠ¨ä¸­å‡ºç°<code>Unable to handle kernel paging request</code>å¦‚ä½•è°ƒè¯•ï¼Ÿ</li></ul></li></ul><hr /><p>æŒ‰æ­¤è·¯çº¿ï¼Œ<strong>12-18ä¸ªæœˆ</strong> å¯è¾¾åˆ°åµŒå…¥å¼Linuxé©±åŠ¨å·¥ç¨‹å¸ˆçš„å…¥èŒè¦æ±‚ã€‚<strong>è®°ä½ï¼šé©±åŠ¨å¼€å‘çš„æœ¬è´¨æ˜¯â€œç”¨è½¯ä»¶ç²¾ç¡®æè¿°ç¡¬ä»¶è¡Œä¸ºâ€</strong>ï¼Œä¿æŒå¯¹ç¡¬ä»¶çš„æ•æ„Ÿåº¦æ˜¯å…³é”®ï¼</p>]]></content>
      
      
      <categories>
          
          <category> åµŒå…¥å¼ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> åµŒå…¥å¼ </tag>
            
            <tag> å­¦ä¹ è·¯çº¿ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Kelly McGonigal, Ph.D.ã€Šè‡ªæ§åŠ›ã€‹ç¬¬å››ç« é˜…è¯»æ„Ÿæ‚Ÿ</title>
      <link href="/posts/57146/"/>
      <url>/posts/57146/</url>
      
        <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="å…„å¼Ÿåˆ«æï¼Œæƒ³çœ‹è”ç³»æˆ‘ã€‚" data-whm="è¿™ä¸ªæ–‡ç« ä¸èƒ½è¢«æ ¡éªŒ, ä¸è¿‡ä½ è¿˜æ˜¯èƒ½çœ‹çœ‹è§£å¯†åçš„å†…å®¹ã€‚">  <script id="hbeData" type="hbeData" data-hmacdigest="5727f1ec7f0853418860903bb258ecdd883295eea2159e5f3b7952d887892b91">472f0d2124ee617a2f29ff331422d5d3c786bf02d6cb05b48659c7bd0efc234c66e4d05e5e352805b8be7fb548f5db1dc6ce19185f33969b60366e77544d242a7255fc093dceae1ef56b7b3616ab395661ed8126f2f2fd808d82d019625b83d11f79d38d81df10d287dcdf9fbb8d79e9c8d83e586475eedb6cb5e2397406cac88ae3b2cc9c06ebeb2d6383b47460e609f2bae318cd0ffc55aaf5b0edf4a6aa84257abc17b8e353a8c50ec02ce524c75dd8fd48193c96d88f35deaf59ce7aa8583b27b3382985ab21e165cf8330fb6f3aff3853b770500467baa6164296eed6f6c3f47059ea705b9701e83e91d7cce5759144f378b39afd02db8ac2a522ea8e071062cfe4bc1ad2dead654556198e87e1e09d939f7bc401f2ad0c7ea918cd99b9a76f378b206110669bbc55c30f9c23716a07baefa5d95a2345a5b9f803d5bfe68480cce34f61af3252c532e63c9c36cad7136a11c82cf344cdf68cc5ebbbc6f1c6f78a6a4aa2b5c4d9255c337eea8aa4df6fe45f5bc28201c1e9b119dd29dab3c7a3ed2eed624a34b3eb9917873736c58be8c3e9049965da96eee5879ec5ff01c13cbe3d63d0ea9b97f70f290d5cc50ca8c97816293c9fb8e1f39a07106859e1d594915c6d4160d3dbc0bbb4e38a78727a8ad526267eb9e3cec4bce8d3ecdbb654a940182778d95dafaba8f181fc6017186c373789adf1c14f8e012bdaacd1907fa1a94ca8e1e630c5f87d6534f46e0f314aecdbab95b0af72314d5a160e938e70a3a897086a18839a8f19864aac7492b1782c6cb7bf8637559efacab6d01ea67417ac0d1de277a3a2bb8690c527d7935fd332d8558465342e3b159a363cbd4f43cedd227ed55d6869467f7ed5dbe8c7fc91d95e1bcf426fa99022784bbad3b01298b3091946e9b3f5a4b5dba6914e72000fa3927bb7e5fbcc0493d48af555921a133b9781f972b6d1dbdf49a709a2880913ff899cf2cc7c89811961b7cabbe14f622638c67241b58e7b857cfac4cf0c811ab413da50a94b0a28c7b94d2b08bf3f23e8a0b4c938c6517dee77e8481277df97c970b11c493c7104ce8986957481b7b9ea9aacf3a14e2a479cc5193d0aa91099d0f3e087b1c25af3fa6a961870d04635d04647aa806ba10db4504c5c0f35a55a9e78fb0119dd90916a41721ae32f2bb18454e932d6ec1888e78dd9d5cfc8f8b895ea0ab79874f2587d6c1d61b3b5bf979ad77cef456b4281be80a4e92f1b582a7216f87cab9d8d7c26dcf9858f110d48bf4bf57e7327712a0ad03c4ab6e6a2fa8a3cbcf103e5a81b33a8a7f48e172b86c40172f9310f77c3901c4a8c24e108430e358de3523d7c35471dcb784e54504916a8b3db771fe70be124b321555099941b72ac95f1790339a127e17803b554a7e51b633c27cf30fd670553f6a8e01f1f7e39f86c864fbc43ada10a7b2221383c89c089191b73120cc747365824cfd7c5a0d19f1c8878c53f462f983ececd05a294b0dffc92ff4d94d5ea6e24361ec594cbf96a50329a1a4dcf03dfa3701a030e8c7792d42b95aaabda743cab3f7bf22b50b9ca40828d01f1e7ebbc6a8784fe31e5ceeaca9e8626294214b1fe29577f852153f5c98badaeea8d14f43723c4bcb8d3b7c129cc546b2e0a3f2320316fa29002c2736747fa5d943c327eb839e0cc34806c926b85ba88fa561a36262caef0f7371fdeb3e25767d8e331a64adb8a7022bf030b2d90bef1dcb30e90b0fbdab8a3a9b573ba43e9c0545803ab81bebaffcc26279df6d5e132967a9c0e05f0232f91c8c644e2e7216fb38c4dbaa741c1057d88c7dd9464d4d0451bc53deca9641406b3b9796db99628e00130bf575a125bf62750dd2d89e33e8202da72ded708ad6ed89bf23a45bf4480d7d6463791185f9d196def854136db1501367f9bc124a41968d80f9e99ec68373550df21b41521d36673779d3d414a36f4b657083a7a0ed1e9099e1a0675280545c9d33328207a8f0c4efadbea5a6dcdbf6179eb31f281e64dc9ae2fd4995c1dcd30551819d985e923c8efdc16f82bf508130370f5e152bfb0d4b954d3f9d00ba4df793c7264fcad272e032c944f00d4b346d27f17c5b39f4bd847ff7b155ca31a10063159e49b854aa47c288942abf4442003a1b48f1d0c08ea348e601d878bfcb1ddd6fa495b3c5e255e25d2bebf85211dc496cc8baa16c1d0f0ebad9ebec0fbc6e3e115e71d8ae7a89f04719f770f1aab77d1b282ee16f3b29b24ecba9053422370fd91c784c7a689c01b1d88ddb7a22521a8311294985b289402c6cb3ab21bf8bfc00cbff456c584f33a4c50f0cce07219ba3f811bf91c1756edb3de6f0fc054cef525c2a3c2213c2c5f8f8cc991cc82293f2b84e68ac890101142953d7835ef19fb2781b1dbdd3b0383223705d953f48f57ab44867b06dd15c330a468f19b47d467692109ba33c360097f0888b43cff2a99da4c9c09769c45667eba5dbc4daf75fc2e55cb5171fdc48a41028c6bd37d02e91f9d081be489e53e6b6d7194aa427caf49231537bb82373e5ed009a7aa04abaeac7fe9adc7f44c7d2eb950de3bd609a7d8d9a75fd86e68700696daf557589af4ec94a0c0677a7d567b03a9cc7b5a0d9578c96129c0d3e3fa17339d8cfdce3864a50a570cbd7e36dc53f536d13be6595bf3febffff2d3e722fc8d36b54f798a344a0b4f64c908307a54166e69f2755d5808b04c64f9fc4478d6a622bd7e19ba2bd7735b048b350008d5eca715c50cfdb21c5dc0f0f31d67a1f2bb1010113a7c44108d6a2da4311ac9bc2714433208051743cbde6ead516f3552d82efb528b845c99b672b346f5fb86ec2490a6fb39d8b5c20a5b84f0ff72553406092a4db85538703ed5fa4c42078d1da82e8cd65715990dcd46b33e9082003037654915e7bba72cad2e06c2981526713a4756c5bf2fbd2ed6ac3dc65953a35c0662b0e503ea774371e5b1f70c4c70fe09ee9704ea745df98568bbd5022bfe368d12cf7f5700c6a158a96682a2538f2fadca192adcdc15f58ff6103c9a5c81ac5763e5ea3d6a6c237c8dd70dd41eca5e3049345784dc5effebe8e575373ce54fe0597e38378ce49b0bc5ac1ad1fb3224560a4e069b6cc92766708c4e6b008d7c738f9d3290652ec6fa9236f4af6cb3b16084d07751f5b0b37106848f430b6bbb1b4592e5e17c41a266086148b2c88eebdfce956493b6ce55f955dac4f77e444219279cca474a827aff8d29908f0331cd91430d713faa08be672407a9c9c10a218abd70389220bf1de74a02e29a610424d203d20cacc99f82ea82f70647e0b1526c69d0f7ab78e6a5b1735743a5467417435c91219221fa0fb818fc29c7bad232e568e7f051d237b637ba389825525f71c329c80b631d945d3124bc6eb01c0dfbbfc4c103c188841e8ae4522558e7b556b4c5b4bb95953ae9b8c354e599a666ad1953e0429e309a6aca294fa2c65bf38263750084e9b4beb81b982ee77be236f1b3be80f6d768fdf2acc4d692b068eaf5070eb7aaffeaa28dcdd369bf8070bb66ccf762d68de642b3a7d194dce99ef934a9860d5b245eafbca53974075d2f3e4f13de936920c5b7073840d0755f89ae974423401edfc0ff87ef4b08873823490d33cf82c9ca15116b459cc5e88be8144916d40f5ef3c27f47c68d62e9c217f90c49e001da7bc93c8e4d966ecde37986716ec87d28ee26a702acc2bf43e057fbde4f21a1bf97c831f2521b3b0a1836d68efa76eb93c894be1a2e2d2cf175cbee4c90cdd35eb9ee97aa17d1fb6b4bede4aa9ef58ca16730dd8ba760d7a38534438235687418917cd3f4cb783298ba4d23d008f42edbae4e45b0c2b424e4fb999178fc9cb4c4d805500e07fea6ba2ec9ea2237ec51cbca8f7f9f04cef69832e98bc1f46ef53db47a1ec720215ef53c7f3df7898cd9170ce424bdae2c4a810baf6dd77d37e50f2ed3a616abd2b6236086086fe15c387e39290393c90baf589ccee0842d81abe16cf404edbd94b13133ce3c11c635dbe248d581512b3c8e244123ce56056755e9153dd260967effdbc13210494e260905ec6dc51f8016018ad15eaec1d7ae49a3920fae390a2f1388b448f4262737dc941447dceb6f8777429d8cea3a3cc691a4ec1edd3e7246aa7a3f345397482b79973a0026a3314a3e38c0a1ee5323e12c8d6eab25641e848adca2a1c65f96a63a521675195d2aef6a9324c08a0ee1ea16e42b5574313e53420129112904af9c9ac70b68e50e3b671ed441cbd49f9abf2105ce89c3e790bc9e6b5d144876b12cfc4d318c55d26a616835c7058dcc1a416723cf41cf64c82b5f8482c57bb735556251947b2d507b63486262e41c93f7d954ef1aaafb47085d8726459554ed9c7abf2f26fdf0dfa680105cacffc954a560a7bfdfcbc20c76fa53cc5f47f6d419a8ff3a66a56e1bf67ae8f39104ca88e080c101b3f5204db9e624b4136070b3c0500855a3987fb9cdefba772ba5e84fa38256102d5e895649b7d234de434a771b6e208edcee6732d0a98571afbbff1d0228484b2927f4176c9339eb946c915d16f5ab10917fbed0afd4d93c5468a59bef1208860cda3239026bf3d04d4028f5a1c1f84cbfc8360eb8a914836234b2ad0ff51e23d0f892b665f2dc1c48805d87af371be44e82c0b265a7bb239092b09a4ba415cc4448d861e8d11e9318a1ef4fe4948301a6afabf33ec628422edd1747263cb0e170f3d71e8e2494a61f677703205ff6d064d414cdb3bacdd1f862215b605aa6b4971ea62d3001e063c5fbcb4f153158864d68092dae58d9d30c810b78cd465c51b1048f2d6b6e45ea79b38653607535c877cb8fc6c493cfba18ad5feae17ab006ff130acead71f9bada903a3e2ce62de500f46828e1ab51e2235408c70ccc1c81370d800178368ff149b00a7496f164d07256396a872e5fe34107b3b35fedb48d8a46d5ea4cc1b4d972975c7639904c4bace33e09a7364e9ed961054362b66de41d7ce06e48e011e150a1ffd97cea78161728a711334312b49077375a2930db759723a7784ffcec561b4ad6c50270fe8ef248ad800ff34a9ece5e874d73821feb888e7a31abbc364c8eb04ea43d0bc686149b52f590cb1b80bd8385aa5d4d10f79008236aa2be77470ebff10609bc08856c03c0e10798966a45102f406b5808f9405a4e6b000d13f107f064143ef3a0099ef92f70e3152560e82a9184530bbf18f8bc7486ece8e93a3449af4ddd0b38983066afecf1f74ae6efe92005be525e7f0e287816729e0ff4e04ec44898a4b051f79718bd9f359735338059085b4812f9a6394bcc5c8e805cbcf5806a3e1bf66de36c9054864d02bb618fee8e4db3e51aaf00a170b554a89b41a4057b7e0c3071913ae2355b4e32d4f3effc6998a595e34d4b91e90a405e4642984f77c9dd4108ad5a27deb7f54a58087f02c96f313405d42ea72d50608e6dff0552424f17c22dd2745d9ab28dea10daa4da92ece00a33becd0916fb93833257704e21f80cafa192dfc493e1d47b189700b41097768b10eb1022b70aefaeadbef3fbb6fc8593a7c542e943010141901f7f08ca45dce43e49a266b8fbf61e737df16177d3fcfb462160e7ced413a68bbed1a535f86b2fa348cad0997301005cff1209e69dc1a5f417fd523695af4566e0db1ee2ce5569e98234719780e46eeba24e4b9c22d4e11921a45b28f955f80d8a46e2fdbd222193a0a3705005a44c27b2bd6557134109fceaa312e9b6f4fd997ff9629b345f2350a39c53dba0863954d5362d599609be5d4ab52950a45c035f0db53b979b2e69fff9f08b7de25754f424cb0e223f6ceb0207a5500164174c7a27f7c3699fe4e12718bc50e421840cbbe435c6377e0d61793ebcb212b918e147855cddd8fb011fea054355125a8fd5e095b810b2dddf5ae3af9e177d5bc1baeea02352844904b3e649088af0d109d51243eea36deaf32a7d55bd9f2bd3ab693060ddef06594e5bd2f53e02d5d48b893de2fafa1d556cc74b002767e5d2a23dbc17235dfdafc356ddbff76efda37e37a6ca4242a510a4868dcf0249b250cf3b06c290491218ffccf6c9e22fcd3980e136a893bd7435b4f1e3417885cc159c9342d05b70c3faef2cb8ec184460475827d6fcd65e04d8d1d39089b30d20a21ba6ab94af34bd4ffe896f66fe2aa07a7974edd1a3a5c93836ebd220234bb3d4d8fe3c067d4480e9eb438e551f15f4f179ec4ffaad1ab76337c73896ca980ed0c535e396088660a7724954cd76d4a8ee1c393204e5d6f123902200966d2178241acf4812208fbddc1b81d4b72ea99cdc8a649003f19369e1f8450561cc1655e6383c3eb903e96c06753244dbe2b919506f7402ad7ecedd9ee6c052a20d6522c785518480e213fcedcca77e59a1133a70382b6d9caba0310d90022a9eef24cac0f00d55a3c0483d588fc8791f810d56be7ca3f429481df8f1922d335934a3a8036f37a5e8e9e7cbac137faf329d93725d44006321795e0b7fef0c90143b84ecbd934316a258c04f9aeb33443c585dc40de13408e573db134c41920e72484631f5f46f2a760bfa363676df7505e2aa025af3855d6c71c6b0602072e064fd113ab76d1b93b4b2e7ff0125001c65887dff849dddf1ef2825deec1f42bfff2684ef1d26778929ac65a0e8698a97463db733e24c6690ceeea45cb54ba42b98944da0c5c21adfbe87645bc35e964675be76f1289004de93260416c68d457ac8fc7288ddcf1ebedcddf78ab787ad572eb25d203c9e3191c85bce4438cbf940b15c1c7f23ebba39325f7c40f915271aa82caaf24bcf575707ab7a9b2f586ca559df663b3437ae9322231f29525b1b5e1cee115100e868a2bc7adce9f6720402b9ea46ce623f4fa377ad7f170126c0247cf51b19ba7dcfaf6b0ed06248271c1a2a18a45efbffbb1981951a42142f737ea8d94a59139f75577fe12426d56fb772da873d3ea26fdbff44ea0648ad52dc26d972688123812faef0db1612dac7c3f9014ec7a4c9fab50ee17a82625fbebc52c76e9d3c354872cb1749cb33de1880e90e7723386bc70a3ee33424c6b2f567b71216d09fb624182d02403696cee74b37c8f42469e7e92a302559b4811e682cc7e65c1cb2d53eb353c2f1443ec33d0766cb18fab0c8ef758db2161b4773386029ff6b445eb157c1a9e879e3670d316d2a9972b58035e00cd084064f56d3b5ddbb0cd4e0ed1884f3670443550c09b10510e0016ed58b431af6e073173532ad1376a905ea20a0c7860726940fffba7d448a3cd15b44305c6216f59ece83bb15c04f1c10c578b6dae0b565798f60791a163392108224a20a67c14e690d98174a03b8f845d6b137e1c2d78140598138e5f7c0eda3a3c100d2ff7736ad6287a25f86fe0cb484071b555fc159300162f9231c4e8bf4a89126b5bcaaf2584cd5f3454398719c79dd62db6c12dc073fa293b416dc74abc51b8c3877427d5d957ee8f82364d6007f9b8cbf2e29aa124d6df5ef6f5f5591ca79d505d5840753a3deb1e64299e22dcdef5e4528ff343fccc3887b75138836052a44725f30b056c6ad47c0ae1d2f755fe5173356c143f92f57bf6df94230ff1c49591ffb3646fee1ddd2da044405bd6af2aae1ff024bde0c2e642ac73201c35e6ce0e3b48d42284fe854625c15aab52354e6404156ac5c50b18eda1f33cd8a24060797446d49e37d3d3de1ba897967d9e6d2898e6f1edfaa91d13b620242b17b8d2473d98b06398451af16081db15685535b165cc9c9bae8802af0efddfc85c016ef5c39df2be2c736951811125602ff5821a34f61212c5c981c11421e28d25dc6a6f84a9d20dd8738926eca7bc8539a55776c08cd65c4f43999796f54b3200ea533a9564470ac4e75813ee833448b5ae220c86461b1d18803da75c01938e9c2db8260bbdf697e77d95d0c3c99632c5e42458769c29aebbdf3e6f1b98dad24d4a16fa644a38f19036bbcc47cf975b45ec36899633db338c68c4f3d16009b50e7026caaa640e890674bf0e0cdb6f11b64cebb71f5c4cb86f3ad279f6bd3502ce4e6108be052ef802305062709274b72b5f989e91bff4eab737d9a293511b160290994f02955d6314531ce5cda55b4e455ec2ec3cfeb4009188d90878eb855bbbc833117ec74ae2c0127a01d88874fe60b9deb258bd309b94e8a02222b18d24cef5e95105d768eae6db3031da9efb14fcd0dd884981f3aba496246800bd20d36b9505cb82ad4c2c0ec2638f75bb91fb2a78cb4c08f2fefa96e2a927a6b4ec125f28bf7b68c38dff65239d4de4914eec8920083bf5faa5db552dc76810bdd260fb178a9c5186d0daeaad53e13998b1b13f0cda9ff41684128a3ec683b47569b11d0261c2441863c45934282a31a815c7f9d18f24b5e1dabd7b7fdb7c4d968737875b0a0ef35460aee35cb8dcd62fbd2e5ace838ae52d055cae5cb2ceddd4430fc968ff0312d4e6074742172ec7bccfb66a0cdf89dedcb85ea7a3d27c05c0d9b469ee044fb32b880ad79ad5ed3566bce97075ba083ed030ceeb10967bfc29b0f44f5f1283a1b957f4faa5fe73dca968bf019d1f80b3bd4ef7540e1d9f6431bd31c762beb501a04509ebd4c68aae1e64854785dea6422e9422f8ffd796e0c31d040364bd203dcc96f031151bc03304b3a110f9ac19923ff86c79aec1c251690fc3fa63239353414b9cbd0060c1136cf072ec0af3fd9d573fc7219d11f974c2beb932d5b624dece4e5ad60c803e7bd5c7961f08d6b147d22451f902c8f0d7c9d7d44be8623325003b26fe55c5af412bfde571ccfd8fbb9640e128b37367af6f329b87aa7d1320bd668e9f2b613329e05376ae7a26510566a7a8ec7d4a79384dc2d1d9b1eaf3bdea3cee3a37e465793eea46aefe08a8ab03ce7910d737f67cc2db5007b44e49e35f29de37d06feb11fa888cd27f158ecf44f68b87618d5b326769821e33dc11ca331631c79287bd6cf7c00ac82da7fd567b4f37a99680a609aba71692b88224af97697443fe86e4acbb8632d53548396cb72829fcdd41563861299fe4a82621cee73343979419f793be3c42bf2f8e79310f793b399f4c13fdb6e8d676479d8d1ce3bfba0888373c9c6615f1afa33976497e5b6250e67317f0dc0c13c0e908e418e23784c51f32ed5c7c5e559f88bc396326357bb2220dfc83c1b29790ca8d3d06a2da9afcba789371682c583b0a8d573263a61c5f8cdfe5eef5cca304861aadcd06fa918ee6c745608dd4c5f300ed90b7c2ba5bdc532593df9c6e12f42bfd66177eed1818380338d8bc90d9873ad354fbeadac79dee1e855f6e4fd36e1ed5a8bc536a52fe7f48cdc71715d7b78eb52fc96a93900e4f50f5a004946b48a02dd25d5d403f99eaea1886be1e4b77740d32d50738ea8fb86a022c3f72736698addd757a689e79e61ed078e45aa4794621503c5f61e74a7211a7f58f61dc36b13faab46216a8724db4db1ed5a7d957e4620c323d83357056b92e48795e00c4a956b361873cda9e07ec3643c79ad8c347e934b931be0c1f1fa6ecb4a24efaf70585fdd09422575ad7d87e2058be88ca474102e83620f62462bb64badd473b387daf072ecb42d8a61c076ed2db37f94110153f5df0185292e6d7d93113de4c98417edd0e726ddae48c9a24b11b4e71041d8d63ff987fc4b828221f4eb1d5898c6a61eb4d17e2a1c03b7b1d31d28a98eeaa80f78b491df8d127dd84770252f0512a4b1251966a0571861e6c0b51a783ece22cd074f3de620c05fac5cd01bb776d1121fb33e912fa0a0cd6249873381121b1bf26fd0c9eb2efc5a05c548c02b6d8f73b10213e0e37791e5010f0ab15f5cf282cfdffe51ae6820420045f0f557ad4ad2cffb666e2fabb205912b5fc239d28b4d346ddb17204bc24e6ea500d227d5663f91f228d0630433ea2406c9aac0e999002130c0d133aa601608ebbdc6768072f289919665245a90d485baa9a4ac870e581bb4f57bc5e5e95f4d976debadc2afa54cdff43d7ab93eba9e7b98eab580d168be268f035f2a8f615fa2372e1ff5e4f548f4b5194d0c43e1e0b9928f1c2712cb50f72717d58656dca4899f09899fe69ba7b85828ac578c32e293757498525f91e72dd684005f7a398b42f7a1a45f84b238373b63b8e9bb42ca208646ad78807ad62c86a6c8060b0d7d87aa44cd8bcaa10606a29ecc5bd9d8bada064993892a5cd48fb56502a1e79b5e38d2b4aeeea11ecd78de86d6f53b307d4022bafd9d202aaae3c5f4d21582671bf12e1d86a695d68c07a44d1bcfec2cbe3b77ad18357c0255ac89354c9781e52d3c703524fa0ed7b83f61facfaee1a9a1019b7727034ccc94640e1e6a2a06e37820d3f558f34fc7972d7daa88d90905d737967d4c47d079c8de67fb689f9a872c211d48c9186931052167ff870dade6a5b69c09a0c07d4dc01ff430437d35cabda45d43a51a3e2917be03451bc5af331e1e115e3b0d4be33cd92652cd0b273e52d2bd1c29f1b97f7e6baabf84d6b8e5fc167f2dd432f63de6d3295d07d0b63f30b4a1018c1d491a3729ceac09d68e9b91efe95ec92c304994181a4f0903710a04f31e174bf14d45a6525c1ba09e480ec72dfff7355dffe0e8dd35e0333dc8744987277a6b502e85e7fc537651a4910783e4885388f0faaca1a20dd3a0b425e287603768efa373aebd3e86ffbcfb339abe4762cb4011f740472c453ade3ddad32dd7544dffeb28a4339e649adac5d3012396cd4ecb3c4384553d76c8dcb5bb4eaf5d26c6561ad5d99db016d1302295f86feec7038f9f6a5eb42ce6e01bb4717930deba2f48d6c0706918f813c058c1a81b6efc45b6c305f5eba6c13b0a029a94301a9e76075399ce9d6643ea2eb75a421a9607b690f0ae21f53ed10fb6b2f048ec3c06fe44d306109c457d1e7be3ec39ccae1d5b9cfe0c4a7b5f203019e72043a980af2ca9e695d72fb8c5a285040c7b385075b3601d47782f3f32e6e47c7655bade10b3db8b3ef1739d07c9926ef26b33d1711574ba350990dbbf1d9a9dce5d0f95bebcc6e8ecf6885afcf062a4fffe8fbd9ef1053a50092a8177c500b880b39c06d055f0cc2765a9c1b0f95ce066948b6755762cfe57d8e9971eb387fd6055e78ad3a7b9ef04856f2a1e2c791367897615fc11bb91e36e90a5a92ba0abbef2e5ed4dd94f3b57595c46e20e85338a8ee59b8f5abeba3ded7375b4ff1f74a6f3c8c9bd86f587e277898fb226116c7fcab3eb6236c4cb26de10fbb215333bdc3a42406df9f6216a975c044a9eef7e02437fd9d2074711f7eb55884a889e565d3ed6e8a0e3825038108e22e20c87448e91d01a77c7ecc726569ac1b76ba103f2af25536645a72e8b3bbbdcb2824d957d048577a8cdab0dc56d7793d57d4148de9e77c8dad41f1a8b3298d8987e579165ff7e2eae5ec9ef189cf116a110397396b657df30967b0019d6ab3628758026b66fee41449300609a8fb58533242e3c0beb4f42b119d5d6b862187a640c9cb07e38dfcf38287ada23277f55929cb1ad99861cd8d0376801e900c1cc340dddcdbd70b459da3723303b2b01bb71a52a3c5f6b5b7252d0c1fe98f33235f06c45e73fb3d6f9acc1f7fb0dddf8953fb58053e41f444d29a5c9a5f17355f883f6ff55cf762ab73db064a2d2471153b4ac66b297fa4148ed771327b13ac8d1eeda3c1725101690d98b2c28414fcf166c2c1c2576934429f7a5ea548f3d70a03ea555d31dbc41f12b54e331e8ee94a970afea184c0a2da95767d669e5ae2d080bf9505de03802836bbb37a2478a37436956b9f8f4126ba54bfb47c0d10b83bf80748aeb53175916bd351e6b6e1c1852789e74c450991028ab5892b2948572858dfc74e0c17f04050106731ec2290a5c9214ad896f421e91104ebea35247550e0ca6808e3ca9e0cd1b17a7519564b454ee945b2f28169246c9b201dc87eff4f0a10c1b6ef585decfb4ca2562dda112daf5ab02cf4bb8ea876ecba4c29968a652d7298c8f59d24d2780b9cd198553389cc14ef8678ea1d3ddb4596c331583a85a5d87c768db1cb0cd9925218be87ad048b330506151dfe424646b976f1b377225698bfa5c4df40825de30069eb9abda59fe20aea49a044ad1f4e482f623f4437f73231d716391210c9da1539dc708ffaf6d6e42dc82ceb11706c3097cedd40cca38817911b7eb530a0859b9aa83166d29444cb4dbafaa09e60c312f6c81050c474c0d5e928a4a2cd34df5a874756487fd5c7f81a38d5633e43e621fb511349fee5381c969d47f8b5fc0cda95ad76c1a2ca3a1bd11c4622f788b50d90e116b7fde60f8489ff94d26e03cf6ccbacae1183e9217be62acb1ca2a6bab41ee919efdd1d16e8385125fde156bcce56e29c1b72d39006e501f11be6540a083ad6763c1475391e43fd4e63fc4fb25c5671b10054a58e0fcc4cd22e13dd2a0933c344d7c4e96cff2b6f315e1ddc209c65970a553a8eb03d8fb615f40e5957acfdf74ccb5f61472d540d14a475e2f99c951015906100d1decd3dfe257e146f698f636a83d092350ba8c6e95037169b67bb1d552776f3ace089a45c5d902a838b0e9833e059e67b57ff0cee2bff6ef27d7990402a34129129f1700673c8febf7fa3af027a15da4e305ad42ddcbf60744c47decffd173609bd8a890eb869c256fdf7692ae5d827a9d4e885098434a47d543611b13c0c61a013aad0f6e0b249e043e718fe8e86b251487491d43dcbb3ee6ecbce865dbe3a424e2ea9233edb7fc93699d4be553770674e6bc8bc25a356ca3441d57cf5634fe9e8345b58f2e748a3ec9cc62f5d37660c90a3b9e01b80e5a6105aef6374d1356cc74ba4abd3a718ce5b866d455fc2eec34bd13bcebc1f13d9c919108f1a2e7d8e473a587a673979beecdf0fadf9c3d7f608c276ef1ef374eb7c11598fd2d9446d992580d1e068bb14f660a0d7a4e9498088a9f0437e81cd7d2423ebf8ccd9c9e9ccc13e50fed3876eeea165f11304898221fb15a11878f331cbb26e0bced4d970909282cfc98e26666e287f3fbee379f747e4d25d772c5a17df00eb07164907523531d2f746d630da0747d87994d4028324fcc36f927d183e8a65200cafb8b2b83ea968ecc608287feeb315444ad59984b3f268bfb85a06e457d91fab27bbb169680a1e55a8bb6ac3a53ca5c9d472a8746085dd0335723d6f9084ef85db9f2e0bf19e826bfc8025d8be8ec1a63e720c9e4520b9f89f75385927a788c446c746de508e553a965cd4e5479c6888ad76937e9359b41002df517ee275d569827508e3f4be47e80dfd14d7688d654f124a033246251643d6c455d2cbf78cf31f1afcdaabcd8f612e0bcc9a2ab5e0d8d77f5f3ba66351550b00acd9c036d7f88101bf7c260babd7311af2df8d481a355a58e0eb1116c4647b1ddc592c7f762e038b502331710a6309c3dc661251166151d3999f82eddfb6009d5427ca37b4ab532fd8d305902a4008ac47f6a3992beecc91d04efb97dbc2e7965bd09e2329554e4c42951415eda7f4495810162e00b2ae29cf163eb655ecd44512c5cf9424518850a1c665f16ba443661138703d0961d2e91cb7c2c5cdec252139971c07f41bd5125d4c5ab37266c1d81effaf8a7f9256cc237df54ab8f25a8a2b59947eda2aefb4a03fe737d863353c0d8a60f93b560fb5d497a23fdad0fe0c9aae2c50cf770a5a7d20121e9e0ca6176691aa20754897c00cf513ac7d8e3efc307d232b7187380e751fdea9b6d490cc0aa196b5c30a0fcbd3f0ccf176c291f15c2d859be93afcf0f45a0bee392fee646285b2b3cbf128fd098e715e9076a2c2457e4a6e39513e9cf7e1ce755cf26b71c44a89e26a79285359e49ec6f17d688248d299014dc9e3a70f9735b0cdc6f3fa00cfdd65b9aa816514452c1980d80cac72daae72a32e423653e6304c0528fce4dd8864ce27f1c360ff325036432f6a53efb198e9b7e0792811f1794462cf89dee7ec62d1ccf370dc6fce1ee69e72308775b6c063a6d0434c3e88ead087eb3b75e7cc6faee06d2490c6e7d1afa1af861c90b268c8d3aa43b70cdae6de35fe597885c9a880d8c71870a3fa4cef4450cec9b59b17f387e1fc0d463161e6d1c88790621d4a9aad1a975b337129ca53fe35326fa1b4293c42f8edc8ec4a242cf135098a560fbba3561b4631d47b84704eaac05d05e082a375c25097d1516a4717e35703e4daa2e07f233781c917e3aa19651163629ed08f33c0a1f489f3c6a7aa6888ba14293f206181c401034ed98304fa71f172fcd16c5df82fb54476c77ed6889efbc51f8680354db8d7ffbec89cb63cb3c05e1adadcaa8808a6e96487d4b14407b989e555e7ccd0b22059b6285033a5d2f8663ec6729d540fa44236eb64fb47bf994e7c2d046033e73f899027cc1d10a6de76fc621ec830ae13d5cf5275627a6e9c02069e425b70b74dd70260bc53b8403405e07727f50e256eb77d04c2f422b4bd839cc6575ce9c51433848ff9d7c580dfdd90786ca098b4f617976997c7f107629c1b36e6e78a8aaf5a4b3344c2aa05821af83b5878d335372bfc4b20679a80d21f11e6f7178427ea32dc8f88a482bc6d1356063cf2a4d420b4c51234d9a6a29d7de9ee9c9b9e8a15ac281bb6ac454acc24e1f42ac3ce603102b30644b41c99cde8c148552ad1b445862a3281cb3b9cd4e6c7b9ad37faf481da4a81872b5b876b8a8e4ba124be1ee46de499fe33d5a8f4603bec42895dc10402b35e6fc37e3f56b1f66849ffe6149210eb7107122f3b60399c1cd3b1320b653eed6f9c0c0b44179f4b96aa41e4ef969f612f86c4b06cf9f8362610861026ee3bd5f474fef107e511d4131d6e5645d9952dda20db135e8f809dae77ea8d209b14d92ea325c7c9d56fb5c7948ebed20409ab386a27d591996283fd3a220ede0153fd52ae6257a795e6abc032dfb559ab47a2116c4e4f3e9700b93584c1f3f707ff9771787a73b5c74c7a2331c453cd85ddf448962d00ccccc098770e4ceeb5e9062ffe4789bf7f838e1ea028ae81fe67f67db73890ff6396a90cc751e4c598244e11068c79e7affda453bb0dc5cbf21eedf59498f61a7a674b498d426f72d5993f9dd1914ee6f7347cb258651ee4a5d1167cfd55172e544efcc0cb49885de90498108af15643c08fd97a362292b414443b113e3d696c80202eb7dfd2dc4c9f9946df94404988b1c0f7642cca9e4a9a19150522f957bf0ab361663c115824f36446ed96e36158545e29bab7ad1502ad9f67faff7c730b325d97c72489bcca497a7e6f84f532a159f80ab4e3b7673b8743d4950765523d768b54ae7e563111e8361fc5577eefa2b986ab65d833b9a26381b8980d2f6af6234bf0934c518acc2d8a20d48489f09e5d5a034d7e3a2c92834b7c5c3303aef5e229037e9fa1667d83e1ab44e2e43af0ef81c5a87e409ead842b78ee33721ca7cd93fb7608bc22333cfbb3e64abc0ab12c6985f8a2d5144f294661a19ab17fbca35624658555b22615ff25a9230e15d38dd61e7cb5ebe0900b05687d9a871ecde17860d29ad2bca19ab3bf8e0c05280dfb58c1fd471dcfe3bfe1cb1a4296c1557358b6b7813f988536cac239375e3a591af9846a631c7e0153f62c685c8d3ca1165f50701090f94df6e0b6c7efc46034c6ad7057e17efc7240f65f0a9686952a47a315b528f6bb92cc34e61b0dc5e1f5340a40ccc305992d7eb9be1efaa2f1234f4309061f31fe4d378a80252cb2214944ef4a5c293d9d57a3d04f8b56cbc177be3cf43618859b37ed044efb40006476fc9063963ed84b8dec968956ea4ee3638b7a4ab0e4afd5d45d4e9950ca03b2a8589c3f21eb57b72c6960eb6c04a0754cc06bd74a2dc05fc67fd0b576ba725a2560fc87409516f96e30c996aa997ed87753dc747e273c42dcdd8ad768de2bfd2104564d27f7a549a36c55885c4dce6dabae2ef883bf586f9eac80ee82f4f2eb63ecb6b10a6fea76ef014ff68ad97211015e7679e9c9615331f91e686883c42c90dd3ed35bed8ad1abf39b6859797e4a2194c55e03a928e2ecb240041e5f88c86a98d81d047e52ccf489579da31f280fd41e9feac02ead682de2d2a64fd89280724124b95daa0a795cc</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-up">      <input class="hbe hbe-input-field hbe-input-field-up" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-up" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-up">æ–‡ç« å·²åŠ å¯†</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
      
      
      <categories>
          
          <category> é˜…è¯» </category>
          
      </categories>
      
      
        <tags>
            
            <tag> é˜…è¯»æ„Ÿæ‚Ÿ </tag>
            
            <tag> è‡ªæ§åŠ› </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¸‰è¡Œä»£ç å®ç°æŒ‰é”®çš„é•¿çŸ­æŒ‰æ£€æµ‹</title>
      <link href="/posts/862/"/>
      <url>/posts/862/</url>
      
        <content type="html"><![CDATA[<details><summary>ç‰ˆæƒä¿¡æ¯</summary><p>:::warning</p><p>æœ¬æ–‡ç« éµå¾ª <a href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh-hans">CC 4.0 BY-SA</a> ç‰ˆæƒåè®®ï¼Œè½¬è½½è¯·é™„ä¸ŠåŸæ–‡å‡ºå¤„é“¾æ¥å’Œæœ¬å£°æ˜ã€‚</p><p>:::</p></details><hr /><h2 id="è¯ä¸å¤šè¯´ç›´æ¥ä¸Šä»£ç "><a class="markdownIt-Anchor" href="#è¯ä¸å¤šè¯´ç›´æ¥ä¸Šä»£ç "></a> è¯ä¸å¤šè¯´ç›´æ¥ä¸Šä»£ç </h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">uchar cont,trg;    <span class="comment">//trigerè§¦å‘ continueè¿ç»­</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">KeyScan</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">uchar ReadData =  PINB^<span class="number">0xff</span>;</span><br><span class="line">trg = ReadData &amp; (ReadData^cont);</span><br><span class="line">cont = ReadData;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å°±å®Œäº‹äº†ï¼Œç°å¸¸çš„amzingå•Šã€‚</p><h2 id="å°è¯•ç†è§£"><a class="markdownIt-Anchor" href="#å°è¯•ç†è§£"></a> å°è¯•ç†è§£</h2><p>é¦–å…ˆæˆ‘ä»¬è¦ç†è§£<code>PINB</code>ï¼Œè¿™é‡Œçš„<code>PINB</code>æŒ‡çš„æ˜¯æˆ‘ä»¬çš„å•ç‰‡æœºGPIOBçš„æ‰€æœ‰Pinçš„ç«¯å£æ•°æ®ï¼Œè€Œæ¯ä¸ªç«¯å£çš„æ•°æ®ï¼ˆé«˜/ä½â€”â€”1/0ï¼‰å¯¹åº”1ä¸ªbitä½ã€‚ä¾‹å¦‚æŸå•ç‰‡æœºæœ‰å…«ä¸ªç«¯å£åªæœ‰ç«¯å£0ä¸ºé«˜ï¼Œå…¶ä½™çš†ä¸ºä½ï¼Œåˆ™PINB=0000 0001ã€‚åœ¨STM32Halåº“ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·å®ç°ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">uint8_t</span> <span class="title function_">KeyBit</span><span class="params">(<span class="type">void</span>)</span>&#123;</span><br><span class="line">Â  Â  <span class="type">uint8_t</span> keybit = <span class="number">0x00</span>;</span><br><span class="line">Â  Â  <span class="comment">//è¯»å–B1çš„ç”µå¹³çŠ¶æ€å¹¶æŠŠä»–å·¦ç§»åˆ°bit0ä½</span></span><br><span class="line">Â  Â  keybit |= HAL_GPIO_ReadPin(B1_GPIO_Port,B1_Pin) &lt;&lt; <span class="number">0</span>;</span><br><span class="line">Â  Â  <span class="comment">//åŒä¸Š</span></span><br><span class="line">Â  Â  keybit |= HAL_GPIO_ReadPin(B2_GPIO_Port,B2_Pin) &lt;&lt; <span class="number">1</span>;</span><br><span class="line">Â  Â  keybit |= HAL_GPIO_ReadPin(B3_GPIO_Port,B3_Pin) &lt;&lt; <span class="number">2</span>;</span><br><span class="line">Â  Â  keybit |= HAL_GPIO_ReadPin(B4_GPIO_Port,B4_Pin) &lt;&lt; <span class="number">3</span>;</span><br><span class="line">Â  Â  <span class="keyword">return</span> keybit; </span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å–å"><a class="markdownIt-Anchor" href="#å–å"></a> å–å</h3><p>ç¬¬ä¸€è¡Œä»£ç å°±ç›¸å½“äºæ˜¯å–åæ“ä½œï¼Œä½¿æ²¡æœ‰æŒ‰é”®æŒ‰ä¸‹æ—¶dataå§‹ç»ˆä¸º0x00ã€‚</p><p>æ³¨æ„ï¼Œä¸ä¸€å®šå°±æ˜¯å¼‚æˆ–0xffï¼ŒæŒ‰ç…§ä¸Šé¢çš„halåº“æ–¹æ³•ï¼Œä½ çš„PINBå˜é‡å®é™…ä¸Šåªæœ‰å››ä½æœ‰æ•ˆä½ï¼Œä¸ºäº†è®©æ²¡æœ‰æŒ‰é”®æŒ‰ä¸‹æ—¶dataä¸º0x00ï¼Œæˆ‘ä»¬å¼‚æˆ–0x0få³å¯ï¼Œæˆ–è€…å°†keybitåˆå§‹åŒ–ä¸º0xf0ç„¶åå¼‚æˆ–0xffï¼›è€Œæœ‰æ—¶GPIOè¾“å…¥æ¥äº†ä¸‹æ‹‰ï¼Œæ²¡æœ‰è¾“å…¥çš„æƒ…å†µæœ¬æ¥å°±æ˜¯0ï¼Œè¿™æ—¶å°±ä¸éœ€è¦å†å–åã€‚åæ­£å°±æ˜¯è¦è®©å®ƒæ²¡æœ‰æŒ‰é”®æŒ‰ä¸‹æ—¶ç­‰äº0x00ã€‚</p><details><summary>ç‚¹å‡»å³çœ‹å¼‚æˆ–çœŸå€¼è¡¨</summary><p>ä¸0å¼‚æˆ–ä¸å˜ï¼Œä¸1å¼‚æˆ–å–å</p><table><thead><tr><th>A</th><th>B</th><th>A âŠ• B</th></tr></thead><tbody><tr><td>0</td><td>0</td><td>0</td></tr><tr><td>0</td><td>1</td><td>1</td></tr><tr><td>1</td><td>0</td><td>1</td></tr><tr><td>1</td><td>1</td><td>0</td></tr></tbody></table></details><h3 id="å•å‡»æŒ‰ä¸‹"><a class="markdownIt-Anchor" href="#å•å‡»æŒ‰ä¸‹"></a> å•å‡»æŒ‰ä¸‹</h3><p>ç¬¬ä¸€æ¬¡PB0æŒ‰ä¸‹çš„æƒ…å†µ<br />ç«¯å£æ•°æ®åŸæœ¬ä¸º0xfeï¼ŒReadDataè¯»ç«¯å£å¹¶ä¸”å–åï¼Œå˜ä¸ºÂ 0x01Â ï¼ˆç¬¬ä¸€è¡Œï¼‰ã€‚<br />å› ä¸ºè¿™æ˜¯ç¬¬ä¸€æ¬¡æŒ‰ä¸‹ï¼Œæ‰€ä»¥Contæ˜¯ä¸Šæ¬¡çš„å€¼ï¼Œåº”ä¸ºä¸º0ã€‚ä¸0å¼‚æˆ–ä¸æ”¹å˜åŸæœ‰å€¼ï¼Œé‚£ä¹ˆç¬¬äºŒè¡Œæ‰§è¡Œçš„å®é™…æ˜¯ï¼š</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">Trg</span> = <span class="number">0</span>x01 &amp; (<span class="number">0</span>x01^<span class="number">0</span>x00) = <span class="number">0</span>x01  </span><br></pre></td></tr></table></figure><p>å°†contèµ‹å€¼</p><figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">Cont</span> <span class="operator">=</span> ReadData <span class="operator">=</span> <span class="number">0</span>x01</span><br></pre></td></tr></table></figure><p>ç»“æœå°±æ˜¯ï¼š</p><ul><li>ReadDataÂ ï¼Â 0x01</li><li>TrgÂ ï¼Â 0x01</li><li>ContÂ ï¼Â 0x01</li></ul><h3 id="æŒ‰ä¸‹åè¿˜æ²¡æœ‰å®Œå…¨æ¾å¼€å¼•ç”³åˆ°é•¿æŒ‰"><a class="markdownIt-Anchor" href="#æŒ‰ä¸‹åè¿˜æ²¡æœ‰å®Œå…¨æ¾å¼€å¼•ç”³åˆ°é•¿æŒ‰"></a> æŒ‰ä¸‹åè¿˜æ²¡æœ‰å®Œå…¨æ¾å¼€ï¼ˆå¼•ç”³åˆ°é•¿æŒ‰ï¼‰</h3><p>æ­¤æ—¶ç¨‹åºä¾ç„¶åœ¨æ‰§è¡Œã€‚</p><ul><li>ç¬¬ä¸€è¡Œï¼šä¸å˜ï¼Œä¾ç„¶ä¸º0x01ã€‚</li><li>ç¬¬äºŒè¡Œï¼šæ“ä½œä¸ºâ€”â€”æŠŠæ£€æµ‹åˆ°çš„æŒ‰ä¸‹æŒ‰é’®å¯¹åº”çš„bitä¸ºç»™ç½®0äº†ï¼Œè®©Trgç­‰äº0äº†</li><li>ç¬¬ä¸‰è¡Œï¼šä¸å˜ï¼Œä¾ç„¶ä¸º0x01ã€‚</li></ul><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å”¯ä¸€å˜äº†çš„åœ°æ–¹å°±æ˜¯Trgè¢«ç½®0äº†ã€‚</p><h3 id="å®Œå…¨æ¾å¼€"><a class="markdownIt-Anchor" href="#å®Œå…¨æ¾å¼€"></a> å®Œå…¨æ¾å¼€</h3><p>å¾ˆå¥½ç†è§£ï¼Œè‚¯å®šå…¨ä¸º0x00äº†ã€‚</p><h3 id="ç¬”è€…çš„æ€è€ƒ"><a class="markdownIt-Anchor" href="#ç¬”è€…çš„æ€è€ƒ"></a> ç¬”è€…çš„æ€è€ƒ</h3><p>è¯¥ä»£ç çš„æ ¸å¿ƒæ€è·¯æˆ‘è®¤ä¸ºæ˜¯ç”¨ä¸‰ç§ä¸åŒçš„æ•°æ®å†…å®¹ä»£è¡¨ä¸åŒçš„ä¸‰ç§æƒ…å†µï¼ˆæœªæŒ‰ä¸‹ã€å•æŒ‰ã€é•¿æŒ‰ï¼‰æŒ‰ç…§è¿™ç§æ€è·¯ï¼Œæˆ‘ä»¬ç”šè‡³è¿˜å¯ä»¥æ‰©å±•ã€‚</p><p><code>ReadData</code>å­˜å‚¨åŸå§‹çš„ç«¯å£ç”µå¹³æ•°æ®ï¼Œä¸èƒ½æ”¹å˜ã€‚åç»­çš„ä¸¤ä¸ªæ•°æ®éƒ½ä¼šåŸºäºè¿™ä¸ªåŸå§‹æ•°æ®ã€‚<br /><code>Trg</code> ç”¨äºæŒ‰é”®è§¦å‘ã€‚<code>ReadData</code>ä¸­æœ‰bitä½æœ‰ä¸Šå‡æ²¿æ—¶ï¼ŒTrgä¼šè®°å½•è¿™ä¸ªä¸Šå‡æ²¿ï¼šåªæœ‰bitä»0å˜ä¸º1ï¼ŒTrgæ‰ä¼šç½®1ã€‚æŒ‰ä¸‹åˆ¤æ–­çš„æ¡ä»¶æ˜¯ï¼š<code>Trg</code>ã€<code>Cont</code>å‡ä¸º1ã€‚<br /><code>Cont</code> ç”¨äºé•¿æŒ‰ã€‚é•¿æŒ‰çš„åˆ¤æ–­æ¡ä»¶æ˜¯ï¼š<code>Trg</code>ä¸º0çš„æƒ…å†µä¸‹<code>Cont</code>ä¾ç„¶ä¸º1ã€‚</p><p>è¿™æ ·çš„æ€è·¯è®©æˆ‘è”æƒ³åˆ°äº†3-8è¯‘ç å™¨çš„å·§å¦™è®¾è®¡ï¼Œé€šè¿‡3ä¸ªå€¼çš„è¾“å…¥ï¼Œå¯ä»¥å¾—åˆ°8ä¸ªå€¼çš„è¾“å‡ºï¼Œç”¨3ä¸ªå€¼å°±å¯ä»¥ä¸º8ä¸ªä¸åŒçš„æƒ…å†µè¿›è¡Œå¤„ç†ã€‚</p><h2 id="åœ¨stm32ä¸­ä½¿ç”¨"><a class="markdownIt-Anchor" href="#åœ¨stm32ä¸­ä½¿ç”¨"></a> åœ¨STM32ä¸­ä½¿ç”¨</h2><p>é™„ä¸Šæˆ‘çš„ä½¿ç”¨æ–¹æ³•ï¼Œæˆ‘ä½¿ç”¨çš„æ˜¯<a href="http://im.godmao.top/posts/39448/">æ—¶é—´ç‰‡è½®è¯¢æ¶æ„</a>ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> B1 0x01</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> B2 0x02</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> B3 0x04</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> B4 0x08</span></span><br><span class="line"></span><br><span class="line"><span class="type">uint8_t</span> <span class="title function_">KeyBit</span><span class="params">(<span class="type">void</span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">Â  Â  <span class="type">uint8_t</span> keybit = <span class="number">0x00</span>;</span><br><span class="line"></span><br><span class="line">Â  Â  <span class="comment">//è¯»å–B1çš„ç”µå¹³çŠ¶æ€å¹¶æŠŠä»–å·¦ç§»åˆ°bit0ä½</span></span><br><span class="line">Â  Â  keybit |= HAL_GPIO_ReadPin(B1_GPIO_Port,B1_Pin) &lt;&lt; <span class="number">0</span>;</span><br><span class="line">Â  Â  <span class="comment">//åŒä¸Š</span></span><br><span class="line">Â  Â  keybit |= HAL_GPIO_ReadPin(B2_GPIO_Port,B2_Pin) &lt;&lt; <span class="number">1</span>;</span><br><span class="line">Â  Â  keybit |= HAL_GPIO_ReadPin(B3_GPIO_Port,B3_Pin) &lt;&lt; <span class="number">2</span>;</span><br><span class="line">Â  Â  keybit |= HAL_GPIO_ReadPin(B4_GPIO_Port,B4_Pin) &lt;&lt; <span class="number">3</span>;</span><br><span class="line"></span><br><span class="line">Â  Â  <span class="keyword">return</span> keybit;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">KeyFuc</span><span class="params">(<span class="type">void</span>)</span>&#123;<span class="comment">//æŒ‰é”®é€»è¾‘</span></span><br><span class="line"></span><br><span class="line">Â  Â  <span class="type">static</span> <span class="type">uint8_t</span> i = <span class="number">0</span>; Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="comment">//é•¿æŒ‰æ—¶é—´è®¡æ•°å™¨</span></span><br><span class="line"></span><br><span class="line">Â  Â  <span class="comment">//æ ¸å¿ƒä»£ç ï¼šä¸‰è¡Œä»£ç å®ŒæˆæŒ‰é”®å•ã€é•¿æŒ‰æ£€æµ‹</span></span><br><span class="line"></span><br><span class="line">Â  Â  <span class="type">unsigned</span> <span class="type">char</span> ReadData = KeyBit() ^ <span class="number">0x0f</span>; Â  Â  Â  <span class="comment">// å–åï¼šåœ¨æ²¡æœ‰æŒ‰é”®æŒ‰ä¸‹çš„æƒ…å†µä¸‹ï¼Œå…¶å§‹ç»ˆä¸º0x00</span></span><br><span class="line"></span><br><span class="line">Â  Â  Trg = ReadData &amp; (ReadData ^ Cont); Â  Â  Â  Â  Â  Â  <span class="comment">// 2</span></span><br><span class="line"></span><br><span class="line">Â  Â  Cont = ReadData; Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <span class="comment">// 3 Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â </span></span><br><span class="line"></span><br><span class="line">Â  Â  <span class="keyword">if</span>(Trg &amp;&amp; Cont)&#123;<span class="comment">//å•å‡»é€»è¾‘ Â  Â  Â </span></span><br><span class="line"></span><br><span class="line">Â  Â  Â  Â  <span class="keyword">switch</span>(Trg)&#123; Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â </span><br><span class="line"></span><br><span class="line">Â  Â  Â  Â  Â  Â  <span class="keyword">case</span> B4: Key4_Fuc();<span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">Â  Â  Â  Â  Â  Â  <span class="keyword">case</span> B3: Key3_Fuc();<span class="keyword">break</span>; Â  Â  Â  Â  Â </span><br><span class="line"></span><br><span class="line">Â  Â  Â  Â  Â  Â  <span class="keyword">case</span> B2: Key2_Fuc();<span class="keyword">break</span>; Â  Â  Â  Â  Â </span><br><span class="line"></span><br><span class="line">Â  Â  Â  Â  Â  Â  <span class="keyword">case</span> B1: Key1_Fuc();<span class="keyword">break</span>; Â </span><br><span class="line"></span><br><span class="line">Â  Â  Â  Â  Â  Â  <span class="keyword">default</span>: <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">Â  Â  Â  Â  &#125;</span><br><span class="line"></span><br><span class="line">Â  Â  &#125;</span><br><span class="line"></span><br><span class="line">Â  Â  <span class="keyword">if</span>(Cont &amp;&amp; <span class="number">0</span> == Trg) i++;<span class="comment">//ä»¥ä¸‹ä¸ºé•¿æŒ‰é€»è¾‘</span></span><br><span class="line">Â  Â  <span class="keyword">else</span> i = <span class="number">0</span>;</span><br><span class="line">Â  Â  </span><br><span class="line">Â  Â  <span class="keyword">if</span>(i &gt;= <span class="number">20</span>)&#123;</span><br><span class="line">Â  Â  Â  Â  i = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">Â  Â  Â  Â  <span class="keyword">switch</span>(Cont)</span><br><span class="line">Â  Â  Â  Â  &#123;</span><br><span class="line"></span><br><span class="line">Â  Â  Â  Â  Â  Â  <span class="keyword">case</span> B3: Key3_Fuc_Preesed();<span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">Â  Â  Â  Â  Â  Â  <span class="keyword">default</span>: <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">Â  Â  Â  Â  &#125;</span><br><span class="line"></span><br><span class="line">Â  Â  &#125;</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="å…³äºæ¶ˆæŠ–é—®é¢˜"><a class="markdownIt-Anchor" href="#å…³äºæ¶ˆæŠ–é—®é¢˜"></a> å…³äºæ¶ˆæŠ–é—®é¢˜</h2><p><s>ä¸çŸ¥é“ä¸ºä»€ä¹ˆï¼ŒæŒ‰ç†æ¥è¯´æ˜¯éœ€è¦æ¶ˆæŠ–çš„ï¼Œä½†æ˜¯å®é™…è·‘èµ·æ¥çš„æ—¶å€™æ²¡æœ‰æ¶ˆæŠ–ä¹Ÿéå¸¸ç¨³ï¼Œï¼Œï¼Œå¯èƒ½æ˜¯æˆ‘çš„æŒ‰é”®æ£€æµ‹ä»»åŠ¡æ‰§è¡Œé—´éš”æ¯”è¾ƒé•¿ï¼Ÿ</s></p><hr /><p>2025.03.28 è¡¥å……ä¿®æ”¹ï¼šå¦‚æœä½¿ç”¨æ—¶é—´ç‰‡è½®è¯¢è°ƒåº¦ï¼Œç†è®ºä¸Šå¦‚æœæŒ‰é”®æ‰«æä»»åŠ¡æ‰§è¡Œé—´éš”æ—¶é—´è¾ƒé•¿ï¼Œæ˜¯ä¸ç”¨æ¶ˆæŠ–çš„ã€‚è¿™å°±è§£é‡Šäº†ä¸ºä»€ä¹ˆæˆ‘çš„ç¨‹åºæ²¡æœ‰æ¶ˆæŠ–ä¹Ÿé‚£ä¹ˆç¨³ï¼ä¾‹å¦‚ï¼Œå‡è®¾ä½ è®¾ç½®çš„æ—¶é—´ç‰‡è°ƒåº¦é—´éš”æ˜¯ 100msï¼Œå¦‚æœæŒ‰é”®æ¯æ¬¡æ‰«ææ—¶æ˜¯ 100ms æ‰§è¡Œä¸€æ¬¡ï¼Œå‡è®¾æŒ‰é”®æŠ–åŠ¨çš„å‘¨æœŸæ˜¯ 10msï¼Œé‚£ä¹ˆæ¯æ¬¡æ‰«ææ—¶æŒ‰é”®å°±å·²ç»ç¨³å®šäº†ã€‚è¿™æ ·ï¼ŒæŒ‰é”®çš„ç‰©ç†çŠ¶æ€å˜åŒ–å°±ä¸å¤ªå¯èƒ½è¢«è¯¯åˆ¤ä¸ºå¤šä¸ªçŠ¶æ€å˜åŒ–ï¼Œå› ä¸ºæ—¶é—´é—´éš”æœ¬èº«å·²ç»è¶³å¤Ÿé•¿ã€‚å½“ç„¶ä»£ä»·æ˜¯ <strong>ä¼šç‰ºç‰²æŒ‰é”®å“åº”é€Ÿåº¦ï¼Œä»¥åŠæ— æ³•åº”ç”¨å¿«é€Ÿè¿æŒ‰çš„æŒ‰é”®é€»è¾‘</strong></p><hr /><p>å…³äºæ¶ˆæŠ–æˆ‘è¿˜æ²¡æœ‰å®é™…ä¸Šæœºè·‘è¿‡ï¼Œä½†æ˜¯ä¹Ÿå†™ä¸€ä¸‹ï¼ŒDeepseekå†™çš„ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> DEBOUNCE_TIME 1 <span class="comment">//æ¶ˆæŠ–æ—¶é—´å‚æ•°ï¼Œæ ¹æ®æ—¶é—´ç‰‡çš„æ—¶é—´æ¥è®¾å®š</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">enum</span> &#123;</span></span><br><span class="line">    KEY_STATE_IDLE,<span class="comment">//ç©ºé—²</span></span><br><span class="line">    KEY_STATE_PRESSED,<span class="comment">//æŒ‰ä¸‹</span></span><br><span class="line">    KEY_STATE_RELEASED<span class="comment">//æ¾å¼€</span></span><br><span class="line">&#125; KeyState;</span><br><span class="line"></span><br><span class="line">KeyState key_state = KEY_STATE_IDLE;</span><br><span class="line"></span><br><span class="line"><span class="type">uint16_t</span> debounce_timer = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">KeyScan</span><span class="params">()</span> &#123;</span><br><span class="line">    uchar ReadData = PINB ^ <span class="number">0xff</span>;</span><br><span class="line">    uchar new_trg = ReadData &amp; (ReadData ^ cont);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">switch</span> (key_state) &#123;</span><br><span class="line">        <span class="keyword">case</span> KEY_STATE_IDLE:</span><br><span class="line">            <span class="keyword">if</span> (new_trg != <span class="number">0</span>) &#123; <span class="comment">// æ£€æµ‹åˆ°æŒ‰é”®å˜åŒ–</span></span><br><span class="line">                key_state = KEY_STATE_PRESSED;</span><br><span class="line">                debounce_timer = DEBOUNCE_TIME;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">case</span> KEY_STATE_PRESSED:</span><br><span class="line">            <span class="keyword">if</span> (debounce_timer &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                debounce_timer --;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (ReadData == (PINB ^ <span class="number">0xff</span>)) &#123; <span class="comment">// ç¡®è®¤æŒ‰é”®çŠ¶æ€</span></span><br><span class="line">                    trg = new_trg;</span><br><span class="line">                    cont = ReadData;</span><br><span class="line">    <span class="keyword">if</span>(trg &amp;&amp; cont)&#123;</span><br><span class="line"><span class="comment">/*å†™å•å‡»é€»è¾‘*/</span></span><br><span class="line">    &#125;</span><br><span class="line">                    key_state = KEY_STATE_RELEASED;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    key_state = KEY_STATE_IDLE;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">case</span> KEY_STATE_RELEASED:</span><br><span class="line">            <span class="keyword">if</span> (new_trg == <span class="number">0</span>) &#123; <span class="comment">// ç­‰å¾…æŒ‰é”®é‡Šæ”¾</span></span><br><span class="line">                key_state = KEY_STATE_IDLE;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> åµŒå…¥å¼ </category>
          
          <category> ç¨‹åºæ¶æ„ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç¨‹åºæ¶æ„ </tag>
            
            <tag> æŒ‰é”®æ£€æµ‹ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åµŒå…¥å¼æ¨¡å—åŒ–è®¾è®¡ä¸­çš„æ•°æ®å…±äº«ä¼˜åŒ–æ–¹æ¡ˆ</title>
      <link href="/posts/58440/"/>
      <url>/posts/58440/</url>
      
        <content type="html"><![CDATA[<details><summary>ç‰ˆæƒä¿¡æ¯</summary><p>:::warning</p><p>æœ¬æ–‡ç« ä¸ºåšä¸»åŸåˆ›æ–‡ç« ã€‚éµå¾ª <a href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh-hans">CC 4.0 BY-SA</a> ç‰ˆæƒåè®®ï¼Œè½¬è½½è¯·é™„ä¸ŠåŸæ–‡å‡ºå¤„é“¾æ¥å’Œæœ¬å£°æ˜ã€‚</p><p>:::</p></details><hr /><h2 id="é—®é¢˜çš„æå‡º"><a class="markdownIt-Anchor" href="#é—®é¢˜çš„æå‡º"></a> é—®é¢˜çš„æå‡º</h2><p>åœ¨åµŒå…¥å¼é¡¹ç›®ä¸­ï¼Œæ¨¡å—åŒ–æ¯ä¸ªåŠŸèƒ½æœ‰åˆ©äºç®¡ç†å’Œç†æ¸…å¼€å‘æ€è·¯ï¼Œä½†æ˜¯ï¼Œå½“æˆ‘ä»¬éœ€è¦å°†æ¨¡å—è”åŠ¨èµ·æ¥çš„æ—¶å€™ï¼Œéœ€è¦ä¸€äº›å¿…è¦çš„å˜é‡ä»¥å®ç°ä¸¤ä¸ªæ¨¡å—ä¹‹é—´çš„äº’ç›¸é…åˆï¼Œæœ€å¸¸è§çš„æ–¹æ³•æ˜¯ä½¿ç”¨å…¨å±€å˜é‡ï¼Œä½†è¿™æ ·åšä½¿æ¨¡å—é—´è€¦åˆæ€§<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup>å¤§å¤§æé«˜äº†ã€‚</p><h2 id="æœ‰ä»€ä¹ˆæ›´å¥½çš„æ–¹æ¡ˆå—"><a class="markdownIt-Anchor" href="#æœ‰ä»€ä¹ˆæ›´å¥½çš„æ–¹æ¡ˆå—"></a> æœ‰ä»€ä¹ˆæ›´å¥½çš„æ–¹æ¡ˆå—</h2><p>æœ‰çš„å…„å¼Ÿæœ‰çš„ã€‚åªä¸è¿‡è¦ç‰ºç‰²ä¸€äº›æ•ˆç‡ï¼ˆéœ€è¦é€šè¿‡æ¥å£è®¿é—®ï¼‰ã€‚æˆ‘ä»¬å¯ä»¥ä¸ºå…±äº«å˜é‡å»ºç«‹ä¸€ä¸ªä¸“é—¨çš„.c/.hæ–‡ä»¶ï¼Œä¾‹å¦‚<code>SharedData.c/.h</code>ã€‚<br />è¿™ä¸ªæ–‡ä»¶é›†ä¸­ç®¡ç†æ¨¡å—é—´çš„å…±äº«å˜é‡ã€‚è¿™æ ·åšç»“æ„æ¸…æ™°ï¼Œæ¯ä¸ªæ¨¡å—<strong>åªä¾èµ– <code>SharedData.h</code>ï¼Œè€Œä¸æ˜¯å½¼æ­¤ä¾èµ–</strong>\ <br />åŒæ—¶æˆ‘ä»¬é€šè¿‡ä¸¤ç§æ–¹æ³•ä½¿éœ€è¦è®¿é—®å˜é‡çš„æ¨¡å—æˆåŠŸè¯»å–æˆ–ä¿®æ”¹å˜é‡ï¼š</p><ul><li>ç»“æ„ä½“å°è£…+æŒ‡é’ˆä¼ é€’</li><li>é€šè¿‡å‡½æ•°æä¾›è¯»å–å’Œä¿®æ”¹çš„æ¥å£</li></ul><h2 id="ç»“æ„ä½“å°è£…æŒ‡é’ˆä¼ é€’"><a class="markdownIt-Anchor" href="#ç»“æ„ä½“å°è£…æŒ‡é’ˆä¼ é€’"></a> ç»“æ„ä½“å°è£…+æŒ‡é’ˆä¼ é€’</h2><p>:::recommend</p><ul><li>å…±äº«å˜é‡è¾ƒå¤šæ—¶éå¸¸å¥½ç”¨ã€‚</li><li><strong>éšè—å…¨å±€å˜é‡</strong>ï¼Œå¤–éƒ¨æ¨¡å—æ— æ³•ç›´æ¥è®¿é—®å…±äº«æ•°æ®è€Œæ˜¯é€šè¿‡æŒ‡é’ˆï¼Œå®‰å…¨æ€§é«˜ã€‚</li><li>æ›´å¥½æ‰©å±•ã€‚</li><li>æ–¹ä¾¿ï¼Œæ— éœ€ä¸ºæ¯ä¸ªå˜é‡éƒ½å†™å‡½æ•°æ¥å£ä»¥æä¾›ä¿®æ”¹ä¸è¯»å–ã€‚</li><li><strong>è®¿é—®é€Ÿåº¦å¿«</strong>ã€‚</li></ul><p>:::</p><h3 id="hæ–‡ä»¶"><a class="markdownIt-Anchor" href="#hæ–‡ä»¶"></a> .hæ–‡ä»¶</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> SHARED_DATA_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> SHARED_DATA_H</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> &#123;</span></span><br><span class="line">    <span class="type">int</span> sensor_value;</span><br><span class="line">    <span class="type">int</span> motor_speed;</span><br><span class="line">&#125; SharedData;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åªæä¾›è·å–æŒ‡é’ˆçš„æ¥å£ï¼Œè€Œä¸æ˜¯ç›´æ¥æš´éœ²å˜é‡</span></span><br><span class="line">SharedData* <span class="title function_">get_shared_data</span><span class="params">(<span class="type">void</span>)</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure><h3 id="cæ–‡ä»¶"><a class="markdownIt-Anchor" href="#cæ–‡ä»¶"></a> .cæ–‡ä»¶</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;shared_data.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">static</span> SharedData system_data = &#123;<span class="number">0</span>, <span class="number">0</span>&#125;; <span class="comment">// åªåœ¨æœ¬æ–‡ä»¶å¯è§</span></span><br><span class="line"></span><br><span class="line">SharedData* <span class="title function_">get_shared_data</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> &amp;system_data;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="åœ¨å…¶ä»–æ¨¡å—ä¸­ä½¿ç”¨"><a class="markdownIt-Anchor" href="#åœ¨å…¶ä»–æ¨¡å—ä¸­ä½¿ç”¨"></a> åœ¨å…¶ä»–æ¨¡å—ä¸­ä½¿ç”¨</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;shared_data.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">moduleA_update</span><span class="params">()</span> &#123;</span><br><span class="line">    SharedData *data = get_shared_data();</span><br><span class="line">    data-&gt;sensor_value += <span class="number">10</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>:::warning</p><p>ä¸æ¨èå°†<strong>æ¥æ”¶å…±äº«å˜é‡çš„æŒ‡é’ˆçš„å˜é‡</strong>å®šä¹‰ä¸ºå…¨å±€å˜é‡ã€‚å°½ç®¡è¿™æ ·ä¼šæ–¹ä¾¿ä¸€äº›ã€‚<strong>æŒ‡é’ˆå¯èƒ½è¢«å¤šä¸ªæ¨¡å—ä¿®æ”¹</strong>ï¼Œå¯¼è‡´æŒ‡å‘æ— æ•ˆåœ°å€ï¼ˆå¢åŠ  bug é£é™©ï¼‰ã€‚æ¨èåœ¨æ¯ä¸ªå‡½æ•°å†…éƒ¨é€šè¿‡æ¥å£è®¿é—®å˜é‡ã€‚å¦‚æœä¸€å®šè¦è¿™æ ·åšï¼Œè¯·ä¸€å®šé¿å…ç©ºæŒ‡é’ˆï¼ˆè®°ä½åˆå§‹åŒ–æŒ‡é’ˆï¼‰</p><p>:::</p><p>ä½¿ç”¨å…¨å±€æŒ‡é’ˆç¤ºä¾‹ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">static</span> SharedData *data;  <span class="comment">// ä»…é™å½“å‰æ–‡ä»¶è®¿é—®</span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">moduleA_init</span><span class="params">()</span> &#123;</span><br><span class="line">    data = get_shared_data();<span class="comment">//é¿å…ç©ºæŒ‡é’ˆ</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="é€šè¿‡å‡½æ•°æä¾›è¯»å–å’Œä¿®æ”¹çš„æ¥å£"><a class="markdownIt-Anchor" href="#é€šè¿‡å‡½æ•°æä¾›è¯»å–å’Œä¿®æ”¹çš„æ¥å£"></a> é€šè¿‡å‡½æ•°æä¾›è¯»å–å’Œä¿®æ”¹çš„æ¥å£</h2><p>:::recommend</p><ul><li><strong>çµæ´»è®¿é—®å˜é‡ã€‚ä½ å¯ä»¥ä¸¥æ ¼æ§åˆ¶å¯¹æ•°æ®çš„è®¿é—®ï¼Œå¦‚åªè¯»ã€é¿å…éæ³•å€¼å†™å…¥ç­‰ï¼›åŒæ—¶ä¹Ÿå¯ä»¥è‡ªå®šä¹‰è®¿é—®æ–¹æ³•ï¼Œå¦‚æŒ‰ä½è¯»å–ã€‚éå¸¸çš„å¥½ç”¨ã€‚</strong></li><li>å¯æ‰©å±•æ€§å¼ºã€‚</li></ul><p>:::</p><p>:::error</p><ul><li>ä»£ç å†—é•¿ï¼Œè°ƒç”¨èŠ±é”€ç¨å¤§ã€‚</li><li>å˜é‡å¤ªå¤šæ—¶éœ€è¦ä¸ºæ¯ä¸ªå˜é‡éƒ½å†™æ¥å£ï¼Œå¤ªéº»çƒ¦ã€‚æ‰€ä»¥æ‰è¦å’Œä¸Šé¢çš„æ–¹æ³•è”åˆèµ·æ¥ä½¿ç”¨ï¼Œåªä¸ºå¿…è¦çš„å˜é‡ç¼–å†™æ¥å£ï¼Œå…¶ä½™é€šè¿‡ç¬¬ä¸€ç§æ–¹æ³•è®¿é—®ã€‚</li></ul><p>:::</p><h3 id="hæ–‡ä»¶-2"><a class="markdownIt-Anchor" href="#hæ–‡ä»¶-2"></a> .hæ–‡ä»¶</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> SHARED_DATA_H</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> SHARED_DATA_H</span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">setSensorValue</span><span class="params">(<span class="type">int</span> value)</span>;</span><br><span class="line"><span class="type">int</span> <span class="title function_">getSensorValue</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">setMotorSpeed</span><span class="params">(<span class="type">int</span> speed)</span>;</span><br><span class="line"><span class="type">int</span> <span class="title function_">getMotorSpeed</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="cæ–‡ä»¶-2"><a class="markdownIt-Anchor" href="#cæ–‡ä»¶-2"></a> .cæ–‡ä»¶</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;shared_data.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">static</span> <span class="type">int</span> sensor_value = <span class="number">0</span>;</span><br><span class="line"><span class="type">static</span> <span class="type">int</span> motor_speed = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">setSensorValue</span><span class="params">(<span class="type">int</span> value)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (value &gt;= <span class="number">0</span>) &#123;  <span class="comment">// é™åˆ¶éæ³•å€¼</span></span><br><span class="line">        sensor_value = value;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">getSensorValue</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> sensor_value;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">setMotorSpeed</span><span class="params">(<span class="type">int</span> speed)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (speed &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">        motor_speed = speed;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">getMotorSpeed</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> motor_speed;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="åœ¨å…¶ä»–æ¨¡å—ä¸­ä½¿ç”¨-2"><a class="markdownIt-Anchor" href="#åœ¨å…¶ä»–æ¨¡å—ä¸­ä½¿ç”¨-2"></a> åœ¨å…¶ä»–æ¨¡å—ä¸­ä½¿ç”¨</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;shared_data.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">moduleA_update</span><span class="params">()</span> &#123;</span><br><span class="line">    setSensorValue(getSensorValue() + <span class="number">10</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="è”åˆèµ·æ¥"><a class="markdownIt-Anchor" href="#è”åˆèµ·æ¥"></a> è”åˆèµ·æ¥</h2><p>å°†ä¸¤ç§æ–¹å¼è”åˆèµ·æ¥ä½¿ç”¨â€”â€”å¤§éƒ¨åˆ†å˜é‡ï¼Œæˆ‘ä»¬ä½¿ç”¨æŒ‡é’ˆæ¥å£è®¿é—®å³å¯ï¼›å¦‚æœæœ‰äº›å˜é‡éœ€è¦ä¸€äº›ä¸ªæ€§åŒ–è¦æ±‚ï¼Œæˆ‘ä»¬ä¸ºè¿™äº›å˜é‡ç¼–å†™å®šåˆ¶çš„æ¥å£å°±å¥½ã€‚</p><h2 id="æŒ–å‘"><a class="markdownIt-Anchor" href="#æŒ–å‘"></a> æŒ–å‘</h2><p>é™ä½è€¦åˆæ€§çš„æ–¹æ³•è¿˜æœ‰ä½¿ç”¨å•ä¾‹æ¨¡å¼ï¼Œä»¥åŠRTOSä¸­çš„æ¶ˆæ¯/äº‹ä»¶æœºåˆ¶ã€‚åç»­ç ”ç©¶ã€‚</p><hr class="footnotes-sep" /><section class="footnotes"><ol class="footnotes-list"><li id="fn1" class="footnote-item"><p>ä»£ç è€¦åˆæ€§ï¼ˆCouplingï¼‰æ˜¯æŒ‡æ¨¡å—æˆ–ç»„ä»¶ä¹‹é—´çš„ä¾èµ–ç¨‹åº¦ã€‚å¦‚æœä»£ç è€¦åˆæ€§å¾ˆé«˜ï¼Œæ¨¡å—ä¹‹é—´ä¼šç´§å¯†ä¾èµ–ï¼Œå¯¼è‡´ä»£ç éš¾ä»¥ç»´æŠ¤ã€æ‰©å±•å’Œæµ‹è¯•ã€‚ <a href="#fnref1" class="footnote-backref">â†©ï¸</a></p></li></ol></section>]]></content>
      
      
      <categories>
          
          <category> åµŒå…¥å¼ </category>
          
          <category> ç¨‹åºæ¶æ„ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> åµŒå…¥å¼ </tag>
            
            <tag> ç¨‹åºæ¶æ„ </tag>
            
            <tag> é™ä½è€¦åˆ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¸²å£é‡å®šå‘çš„éé˜»å¡æ–¹æ³•</title>
      <link href="/posts/18285/"/>
      <url>/posts/18285/</url>
      
        <content type="html"><![CDATA[<details><summary>ç‰ˆæƒä¿¡æ¯</summary><p>:::warning</p><p>æœ¬æ–‡ç« éµå¾ª <a href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh-hans">CC 4.0 BY-SA</a> ç‰ˆæƒåè®®ï¼Œè½¬è½½è¯·é™„ä¸ŠåŸæ–‡å‡ºå¤„é“¾æ¥å’Œæœ¬å£°æ˜ã€‚</p><p>:::</p></details><hr /><h2 id="å¸¸ç”¨æ–¹å¼"><a class="markdownIt-Anchor" href="#å¸¸ç”¨æ–¹å¼"></a> å¸¸ç”¨æ–¹å¼</h2><p>æœ‰æ—¶æˆ‘ä»¬éœ€è¦ä¸²å£æ‰“å°ä¿¡æ¯åˆ°ä¸Šä½æœºï¼Œæœ€ä¾¿æ·çš„æ–¹æ³•æ˜¯é‡å®šå‘ <code>printf()</code>ï¼Œç½‘ä¸Šçš„å¸¸ç”¨æ–¹æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">fputc</span><span class="params">(<span class="type">int</span> ch, FILE *f)</span>&#123;    </span><br><span class="line">HAL_UART_Transmit(&amp;huart1, (<span class="type">uint8_t</span> *)&amp;ch, <span class="number">1</span>, <span class="number">0xffff</span>);</span><br><span class="line">    </span><br><span class="line"><span class="keyword">return</span> ch;   </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">fgetc</span><span class="params">(FILE *f)</span>&#123;</span><br><span class="line">    </span><br><span class="line"><span class="type">uint8_t</span> ch = <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">HAL_UART_Receive(&amp;huart1, &amp;ch, <span class="number">1</span>, <span class="number">0xffff</span>);</span><br><span class="line">    </span><br><span class="line"><span class="keyword">return</span> ch;   </span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="è¿™æ ·åšçš„ç¼ºç‚¹"><a class="markdownIt-Anchor" href="#è¿™æ ·åšçš„ç¼ºç‚¹"></a> è¿™æ ·åšçš„ç¼ºç‚¹</h3><ul><li>è¿™æ˜¯ <strong>é˜»å¡æ¨¡å¼</strong>ï¼Œæ¯æ¬¡ <code>printf()</code> éƒ½è¦ç­‰å¾…æ•°æ®å‘é€å®Œæ¯•ï¼Œå½±å“ CPU æ‰§è¡Œæ•ˆç‡ã€‚</li><li>å¦‚æœæ•°æ®è¾ƒå¤šï¼Œä¼šé™ä½å®æ—¶æ€§ï¼Œé˜»å¡ä¸»å¾ªç¯ã€‚</li></ul><h2 id="ä½¿ç”¨éé˜»å¡çš„æ–¹å¼çµæ´»è¿ç”¨dma"><a class="markdownIt-Anchor" href="#ä½¿ç”¨éé˜»å¡çš„æ–¹å¼çµæ´»è¿ç”¨dma"></a> ä½¿ç”¨éé˜»å¡çš„æ–¹å¼ï¼šçµæ´»è¿ç”¨DMA</h2><p>æˆ‘ä»¬ä½¿ç”¨DMAéé˜»å¡å‘é€ã€‚å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š</p><h3 id="1-å®šä¹‰ç¼“å†²åŒº"><a class="markdownIt-Anchor" href="#1-å®šä¹‰ç¼“å†²åŒº"></a> 1. å®šä¹‰ç¼“å†²åŒºã€‚</h3><p>æ ¹æ®fputc()çš„ç‰¹æ€§ï¼ˆè¿™é‡Œå…ˆæŒ‰ä¸‹ä¸è¡¨ï¼‰ï¼Œä½¿ç”¨ DMA å‘é€æ—¶ï¼Œ<code>printf()</code> éœ€è¦å…ˆæŠŠæ•°æ®å­˜åˆ° <strong>ä¸€ä¸ªç¼“å†²åŒº</strong>ï¼Œç„¶åä¸€æ¬¡æ€§ä½¿ç”¨ DMA å‘é€å‡ºå»ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> TX_BUFFER_SIZE 256  <span class="comment">// å‘é€ç¼“å†²åŒºå¤§å°</span></span></span><br><span class="line"><span class="type">uint8_t</span> uart_tx_buffer[TX_BUFFER_SIZE];  <span class="comment">// ä¸²å£å‘é€ç¼“å†²åŒº</span></span><br><span class="line"><span class="keyword">volatile</span> <span class="type">uint16_t</span> tx_len = <span class="number">0</span>;  <span class="comment">// å½“å‰ç¼“å†²åŒºæ•°æ®é•¿åº¦</span></span><br><span class="line"><span class="keyword">volatile</span> <span class="type">uint8_t</span> tx_busy = <span class="number">0</span>;  <span class="comment">// å‘é€çŠ¶æ€æ ‡å¿—</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="2-é‡å®šå‘-fputcä½¿ç”¨ç¼“å†²åŒº"><a class="markdownIt-Anchor" href="#2-é‡å®šå‘-fputcä½¿ç”¨ç¼“å†²åŒº"></a> 2. é‡å®šå‘ <code>fputc()</code>ï¼Œä½¿ç”¨ç¼“å†²åŒº</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">fputc</span><span class="params">(<span class="type">int</span> ch, FILE *f)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// ç¡®ä¿ç¼“å†²åŒºä¸ä¼šæº¢å‡º</span></span><br><span class="line">    <span class="keyword">if</span> (tx_len &lt; TX_BUFFER_SIZE - <span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        uart_tx_buffer[tx_len++] = (<span class="type">uint8_t</span>)ch;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¦‚æœé‡åˆ°æ¢è¡Œç¬¦ï¼Œæˆ–è€…ç¼“å†²åŒºæ¥è¿‘æ»¡ï¼Œå°±å¯åŠ¨ DMA å‘é€</span></span><br><span class="line">    <span class="comment">// æ³¨æ„å’¯ï¼Œå¦‚æœç¼“å†²åŒºæ²¡æ»¡çš„æƒ…å†µä¸‹ï¼Œåªæœ‰æ£€æµ‹åˆ°/næ‰ä¼šè§¦å‘DMAçš„å‘é€ã€‚æ‰€ä»¥åœ¨ç¼“</span></span><br><span class="line">    <span class="comment">// å†²åŒºæ²¡æ»¡çš„æƒ…å†µä¸‹ï¼Œå¦‚æœä½ æƒ³è¦å‘é€å­—ç¬¦ä¸²&quot;abc&quot;ï¼Œprintf(&quot;abc&quot;)æ˜¯æ²¡ç”¨çš„ï¼Œ</span></span><br><span class="line">    <span class="comment">// printf(&quot;abc\n&quot;)æ‰æœ‰ç”¨å“¦ã€‚</span></span><br><span class="line">    <span class="keyword">if</span> (ch == <span class="string">&#x27;\n&#x27;</span> || tx_len &gt;= TX_BUFFER_SIZE - <span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        uart_dma_transmit();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> ch;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="3-å®šä¹‰dma-å‘é€å‡½æ•°"><a class="markdownIt-Anchor" href="#3-å®šä¹‰dma-å‘é€å‡½æ•°"></a> 3. å®šä¹‰DMA å‘é€å‡½æ•°</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">uart_dma_transmit</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// å¦‚æœ DMA è¿˜åœ¨å¿™ï¼Œåˆ™ä¸å¯åŠ¨æ–°çš„ä¼ è¾“</span></span><br><span class="line">    <span class="keyword">if</span> (tx_busy) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    tx_busy = <span class="number">1</span>;  <span class="comment">// æ ‡è®°ä¸ºå‘é€ä¸­</span></span><br><span class="line">    HAL_UART_Transmit_DMA(&amp;huart1, uart_tx_buffer, tx_len);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="4-dma-ä¼ è¾“å®Œæˆå›è°ƒ"><a class="markdownIt-Anchor" href="#4-dma-ä¼ è¾“å®Œæˆå›è°ƒ"></a> 4. DMA ä¼ è¾“å®Œæˆå›è°ƒ</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">HAL_UART_TxCpltCallback</span><span class="params">(UART_HandleTypeDef *huart)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (huart-&gt;Instance == USART1)  <span class="comment">// ç¡®ä¿æ˜¯ç›®æ ‡ä¸²å£</span></span><br><span class="line">    &#123;</span><br><span class="line">        tx_len = <span class="number">0</span>;  <span class="comment">// æ¸…ç©ºç¼“å†²åŒº</span></span><br><span class="line">        tx_busy = <span class="number">0</span>; <span class="comment">// æ ‡è®°ä¸ºå¯ç”¨</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="ä¸€äº›ç–‘æƒ‘çš„è§£ç­”"><a class="markdownIt-Anchor" href="#ä¸€äº›ç–‘æƒ‘çš„è§£ç­”"></a> ä¸€äº›ç–‘æƒ‘çš„è§£ç­”</h2><p>Q: èŒ‚ç¥èŒ‚ç¥ï¼Œä½ çš„è¯´çš„éé˜»å¡æ–¹å¼çš„ç¡®å¾ˆä¸é”™ï¼Œä½†æ˜¯è¿˜æ˜¯å¤ªåƒæ“ä½œäº†ï¼Œæˆ‘å°±ä¸èƒ½ç›´æ¥åœ¨ <code>fputc()</code>é‡Œå†™ <code>HAL_UART_Transmit_DMA</code>å—ï¼Ÿ<br /><br />A: å¯ä»¥çš„å…„å¼Ÿå¯ä»¥çš„ã€‚<code>fputc()</code> æ˜¯å‘é€ä¸€ä¸ªå­—ç¬¦å¯¹å§ï¼Œç†è®ºä¸Šæˆ‘ä»¬åªéœ€è¦æŠŠDMAä¼ è¾“çš„å­—èŠ‚æ•°æ”¹ä¸º1å°±è¡Œäº†å¯¹å§ï¼Ÿnononoï¼Œé¦–å…ˆDMAæ˜¯éé˜»å¡çš„å¯¹å§ï¼Œä¹Ÿå°±æ˜¯æ¿€æ´»äº†å®ƒï¼Œä»–å°±åªç®¡å‘ï¼Œä¸ç®¡ä½ å®Œæ²¡å®Œæˆï¼Œä½ éƒ½å¯ä»¥å†æ¬¡æ¿€æ´»å®ƒï¼Œå¦‚æœåƒä½ è¿™æ ·åšï¼Œå½“å‘é€å­—ç¬¦æµæ—¶å¤§æ¦‚ç‡æ˜¯è¿™ç§æƒ…å†µï¼š</p><blockquote><p><code>fputc()</code>æ‰“ç”µè¯ç»™DMAçš„ç§˜ä¹¦è¯´æˆ‘è¦å‘è¿™ä¸ªå­—ç¬¦ï¼Œç„¶åä»–å°±è®¤ä¸ºæˆ‘å·²ç»ç»™DMAè¯´äº†å«å®ƒå‘é€è¿™ä¸ªå­—ç¬¦å•¦ï¼Œæ‰€ä»¥è¿™ä¸ªå­—ç¬¦å°±å‘å‡ºå»å•¦ï¼Œå‰©ä¸‹å°±ä¸å…³æˆ‘çš„äº‹å•¦ã€‚ç»“æœDMAç§˜ä¹¦çœ‹åˆ°DMAæ­¤æ—¶è¿˜åœ¨å¿™äºä¸Šæ¬¡å‘é€ï¼Œäºæ˜¯åˆ¤æ–­DMAä¸º<code>HAL_BUSY</code>æ²¡æœ‰åŠæ³•æŠŠå­—ç¬¦äº¤ç»™DMAã€‚è¿™ä¸ªå­—ç¬¦ä¿¡æ¯å°±ä¸¢å¤±äº†ã€‚ã€‚ã€‚ã€‚</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> åµŒå…¥å¼ </category>
          
          <category> ç¨‹åºæ¶æ„ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> STM32 </tag>
            
            <tag> åµŒå…¥å¼ </tag>
            
            <tag> ç¨‹åºæ¶æ„ </tag>
            
            <tag> ä¸²å£ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CubeMXé…ç½®åŠŸèƒ½ç³»åˆ—ï¼šiic</title>
      <link href="/posts/58129/"/>
      <url>/posts/58129/</url>
      
        <content type="html"><![CDATA[<details><summary>ç‰ˆæƒä¿¡æ¯</summary><p>:::warning</p><p>æœ¬æ–‡ç« ä¸ºåšä¸»åŸåˆ›æ–‡ç« ã€‚éµå¾ª <a href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh-hans">CC 4.0 BY-SA</a> ç‰ˆæƒåè®®ï¼Œè½¬è½½è¯·é™„ä¸ŠåŸæ–‡å‡ºå¤„é“¾æ¥å’Œæœ¬å£°æ˜ã€‚</p><p>:::</p></details><hr /><h2 id="è¯´æ˜"><a class="markdownIt-Anchor" href="#è¯´æ˜"></a> è¯´æ˜</h2><p>ç”±äºå‰é¢å·²ç»è¯¦ç»†ä»‹ç»äº†iicé€šä¿¡åè®®ï¼ˆè¯¦è§<a href="https://im.godmao.top/posts/55329/">é€šä¿¡åè®®ï¼šiic [ g0dMa0â€™s Blog ]</a>ï¼‰ï¼Œè¿™é‡Œä¸»è¦å°±ç¡¬ä»¶iicåœ¨cubemxä¸­çš„é…ç½®ä½œä»‹ç»ã€‚</p><h2 id="é€šé“è®¾ç½®"><a class="markdownIt-Anchor" href="#é€šé“è®¾ç½®"></a> é€šé“è®¾ç½®</h2><p><img src="Snipaste_2025-03-12_14-59-01.png" alt="" /><br />å“ˆå“ˆæ²¡æƒ³åˆ°å§ï¼Œiicé€šé“ä¸æ­¢æ”¯æŒiicåè®®ï¼Œå­©å­ã€‚<br />SMBus-ç³»ç»Ÿç®¡ç†æ€»çº¿ï¼Œæ˜¯iicçš„æ‰©å±•ã€‚åˆ©ç”¨ç³»ç»Ÿç®¡ç†æ€»çº¿ï¼Œè®¾å¤‡å¯æä¾›åˆ¶é€ å•†ä¿¡æ¯ï¼Œå‘Šè¯‰ç³»ç»Ÿå®ƒçš„å‹å·/éƒ¨ä»¶å·ï¼Œä¿å­˜æš‚åœäº‹ä»¶çš„çŠ¶æ€ï¼ŒæŠ¥å‘Šä¸åŒç±»å‹çš„é”™è¯¯ï¼Œæ¥æ”¶æ§åˆ¶å‚æ•°ï¼Œå’Œè¿”å›å®ƒçš„çŠ¶æ€ã€‚SMBusä¸ºç³»ç»Ÿå’Œç”µæºç®¡ç†ç›¸å…³çš„ä»»åŠ¡æä¾›æ§åˆ¶æ€»çº¿ã€‚<br />SMBus ä¸ºç³»ç»Ÿå’Œç”µæºç®¡ç†è¿™æ ·çš„ä»»åŠ¡æä¾›äº†ä¸€æ¡æ§åˆ¶æ€»çº¿ï¼Œä½¿ç”¨ SMBus çš„ç³»ç»Ÿï¼Œè®¾å¤‡ä¹‹é—´å‘é€å’Œæ¥æ”¶æ¶ˆæ¯éƒ½æ˜¯é€šè¿‡ SMBusï¼Œè€Œä¸æ˜¯ä½¿ç”¨å•ç‹¬çš„æ§åˆ¶çº¿ï¼Œè¿™æ ·å¯ä»¥èŠ‚çœè®¾å¤‡çš„ç®¡è„šæ•°ã€‚\ <br />æ‰€ä»¥å®ƒä¸iicçš„åŒºåˆ«å¾ˆæ˜æ˜¾äº†ï¼Œä¸€ä¸ªæ˜¯è¯¥æ€»çº¿ä¸Šè¿æ¥è®¾å¤‡è‡ªèº«å¯ä»¥æ§åˆ¶æ€»çº¿(I2Cï¼Œé€Ÿç‡è¾ƒé«˜)ï¼Œæƒ³å¹²å˜›å°±å¹²å˜›ï¼›å¦ä¸€ä¸ªæ˜¯è®¾å¤‡ä¹‹é—´å¯ä»¥é€šè¿‡å®ƒæ¥ä¼ é€ä¿¡æ¯ï¼Œä½†æ˜¯é€Ÿç‡æ¯”è¾ƒæ…¢ï¼Œæ¯”å¦‚ç”¨åœ¨æ£€æµ‹å„å…ƒä»¶çŠ¶æ€å¹¶æ›´æ–°ç¡¬ä»¶è®¾ç½®å¼•è„šç­‰ï¼ŒåŒæ—¶å»‰ä»·æ˜¯å®ƒçš„ä¼˜ç‚¹ã€‚<br /><br /><strong>SMBus-Alert</strong>æ˜¯ä¸€ä¸ªå¸¦ä¸­æ–­çº¿çš„å¯é€‰ä¿¡å·ï¼Œç”¨äºé‚£äº›å¸Œæœ›æ‰©å±•ä»–ä»¬çš„æ§åˆ¶èƒ½åŠ›è€Œç‰ºç‰²ä¸€ä¸ªå¼•è„šçš„è®¾å¤‡ã€‚SMBALERTå’ŒSCLå’ŒSDAä¿¡å·ä¸€æ ·ï¼Œæ˜¯ä¸€ç§çº¿ä¸ä¿¡å·ã€‚SMBALERTé€šå¸¸å’ŒSMBuså¹¿æ’­å‘¼å«åœ°å€ä¸€èµ·ä½¿ç”¨ã€‚ä¸SMBusæœ‰å…³çš„æ¶ˆæ¯ä¸º2å­—èŠ‚ã€‚<strong>å•ä¸€çš„ä»è®¾å¤‡å¯ä»¥é€šè¿‡SMBALERTå‘ä¿¡å·ç»™ä¸»æœºè¡¨ç¤ºå®ƒå¸Œæœ›è¿›è¡Œé€šä¿¡</strong>ï¼Œè¿™å¯é€šè¿‡è®¾ç½®I2C_CR1å¯„å­˜å™¨ä¸Šçš„ALERTä½å®ç°ã€‚ä¸»æœºå¤„ç†è¯¥ä¸­æ–­å¹¶é€šè¿‡æé†’å“åº”åœ°å€ARA(Alert ResponseÂ Addressï¼Œåœ°å€å€¼ä¸º0001100x)è®¿é—®æ‰€æœ‰SMBALERTè®¾å¤‡ã€‚åªæœ‰é‚£äº›å°†SMBALERTæ‹‰ä½çš„è®¾å¤‡èƒ½åº”ç­”ARAã€‚æ­¤çŠ¶æ€æ˜¯ç”± I2C_SR1å¯„å­˜å™¨ä¸­çš„SMBALERTçŠ¶æ€æ ‡è®°æ¥æ ‡è¯†çš„ã€‚ä¸»æœºæ‰§è¡Œä¸€ä¸ªä¿®æ”¹è¿‡çš„æ¥æ”¶å­—èŠ‚æ“ä½œã€‚ç”±ä»å‘é€è®¾å¤‡æä¾›çš„7ä½è®¾å¤‡åœ°å€è¢«æ”¾åœ¨å­—èŠ‚çš„7ä¸ªæœ€é«˜ä½ä¸Šï¼Œç¬¬å…«ä¸ªä½å¯ä»¥æ˜¯0æˆ–1ã€‚å¦‚æœå¤šä¸ªè®¾å¤‡æŠŠSMBALERTæ‹‰ä½ï¼Œæœ€é«˜ä¼˜å…ˆçº§è®¾å¤‡(æœ€å°çš„åœ°å€)å°†åœ¨åœ°å€ä¼ è¾“æœŸé—´é€šè¿‡æ ‡å‡†ä»²è£èµ¢å¾—é€šä¿¡æƒã€‚åœ¨ç¡®è®¤ä»åœ°å€åï¼Œæ­¤è®¾å¤‡ä¸å¾—å†æ‹‰ä½å®ƒçš„SMBALERTï¼Œå¦‚æœå½“ä¿¡æ¯ä¼ è¾“å®Œæˆåï¼Œä¸»æœºä»çœ‹åˆ°SMBALERTä½ï¼Œå°±çŸ¥é“éœ€è¦å†æ¬¡è¯»ARAã€‚æ²¡æœ‰æ‰§è¡ŒSMBALERTä¿¡å·çš„ä¸»æœºå¯ä»¥å®šæœŸè®¿é—®ARAã€‚æœ‰å…³SMBusæé†’æ¨¡å¼çš„æ›´å¤šè¯¦ç»†èµ„æ–™ï¼Œè¯·å‚è€ƒ2.0ç‰ˆçš„SMBusè§„èŒƒã€‚<strong>è¯´ç™½äº†è¿˜æ˜¯é€šä¿¡ï¼Œåªä¸è¿‡æ˜¯ä»æœºä¸ä»æœºçš„é€šä¿¡</strong> <br />æˆ‘å…ˆå¿½ç•¥ç³»ç»Ÿç®¡ç†æ€»çº¿åè®®ã€‚ä¸“æ³¨äºiicã€‚</p><h2 id="ä¸»æ¨¡å¼è®¾ç½®"><a class="markdownIt-Anchor" href="#ä¸»æ¨¡å¼è®¾ç½®"></a> ä¸»æ¨¡å¼è®¾ç½®</h2><p><img src="Snipaste_2025-03-12_17-56-13.png" alt="" /></p><h3 id="custom-timing"><a class="markdownIt-Anchor" href="#custom-timing"></a> Custom Timing</h3><p>è¿™ä¸ªç‰›é€¼äº†ï¼ŒiiCé€šä¿¡ä¾èµ–äºç‰¹å®šçš„æ—¶åºå‚æ•°ï¼Œå¦‚æ—¶é’Ÿé¢‘ç‡ã€é«˜ä½ç”µå¹³æ—¶é—´ç­‰ã€‚STM32CubeMXé€šå¸¸æä¾›é¢„å®šä¹‰çš„æ—¶åºé…ç½®ï¼Œé€‚ç”¨äºå¸¸è§åœºæ™¯ã€‚ä½†åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œé¢„å®šä¹‰é…ç½®å¯èƒ½æ— æ³•æ»¡è¶³éœ€æ±‚ï¼Œè¿™æ—¶å°±éœ€è¦æ‰‹åŠ¨è°ƒæ•´æ—¶åºå‚æ•°ã€‚</p><p>é€šè¿‡â€œCustom Timingâ€ï¼Œä½ å¯ä»¥æ ¹æ®å…·ä½“éœ€æ±‚è°ƒæ•´ä»¥ä¸‹å‚æ•°ï¼š</p><ol><li><strong>SCLæ—¶é’Ÿé¢‘ç‡</strong>ï¼šè®¾ç½®SCLæ—¶é’Ÿçš„é¢‘ç‡ã€‚</li><li><strong>SCLé«˜ä½ç”µå¹³æ—¶é—´</strong>ï¼šåˆ†åˆ«è®¾ç½®SCLé«˜ç”µå¹³å’Œä½ç”µå¹³çš„æŒç»­æ—¶é—´ã€‚</li><li><strong>æ•°æ®å»ºç«‹å’Œä¿æŒæ—¶é—´</strong>ï¼šè®¾ç½®æ•°æ®åœ¨æ—¶é’Ÿè¾¹æ²¿å‰åçš„ç¨³å®šæ—¶é—´ã€‚</li><li><strong>èµ·å§‹å’Œåœæ­¢æ¡ä»¶æ—¶é—´</strong>ï¼šè®¾ç½®èµ·å§‹å’Œåœæ­¢æ¡ä»¶çš„æŒç»­æ—¶é—´ã€‚</li></ol><h4 id="ä½¿ç”¨åœºæ™¯"><a class="markdownIt-Anchor" href="#ä½¿ç”¨åœºæ™¯"></a> ä½¿ç”¨åœºæ™¯</h4><ul><li><strong>éæ ‡å‡†I2Cè®¾å¤‡</strong>ï¼šæŸäº›è®¾å¤‡å¯èƒ½éœ€è¦ç‰¹å®šçš„æ—¶åºã€‚</li><li><strong>ä¼˜åŒ–æ€§èƒ½</strong>ï¼šåœ¨é«˜å™ªå£°ç¯å¢ƒä¸­ï¼Œè°ƒæ•´æ—¶åºå¯ä»¥æé«˜é€šä¿¡ç¨³å®šæ€§ã€‚</li><li><strong>è°ƒè¯•</strong>ï¼šåœ¨è°ƒè¯•æ—¶ï¼Œæ‰‹åŠ¨è°ƒæ•´æ—¶åºæœ‰åŠ©äºæ’æŸ¥é—®é¢˜ã€‚</li></ul><h4 id="é…ç½®æ­¥éª¤"><a class="markdownIt-Anchor" href="#é…ç½®æ­¥éª¤"></a> é…ç½®æ­¥éª¤</h4><ol><li>åœ¨CubeMXä¸­å¯ç”¨I2Cå¤–è®¾ã€‚</li><li>é€‰æ‹©â€œCustom Timingâ€é€‰é¡¹ã€‚</li><li>æ‰‹åŠ¨è¾“å…¥æ‰€éœ€çš„æ—¶åºå‚æ•°ã€‚</li><li>ç”Ÿæˆä»£ç å¹¶éªŒè¯é…ç½®ã€‚</li></ol><h4 id="æ³¨æ„äº‹é¡¹"><a class="markdownIt-Anchor" href="#æ³¨æ„äº‹é¡¹"></a> æ³¨æ„äº‹é¡¹</h4><ul><li>ç¡®ä¿æ—¶åºå‚æ•°ç¬¦åˆI2Cè§„èŒƒå’Œè®¾å¤‡è¦æ±‚ã€‚</li><li>é”™è¯¯çš„é…ç½®å¯èƒ½å¯¼è‡´é€šä¿¡å¤±è´¥æˆ–æŸåè®¾å¤‡ã€‚<br />é€šè¿‡â€œCustom Timingâ€ï¼Œä½ å¯ä»¥æ›´çµæ´»åœ°é…ç½®I2Cé€šä¿¡ï¼Œæ»¡è¶³ç‰¹å®šéœ€æ±‚ã€‚</li></ul><h4 id="çœ‹å®Œä»¥åå‘ç°æˆ‘è¿˜æ˜¯ä¸ä¼šç”¨å•Š"><a class="markdownIt-Anchor" href="#çœ‹å®Œä»¥åå‘ç°æˆ‘è¿˜æ˜¯ä¸ä¼šç”¨å•Š"></a> çœ‹å®Œä»¥åå‘ç°æˆ‘è¿˜æ˜¯ä¸ä¼šç”¨å•Šï¼Œï¼Œï¼Œï¼Œï¼Œ</h4><h3 id="timing"><a class="markdownIt-Anchor" href="#timing"></a> Timing</h3><p>è¿™ä¸ªæ˜¯å’Œä¸Šé¢é‚£ä¸ªä¸€èµ·ç”¨çš„ï¼Œæˆ‘çŒœæ˜¯æŠŠTimingè¿™ä¸ªè®¾å®šå€¼å†™å…¥æŸä¸ªå¯„å­˜å™¨é‡Œï¼Œç„¶åè¿™ä¸ªå¯„å­˜å™¨çš„ä¸åŒä½æ§åˆ¶ç€ä¸åŒçš„æ—¶åºå‚æ•°ï¼Œå¦‚é«˜ä½ç”µå¹³æ—¶é—´ä»€ä¹ˆçš„ã€‚æ²¡æœ‰æ·±ç©¶ã€‚å› ä¸ºä¼°è®¡ä¹Ÿä¸ä¼šç”¨è‡ªå®šä¹‰æ—¶åºã€‚<br /><img src="Snipaste_2025-03-12_18-39-27.png" alt="" /><br />è‡ªå®šä¹‰æ—¶åºenable åçš„ç•Œé¢å¦‚ä¸Šå›¾æ‰€ç¤ºã€‚</p><h3 id="risetimefalltimecoefficient-of-digital-filter"><a class="markdownIt-Anchor" href="#risetimefalltimecoefficient-of-digital-filter"></a> RiseTime/FallTime/Coefficient of Digital Filter</h3><p>æ§åˆ¶iicä¸Šå‡æ²¿/ä¸‹é™æ²¿çš„æ—¶é—´ï¼Œiicå¯¹äºä¸Šä¸‹é™æ²¿çš„æ—¶é—´æ˜¯æœ‰è¦æ±‚çš„ã€‚<br />æ•°å­—æ»¤æ³¢å™¨ç³»æ•°ã€‚ä¸å¯ç”¨è®¾ç½®ä¸º0ï¼Œå¯ç”¨åˆ™å¯è®¾ç½®ä¸º1-15ï¼Œè¡¨ç¤º1-15ä¸ªiicå¤–è®¾æ—¶é’Ÿã€‚<br />è¿™ä¸‰ä¸ªå‚æ•°è¦éµå¾ªä¸€å¥—éå¸¸å¤æ‚çš„æ—¶åºè®¡ç®—æ–¹æ³•çš„ï¼Œä¹Ÿå’Œå¯¹åº”çš„å¤–è®¾æœ‰å…³ç³»ï¼Œåœ¨è®¾ç½®å‰ä¹Ÿè¦é˜…è¯»ç›¸å…³çš„å¤–è®¾èµ„æ–™ã€‚æ­¤å¤„æš‚ä¸”ä¸å±•å¼€ã€‚</p><h3 id="analog-filter"><a class="markdownIt-Anchor" href="#analog-filter"></a> Analog Filter</h3><p>æ¨¡æ‹Ÿæ»¤æ³¢å™¨ã€‚</p><h2 id="ä»æ¨¡å¼è®¾ç½®"><a class="markdownIt-Anchor" href="#ä»æ¨¡å¼è®¾ç½®"></a> ä»æ¨¡å¼è®¾ç½®</h2><h3 id="clock-no-stretch-mode"><a class="markdownIt-Anchor" href="#clock-no-stretch-mode"></a> Clockâ€‚Noâ€‚Stretchâ€‚Mode</h3><p><strong>IICæ—¶é’Ÿæ‹‰ä¼¸(Clock stretching)</strong>ï¼š<br />æœ‰æ—¶å€™ä½é€Ÿä»æœºå¯èƒ½ç”±äºä¸Šä¸€ä¸ªè¯·æ±‚è¿˜æ²¡å¤„ç†å®Œï¼Œæ— æ³•ç»§ç»­æ¥æ”¶ä¸»æœºçš„åç»­è¯·æ±‚ï¼Œ<strong>å³ä¸»æœºçš„æ•°æ®ä¼ è¾“é€Ÿç‡è¶…è¿‡äº†ä»æœºçš„å¤„ç†èƒ½åŠ›</strong>ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œä»æœºå¯ä»¥è¿›è¡Œæ—¶é’Ÿæ‹‰ä¼¸æ¥è¦æ±‚ä¸»æœºæš‚åœä¼ è¾“æ•°æ® ã€‚é€šå¸¸æ—¶é’Ÿéƒ½æ˜¯ç”±ä¸»æœºæä¾›çš„ï¼Œä»æœºåªæ˜¯åœ¨SDAä¸Šè¯»æ•°æ®æˆ–è€…å‘æ•°æ®ã€‚<br />æ—¶é’Ÿæ‹‰ä¼¸åˆ™æ˜¯ä»æœºåœ¨ä¸»æœºé‡Šæ”¾SCLåï¼Œå°†SCLä¸»åŠ¨æ‹‰ä½å¹¶ä¿æŒï¼Œæ­¤æ—¶è¦æ±‚ä¸»æœºåœæ­¢åœ¨SCLä¸Šäº§ç”Ÿè„‰å†²ä»¥åŠåœ¨SDAä¸Šå‘é€æ•°æ®ï¼Œç›´åˆ°ä»æœºé‡Šæ”¾SCLï¼ˆSCLä¸ºé«˜ç”µå¹³ï¼‰ã€‚ä¹‹åä¸»æœºä¾¿å¯ä»¥ç»§ç»­æ­£å¸¸çš„æ•°æ®ä¼ è¾“äº†ã€‚å¯è§æ—¶é’Ÿæ‹‰ä¼¸å®é™…ä¸Šæ˜¯åˆ©ç”¨äº†æ—¶é’ŸåŒæ­¥çš„æœºåˆ¶ï¼Œåªæ˜¯æ—¶é’Ÿç”±ä»æœºäº§ç”Ÿã€‚ å¦‚æœç³»ç»Ÿä¸­å­˜åœ¨è¿™ç§ä½é€Ÿä»æœºå¹¶ä¸”ä»æœºå®ç°äº†æ—¶é’Ÿæ‹‰ä¼¸ï¼Œä¸»æœºå¿…é¡»èƒ½å¤Ÿå¤„ç†è¿™ç§æƒ…å†µï¼Œ<strong>å®é™…ä¸Šå¤§éƒ¨åˆ†ä»æœºè®¾å¤‡ä¸­ä¸åŒ…å«SCLé©±åŠ¨å™¨çš„ï¼Œå› æ­¤æ— æ³•æ‹‰ä¼¸æ—¶é’Ÿã€‚</strong></p><h3 id="primary-address-length-selection"><a class="markdownIt-Anchor" href="#primary-address-length-selection"></a> Primaryâ€‚Addressâ€‚Lengthâ€‚selection</h3><p>ä»è®¾å¤‡åœ°å€é•¿åº¦ ç½®ä»è®¾å¤‡çš„åœ°å€æ˜¯7bitè¿˜æ˜¯10bitã€‚å¤§éƒ¨åˆ†ä¸º7bitã€‚</p><h3 id="general-call-address"><a class="markdownIt-Anchor" href="#general-call-address"></a> General call address</h3><p><strong>é€šç”¨å¹¿æ’­åœ°å€æ˜¯ä¸ºäº†å¯»å€æ€»çº¿ä¸Šæ‰€æœ‰è®¾å¤‡ã€‚</strong> å¦‚æœä¸€ä¸ªè®¾å¤‡ä¸éœ€è¦ä½¿ç”¨å¹¿æ’­åŠŸèƒ½ï¼Œå¯ä»¥ä¸å“åº”å¹¿æ’­ã€‚å¦‚æœè®¾å¤‡éœ€è¦ä½¿ç”¨å¹¿æ’­åŠŸèƒ½ï¼Œåˆ™å®ƒåœ¨æ£€æµ‹åˆ°å¹¿æ’­åœ°å€åå‘é€å“åº”ï¼Œå¹¶ä½œä¸ºä»æœºæ¥æ”¶è¯»å–æ€»çº¿ä¸Šå‘é€çš„æ•°æ®ã€‚ä¸»æœºä¸çŸ¥é“æ€»çº¿ä¸Šæœ‰å¤šå°‘ä»æœºå‘é€å“åº”ã€‚<strong>æ€»çº¿ä¸Šæ‰€æœ‰å¯ä»¥å“åº”å¹¿æ’­çš„ä»æœºè¯»å–å¹¿æ’­åœ°å€åçš„ç¬¬äºŒä¸ªåŠåé¢çš„å­—èŠ‚ã€‚</strong> ä¸èƒ½å¤„ç†è¿™äº›å¹¿æ’­æ•°æ®çš„ä»æœºé€šè¿‡ä¸å‘é€å“åº”çš„æ–¹å¼å¿½ç•¥å®ƒã€‚åŒæ ·åœ°ï¼Œ<strong>å¦‚æœæœ‰ä¸€ä¸ªæˆ–ä¸€ä¸ªä»¥ä¸Šçš„ä»æœºå‘é€å“åº”ï¼Œåˆ™ä¸»æœºå°±æ£€æµ‹ä¸åˆ°æ€»çº¿ä¸Šå…¶å®ƒæ²¡æœ‰å“åº”çš„è®¾å¤‡ã€‚</strong> å¹¿æ’­æ¶ˆæ¯çš„å«ä¹‰æ€»æ˜¯å®šä¹‰åœ¨ç¬¬äºŒä¸ªå­—èŠ‚ã€‚<br /><img src="65d333b522f92fae6584d6d5cccc4de9.jpeg" alt="" /></p><details><summary>ä»¥ä¸‹å†…å®¹éœ€è¦çš„æ—¶å€™å†çœ‹</summary><p>æœ‰ä¸¤ç§å¯èƒ½æƒ…å†µï¼š</p><ul><li><p>æœ€ä½ä½â€œBâ€ä¸º0</p></li><li><p>æœ€ä½ä½â€œBâ€ä¸º1</p></li><li><p>â€œBâ€ä¸º0ï¼Œç¬¬äºŒä¸ªå­—èŠ‚åŒ…æ‹¬ä»¥ä¸‹å®šä¹‰ï¼š<br />0000 0110ï¼ˆ06hï¼‰ï¼šå¤ä½å¹¶é€šè¿‡ç¡¬ä»¶å†™å†…å®¹åˆ°ä»æœºçš„å¯ç¼–ç¨‹éƒ¨åˆ†ã€‚æ‰€æœ‰å¯ä»¥å“åº”æ­¤ç±»å¹¿æ’­çš„ä»æœºï¼Œæ”¶åˆ°æ­¤ä¸¤å­—èŠ‚åï¼Œè¿›è¡Œå¤ä½å¹¶è¿›å…¥å®ƒä»¬åœ°å€çš„å¯ç¼–ç¨‹éƒ¨åˆ†ã€‚æ³¨æ„ç¡®ä¿è®¾å¤‡åœ¨åŠ ç”µåä¸ä¼šå°†SDAæˆ–SCLæ‹‰ä½ï¼Œå› ä¸ºè¿™äº›ä½ç”µå¹³ä¼šé˜»å¡æ€»çº¿ï¼›<br />0000 0100ï¼ˆ04hï¼‰ï¼šé€šè¿‡ç¡¬ä»¶å†™å†…å®¹åˆ°ä»æœºçš„å¯ç¼–ç¨‹éƒ¨åˆ†ï¼Œä½œç”¨ç±»ä¼¼ï¼ˆ06hï¼‰ï¼Œä½†è®¾å¤‡ä¸ä¼šå¤ä½ï¼›<br />0000 0000ï¼ˆ00hï¼‰ï¼šè¿™ä¸ªä¸åº”è¯¥ä½œä¸ºç¬¬äºŒä¸ªå­—èŠ‚ç”¨ã€‚<br />ç¼–ç¨‹æ—¶åºå‚è€ƒç›¸åº”è®¾å¤‡çš„DATASHEETã€‚\</p></li><li><p>â€œBâ€ä¸º1ï¼Œä¸¤å­—èŠ‚å¹¿æ’­å®šä¹‰ä¸ºâ€œç¡¬ä»¶å¹¿æ’­â€ã€‚ä¸»æœºåœ¨ç¼–ç¨‹åï¼Œå¯ä»¥å‘é€æ—¢å®šçš„ä»æœºåœ°å€åˆ°æ€»çº¿ä¸Šï¼Œæ„æˆä¸¤å­—èŠ‚åºåˆ—çš„â€œç¡¬ä»¶å¹¿æ’­â€ã€‚ä¸»æœºå¯èƒ½å¹¶ä¸çŸ¥é“æ€»çº¿ä¸Šä»æœºçš„åœ°å€ï¼Œå®ƒåªèƒ½é€šè¿‡ç¡¬ä»¶å¹¿æ’­çš„æ–¹å¼ï¼Œå°†è‡ªèº«åœ°å€é€šçŸ¥ç»™ç³»ç»Ÿã€‚<br />ç¡¬ä»¶å¹¿æ’­çš„ç¬¬äºŒä¸ªå­—èŠ‚çš„å‰ä¸ƒä½åŒ…æ‹¬ä¸»æœºçš„åœ°å€ã€‚æ€»çº¿ä¸Šçš„æ™ºèƒ½è®¾å¤‡å¦‚å¾®æ§åˆ¶å™¨ï¼Œè¯»å–æ­¤åœ°å€å¹¶æ¥æ”¶ä¸»æœºå‘é€çš„å…¶å®ƒä¿¡æ¯ã€‚å¦‚æœä¸»æœºä¹Ÿå¯ä»¥ä½œä¸ºä»æœºä½¿ç”¨ï¼Œåˆ™ä»¥ä¸Šè¯»å–çš„ä¸»æœºåœ°å€å®é™…ä¸Šä¹Ÿå°±æ˜¯ï¼ˆåˆ‡æ¢ä¸»ä»æ¨¡å¼åçš„ï¼‰ä»æœºåœ°å€ã€‚åœ¨ç³»ç»Ÿä¸­ï¼Œä¸€ç§å¯èƒ½æ˜¯ç³»ç»Ÿå¤ä½åè®¾å¤‡ç”±ä¸»æœºå‘é€æ¨¡å¼åˆ‡æ¢åˆ°ä»æœºæ¥æ”¶æ¨¡å¼ï¼Œè¿™æ—¶ç”±ç³»ç»Ÿä¸»æœºå…ˆå‘Šè¯‰ç¡¬ä»¶ä¸»æœºæ•°æ®åº”é€å¾€çš„ä»æœºåœ°å€ï¼Œè¿™æ ·å½“ç¡¬ä»¶ä¸»æœºå‘é€æ•°æ®æ—¶å°±å¯ä»¥ç›´æ¥å‘æŒ‡å®šä»æœºï¼ˆåœ°å€ï¼‰å‘é€æ•°æ®äº†ã€‚<br />å¦‚ä¸‹æ‰€ç¤ºï¼š</p></li></ul></details><p><img src="e76a7cecc118d861220014786be3e39b.jpeg" alt="" /></p><h3 id="dual-address-acknowledged"><a class="markdownIt-Anchor" href="#dual-address-acknowledged"></a> Dualâ€‚Addressâ€‚Acknowledged</h3><p>åŒåœ°å€ç¡®è®¤ã€‚å…è®¸ä»æœºå“åº”ä¸¤ä¸ªä¸åŒçš„åœ°å€ã€‚æœ‰å•¥ç”¨ï¼Ÿï¼Ÿï¼Ÿï¼Ÿ</p><h3 id="primary-slave-address"><a class="markdownIt-Anchor" href="#primary-slave-address"></a> Primaryâ€‚slaveâ€‚address</h3><p>ä»è®¾å¤‡åˆå§‹åœ°å€ã€‚ä¸ç”¨å¡«ã€‚</p><h2 id="å‚è€ƒèµ„æ–™"><a class="markdownIt-Anchor" href="#å‚è€ƒèµ„æ–™"></a> å‚è€ƒèµ„æ–™</h2><ul><li>â­â­â­<a href="https://blog.csdn.net/sternlycore/article/details/85759475">I2Cè¯¦è§£ï¼ˆäºŒï¼‰_i2c general call-CSDNåšå®¢</a>éµå¾ªÂ <a href="http://creativecommons.org/licenses/by-sa/4.0/">CC 4.0 BY-SA</a>Â ç‰ˆæƒåè®®</li><li><a href="https://blog.csdn.net/yangguoyu8023/article/details/71440688">IICè®¾å¤‡é©±åŠ¨ç¨‹åºï¼ˆå…­ï¼‰â€”â€”â€”â€”SMBusåè®®-CSDNåšå®¢</a></li><li><a href="https://shequ.stmicroelectronics.cn/thread-571931-1-1.html">ã€STM32F030å¼€å‘æ—¥å¿—/è¯„æµ‹/ç¬”è®°ã€‘+ï¼ˆ1ï¼‰STM32F0å¤„ç†å™¨I2Cæ—¶é—´é…â€¦ - STM32å›¢é˜Ÿ STæ„æ³•åŠå¯¼ä½“ä¸­æ–‡è®ºå›</a></li><li>â­â­â­<a href="https://blog.csdn.net/as480133937/article/details/105259075">ã€STM32ã€‘HALåº“ STM32CubeMXæ•™ç¨‹åäºŒâ€”IIC(è¯»å–AT24C02 )_hal iic-CSDNåšå®¢</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> åµŒå…¥å¼ </category>
          
          <category> CubeMXé…ç½®åŠŸèƒ½ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> STM32 </tag>
            
            <tag> CubeMX </tag>
            
            <tag> åµŒå…¥å¼ </tag>
            
            <tag> iic </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é€šä¿¡åè®®ï¼šiic</title>
      <link href="/posts/55329/"/>
      <url>/posts/55329/</url>
      
        <content type="html"><![CDATA[<details><summary>ç‰ˆæƒä¿¡æ¯</summary><p>:::warning</p><p>æœ¬æ–‡ç« éµå¾ª <a href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh-hans">CC 4.0 BY-SA</a> ç‰ˆæƒåè®®ï¼Œè½¬è½½è¯·é™„ä¸ŠåŸæ–‡å‡ºå¤„é“¾æ¥å’Œæœ¬å£°æ˜ã€‚</p><p>:::</p></details><hr /><h2 id="è¯´æ˜"><a class="markdownIt-Anchor" href="#è¯´æ˜"></a> è¯´æ˜</h2><p>iicä½œä¸ºå½“ä»ŠåµŒå…¥å¼åº”ç”¨ä¸­æœ€å¸¸è§çš„ä¸²è¡Œé€šä¿¡åè®®ä¹‹ä¸€<span class="spoiler">æˆ‘æ„¿å°†å…¶ä¸UARTå’ŒSPIå¹¶ç§°ä¸‰å¹»ç¥</span>ï¼Œæ˜¯å¯¹äºåµŒå…¥å¼å¼€å‘è€…æ˜¯æœ€åŸºæœ¬çš„è¦æ±‚ï¼Œå› ä¸ºè€æ˜¯ä¼šå¿˜è®°iicåè®®çš„ä¸€äº›ç»†èŠ‚ï¼Œæ•…ä½œè®°å½•ã€‚</p><h2 id="iicç®€ä»‹"><a class="markdownIt-Anchor" href="#iicç®€ä»‹"></a> iicç®€ä»‹</h2><p><strong>IIC(Interï¼Integrated Circuit)æ€»çº¿</strong>æ˜¯ä¸€ç§ç”±NXPï¼ˆåŸPHILIPSï¼‰å…¬å¸å¼€å‘çš„ä¸¤çº¿å¼ä¸²è¡Œæ€»çº¿ï¼Œç”¨äºè¿æ¥å¾®æ§åˆ¶å™¨åŠå…¶å¤–å›´è®¾å¤‡ã€‚<strong>æ˜¯ä¸€ç§åŠåŒå·¥åŒæ­¥çš„ä½é€Ÿé€šä¿¡åè®®</strong>ã€‚å¤šç”¨äºä¸»æ§åˆ¶å™¨å’Œä»å™¨ä»¶é—´çš„ä¸»ä»é€šä¿¡ï¼Œåœ¨å°æ•°æ®é‡åœºåˆä½¿ç”¨ï¼Œä¼ è¾“è·ç¦»çŸ­ï¼Œä»»æ„æ—¶åˆ»åªèƒ½æœ‰ä¸€ä¸ªä¸»æœºç­‰ç‰¹æ€§ã€‚<br /><br />ICä½¿ç”¨ä¸¤æ ¹ä¿¡å·çº¿è¿›è¡Œé€šä¿¡ï¼šä¸€æ ¹æ—¶é’Ÿçº¿SCLï¼Œä¸€æ ¹æ•°æ®çº¿SDAã€‚IICå°†SCLå¤„äºé«˜æ—¶SDAæ‹‰ä½çš„åŠ¨ä½œä½œä¸ºå¼€å§‹ä¿¡å·ï¼ŒSCLå¤„äºé«˜æ—¶SDAæ‹‰é«˜çš„åŠ¨ä½œä½œä¸ºç»“æŸä¿¡å·ï¼›ä¼ è¾“æ•°æ®æ—¶ï¼ŒSDAåœ¨SCLä½ç”µå¹³æ—¶æ”¹å˜æ•°æ®ï¼Œåœ¨SCLé«˜ç”µå¹³æ—¶ä¿æŒæ•°æ®ï¼Œæ¯ä¸ªSCLè„‰å†²çš„é«˜ç”µå¹³ä¼ é€’1ä½æ•°æ®ã€‚</p><h2 id="ä¸»è¦ç‰¹æ€§"><a class="markdownIt-Anchor" href="#ä¸»è¦ç‰¹æ€§"></a> ä¸»è¦ç‰¹æ€§</h2><ul><li>ICç”¨2æ ¹ä¿¡å·çº¿é€šä¿¡ï¼šä¸²è¡Œæ•°æ®çº¿ SDAã€ä¸²è¡Œæ—¶é’Ÿçº¿ SCLï¼›</li><li>IICæ€»çº¿ä¸Šæ‰€æœ‰å™¨ä»¶çš„SDAã€SCLå¼•è„šè¾“å‡ºé©±åŠ¨éƒ½ä¸º<strong>å¼€æ¼(OD) ç»“æ„</strong>ï¼Œé€šè¿‡å¤–æ¥ä¸Šæ‹‰ç”µé˜»å®ç°æ€»çº¿ä¸Šæ‰€æœ‰èŠ‚ç‚¹SDAã€SCLä¿¡å·çš„çº¿ä¸é€»è¾‘å…³ç³»ï¼›</li><li>æ€»çº¿ä¸Šçš„æ‰€æœ‰è®¾å¤‡é€šè¿‡è½¯ä»¶å¯»å€ä¸”å…·æœ‰å”¯ä¸€çš„åœ°å€ï¼ˆ7ä½æˆ–10ä½ï¼‰ã€‚7ä½â€œä»æœºä¸“ç”¨åœ°å€ç â€ï¼Œå…¶é«˜4ä½ä¸ºç”±ç”Ÿäº§å‚å®¶åˆ¶å®šçš„è®¾å¤‡ç±»å‹åœ°å€ï¼Œä½3ä½ä¸ºå™¨ä»¶å¼•è„šå®šä¹‰åœ°å€ï¼ˆç”±ä½¿ç”¨è€…å®šä¹‰ï¼‰ï¼›10ä½åœ°å€ä¸å¸¸è§ï¼›</li><li>ä»»ä½•æ—¶åˆ»éƒ½åªå­˜åœ¨ç®€å•çš„ä¸»ä»å…³ç³»ï¼ŒæŒ‰æ•°æ®ä¼ è¾“çš„æ–¹å‘ï¼Œä¸»æœºå¯ä»¥æ˜¯ä¸»å‘é€å™¨æˆ–ä¸»æ¥æ”¶å™¨ï¼›</li><li>æ”¯æŒå¤šä¸»æœºã€‚åœ¨æ€»çº¿ä¸Šå­˜åœ¨å¤šä¸ªä¸»æœºæ—¶ï¼Œé€šè¿‡å†²çªæ£€æµ‹å’Œä»²è£æœºåˆ¶é˜²æ­¢å¤šä¸ªä¸»æœºåŒæ—¶å‘èµ·æ•°æ®ä¼ è¾“æ—¶å­˜åœ¨çš„å†²çªï¼›</li><li>IICæ€»çº¿ä¸Šæ‰€æœ‰å™¨ä»¶éƒ½å…·æœ‰â€œè‡ªåŠ¨åº”ç­”â€åŠŸèƒ½ï¼Œä¿è¯æ•°æ®ä¼ è¾“çš„æ­£ç¡®æ€§ï¼› <strong>ä¸»æœºå’Œä»æœºçš„åŒºåˆ«åœ¨äºå¯¹SCLçš„å‘é€æƒï¼Œåªæœ‰ä¸»æœºæ‰èƒ½å‘é€SCL</strong>ï¼›</li><li>IICæ€»çº¿å…è®¸æŒ‚è½½æœ€å¤šçš„è®¾å¤‡æ•°é‡å–å†³äºæ€»çº¿ä¸Šæœ€å¤§ç”µå®¹å€¼ï¼Œä¸€èˆ¬ä¸º400pfï¼ˆHsæ¨¡å¼100pfï¼‰</li></ul><p>æ”¯æŒçš„ä¼ è¾“é€Ÿç‡ï¼š</p><table><thead><tr><th>æ¨¡å¼</th><th>é€Ÿåº¦</th></tr></thead><tbody><tr><td>æ ‡å‡†æ¨¡å¼ï¼ˆStandard Modeï¼‰</td><td>100kb/s</td></tr><tr><td>å¿«é€Ÿæ¨¡å¼ï¼ˆFast Modeï¼‰</td><td>400kb/s</td></tr><tr><td>å¢å¼ºå¿«é€Ÿæ¨¡å¼ï¼ˆFast Mode Plusï¼‰</td><td>1Mb/s</td></tr><tr><td>é«˜é€Ÿæ¨¡å¼ï¼ˆHigh Speed Modeï¼‰</td><td>3.4Mb/s</td></tr><tr><td>æé€Ÿæ¨¡å¼ï¼ˆUltra-FastModeï¼‰</td><td>5Mb/s</td></tr></tbody></table><h2 id="ç¡¬ä»¶ç»“æ„"><a class="markdownIt-Anchor" href="#ç¡¬ä»¶ç»“æ„"></a> ç¡¬ä»¶ç»“æ„</h2><h3 id="æ€»çº¿ç»“æ„"><a class="markdownIt-Anchor" href="#æ€»çº¿ç»“æ„"></a> æ€»çº¿ç»“æ„</h3><p>IICä½¿ç”¨ä¸¤æ ¹ä¿¡å·çº¿è¿›è¡Œé€šä¿¡ï¼Œè¦æ±‚ä¸¤æ ¹çº¿éƒ½ä½¿ç”¨ <strong>å¼€æ¼è¾“å‡ºæ¥ä¸Šæ‹‰ç”µé˜»</strong> çš„é…ç½®ï¼Œä»¥æ­¤å®ç°æ€»çº¿ä¸Šæ‰€æœ‰èŠ‚ç‚¹SDAã€SCLä¿¡å·çš„<strong>çº¿ä¸</strong>é€»è¾‘å…³ç³»ã€‚<br />Rpç”µé˜»çš„å–å€¼æœ‰ä¸€å®šçš„è¦æ±‚ï¼Œå¤ªå°ä¼šå¯¼è‡´çŒå…¥ç”µæµè¿‡å¤§ï¼Œä½¿â€™ä½â€™æ•°æ®ä¸ç¨³å®šï¼Œç”šè‡³æŸåç«¯å£ï¼›å¤ªå¤§ä¼šå¯¼è‡´ä¿¡å·ä¸Šå‡ç¼“æ…¢ï¼Œä½¿å¾—æ•°æ®ä¼ è¾“å‡ºé”™ã€‚åœ¨ä¸åŒåº”ç”¨åœºæ™¯åŠä¾›ç”µç”µå‹ä¸‹æœ‰ä¸åŒçš„å–å€¼è¦æ±‚ã€‚<br /><img src="79b9189018381624841758e3ade6e477.png" alt="" /></p><h3 id="ä»²è£æœºåˆ¶"><a class="markdownIt-Anchor" href="#ä»²è£æœºåˆ¶"></a> ä»²è£æœºåˆ¶</h3><h4 id="å¼€æ¼è¾“å‡º"><a class="markdownIt-Anchor" href="#å¼€æ¼è¾“å‡º"></a> å¼€æ¼è¾“å‡º</h4><p>å¼€æ¼è¾“å‡ºå›é¡¾ï¼šå½“è¾“å…¥ä¸ºé«˜ç”µå¹³æ—¶ï¼Œä¸‰çº§ç®¡å¯¼é€šï¼Œè¾“å‡ºä¸ºä½ç”µå¹³ã€‚è¾“å…¥ä¸ºä½ç”µå¹³ï¼Œè¾“å‡ºä¸ç¡®å®šï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¦‚æœä½¿ç”¨å¼ºä¸Šæ‹‰ï¼Œåˆ™å¯ä»¥è¾“å‡ºé«˜ç”µå¹³ã€‚å¼€æ¼è¾“å‡ºæ˜¯å®ç°â€çº¿ä¸â€œçš„ä¸€ç§æ–¹æ¡ˆã€‚</p><h4 id="çº¿ä¸"><a class="markdownIt-Anchor" href="#çº¿ä¸"></a> çº¿ä¸</h4><p>å¤šä¸ªå¼€æ¼è¾“å‡ºè¿æ¥åœ¨ä¸€èµ·æ—¶ï¼Œåªè¦æœ‰ä¸€ä¸ªè¾“å…¥ä¸ºä½ç”µå¹³ï¼Œé‚£ä¹ˆæ€»ä½“è¡¨ç°ä¸ºä½ç”µå¹³ï¼ˆå¤„äºä½ç”µå¹³çš„é‚£ä¸ªioå£æŠŠvddæµå‘Voutçš„ç”µæµå¼•èµ°äº†ï¼‰ã€‚<br /><img src="Snipaste_2025-03-11_20-01-18.png" alt="" /></p><p>â€œçº¿ä¸â€œä½¿å¾—æ€»çº¿ä¸Šä¸ä¼šå‡ºç°æ•°æ®å†²çªï¼Œå®ç°äº†æ€»çº¿çš„ä»²è£æ§åˆ¶ã€‚æ€»çº¿çš„æ§åˆ¶æƒä¼šäº¤ç»™æœ€åä¸€ä¸ªè¾“å‡ºä½ç”µå¹³çš„è®¾å¤‡ï¼Œå…¶å®ƒè®¾å¤‡ï¼ˆè¾“å‡ºé«˜ï¼‰é€šè¿‡æ£€æµ‹æ€»çº¿ä¸Šçš„ç”µå¹³çŠ¶æ€ï¼ˆçŠ¶æ€ä½ï¼‰ï¼Œå¯¹æ¯”ä¸è‡ªå·±è¾“å‡ºçŠ¶æ€ä¸ä¸€è‡´ï¼Œåˆ™è‡ªåŠ¨é€€å‡ºå¯¹æ€»çº¿çš„æ§åˆ¶è¯·æ±‚ï¼Œä»è€Œé˜²æ­¢äº†æ€»çº¿ä¸Šçš„æ•°æ®å†²çªã€‚</p><h2 id="æ—¶åºé€»è¾‘"><a class="markdownIt-Anchor" href="#æ—¶åºé€»è¾‘"></a> ğŸŒŸæ—¶åºé€»è¾‘</h2><h3 id="æ•°æ®æœ‰æ•ˆæ€§"><a class="markdownIt-Anchor" href="#æ•°æ®æœ‰æ•ˆæ€§"></a> æ•°æ®æœ‰æ•ˆæ€§</h3><p>sclä¸ºé«˜ç”µå¹³æœŸé—´ï¼Œä¸ºæ•°æ®é‡‡é›†æœŸï¼Œæ‰€ä»¥sdaä¸Šçš„æ•°æ®æ­¤æ—¶ä¸€å®šè¦ä¿æŒç¨³å®šå“¦~<br /><img src="6c89c55012485f151df1a9fb48843d3f.jpeg" alt="" /></p><h3 id="å¼€å§‹ä¸ç»“æŸä¿¡å·"><a class="markdownIt-Anchor" href="#å¼€å§‹ä¸ç»“æŸä¿¡å·"></a> å¼€å§‹ä¸ç»“æŸä¿¡å·</h3><p>æœ‰è®¾å¤‡æƒ³è¦sdaæ€»çº¿æ§åˆ¶æƒæ—¶ï¼Œä¼šä¸»åŠ¨æŠŠsdaæ‹‰ä½ã€‚å¹³æ—¶sdaä¸ºé«˜ã€‚</p><ul><li><strong>å¼€å§‹ä¿¡å·ï¼ˆSTART/Sï¼‰ï¼š</strong>Â <strong>SCLä¸ºé«˜æ—¶</strong>ï¼ŒSDAä»é«˜åˆ°ä½çš„è·³å˜äº§ç”Ÿå¼€å§‹ä¿¡å· ã€‚</li><li><strong>ç»“æŸä¿¡å·ï¼ˆSTOP/Pï¼‰Â Â ï¼š</strong>Â <strong>SCLä¸ºé«˜æ—¶</strong>ï¼ŒSDAä»ä½åˆ°é«˜çš„è·³å˜äº§ç”Ÿç»“æŸä¿¡å·ã€‚</li><li><strong>é‡å¤å¼€å§‹ä¿¡å·ï¼ˆReSTART/Srï¼‰ï¼š</strong>Â åœ¨ç»“æŸæ—¶ä¸ç»™å‡ºSTOPä¿¡å·ï¼Œè€Œä»¥ä¸€ä¸ªæ—¶é’Ÿå‘¨æœŸå†…å†æ¬¡ç»™å‡ºå¼€å§‹ä¿¡å·ä½œä¸ºæ›¿ä»£ã€‚<br /><img src="f749a6ab4f928522a99db173fd504647.png" alt="" /></li></ul><h3 id="ä¼ è¾“æ ¼å¼å­—èŠ‚æ ¼å¼"><a class="markdownIt-Anchor" href="#ä¼ è¾“æ ¼å¼å­—èŠ‚æ ¼å¼"></a> ä¼ è¾“æ ¼å¼ï¼ˆå­—èŠ‚æ ¼å¼ï¼‰</h3><p>SDAæ•°æ®çº¿ä¸Šçš„æ¯ä¸ªå­—èŠ‚<strong>å¿…é¡»æ˜¯8ä½</strong>ï¼Œå¯¹äºæ¯æ¬¡ä¼ è¾“çš„<strong>å­—èŠ‚æ•°æ²¡æœ‰é™åˆ¶</strong>ã€‚æ¯ä¸ªå­—èŠ‚ï¼ˆ8ä½ï¼‰æ•°æ®ä¼ é€å®Œåç´§è·Ÿç€åº”ç­”ä¿¡å·ï¼ˆACKï¼Œç¬¬9ä½ï¼‰ã€‚æ•°æ®çš„å…ˆåé¡ºåºä¸ºï¼š<strong>é«˜ä½åœ¨å‰</strong>Â ã€‚<br /><img src="d3bbca378362c28829cee243a8497ef7.png" alt="" /></p><h3 id="ackä¿¡å·"><a class="markdownIt-Anchor" href="#ackä¿¡å·"></a> ACKä¿¡å·</h3><p>åè®®è§„å®šæ•°æ®ä¼ è¾“è¿‡ç¨‹å¿…é¡»åŒ…å«åº”ç­”ï¼ˆACKï¼‰ã€‚æ¥æ”¶å™¨é€šè¿‡åº”ç­”å‘ŠçŸ¥å‘é€çš„å­—èŠ‚å·²è¢«æˆåŠŸæ¥æ”¶ï¼Œä¹‹åå‘é€å™¨å¯ä»¥è¿›è¡Œä¸‹ä¸€ä¸ªå­—èŠ‚çš„ä¼ è¾“ã€‚æ‰€ä»¥ä¸»æœºäº§ç”Ÿæ•°æ®ä¼ è¾“è¿‡ç¨‹ç”¨äº†9ä¸ªæ—¶é’Ÿã€‚å‘é€å™¨åœ¨åº”ç­”æ—¶é’Ÿå‘¨æœŸå†…é‡Šæ”¾å¯¹SDAæ€»çº¿çš„æ§åˆ¶ï¼Œè¿™æ · <strong>æ¥æ”¶å™¨</strong> å¯ä»¥é€šè¿‡å°†SDAçº¿æ‹‰ä½å‘ŠçŸ¥å‘é€å™¨ï¼šæ•°æ®å·²è¢«æˆåŠŸæ¥æ”¶ã€‚(è°æ¥æ”¶ï¼Œè°å‘é€åº”ç­”ä¿¡å·)<span class="spoiler">å‘é€ç«¯å¯¹æ¥æ”¶ç«¯è¯´ï¼šæˆ‘ä»–å¦ˆè¦ç»™ä½ å‘æ•°æ®äº†ï¼Œæ”¶åˆ°è´§ä»–å¦ˆå›å¤ä¸€ä¸‹0</span><br />åº”ç­”ä¿¡å·åˆ†ä¸ºä¸¤ç§ï¼š</p><ol><li>å½“ç¬¬9ä½(åº”ç­”ä½)ä¸ºÂ <strong>ä½ç”µå¹³</strong>Â æ—¶ï¼Œä¸ºÂ <strong>ACK</strong>â€‚â€‰ï¼ˆAcknowledgeï¼‰â€ƒâ€‚â€‰ä¿¡å·</li><li>å½“ç¬¬9ä½(åº”ç­”ä½)ä¸ºÂ <strong>é«˜ç”µå¹³</strong>Â æ—¶ï¼Œä¸ºÂ <strong>NACK</strong>ï¼ˆNot Acknowledgeï¼‰ä¿¡å·</li></ol><p>ä¸»æœºå‘é€æ•°æ®ï¼Œä»æœºæ¥æ”¶æ—¶ï¼ŒACKä¿¡å·ç”±ä»æœºå‘å‡ºã€‚å½“åœ¨SCLç¬¬9ä½æ—¶é’Ÿé«˜ç”µå¹³ä¿¡å·æœŸé—´ï¼Œå¦‚æœSDAä»ç„¶ä¿æŒé«˜ç”µå¹³ï¼Œåˆ™ä¸»æœºå¯ä»¥ç›´æ¥äº§ç”ŸSTOPæ¡ä»¶ç»ˆæ­¢ä»¥åçš„ä¼ è¾“æˆ–è€…ç»§ç»­ReSTARTå¼€å§‹ä¸€ä¸ªæ–°çš„ä¼ è¾“ <span class="spoiler">æ­¤æ—¶ä¸»æœºå‘ç°äº‹æƒ…ä¸å¯¹ï¼Œæˆ‘ä»–å¦ˆè¾›è¾›è‹¦è‹¦ç»™ä½ å‘çš„è´§ä½ è¿å¥å›åº”éƒ½æ²¡æœ‰ï¼Œä¸»æœºå¯ä»¥é€‰æ‹©ä¸å‘äº†ï¼Œæˆ–è€…ç»§ç»­ç”¨çˆ±å‘ç”µå‘å‘å‘ å¤§å£°å‘ï¼æ¥è´¢ï¼Œæ¥~æˆ‘æ˜¯æ†‹ä½¬ä»”</span><br /><br />ä»æœºå‘é€æ•°æ®ï¼Œä¸»æœºè¯»å–æ•°æ®æ—¶ï¼ŒACKä¿¡å·ç”±ä¸»æœºç»™å‡ºã€‚ä¸»æœºå“åº”ACKè¡¨ç¤ºè¿˜éœ€è¦å†æ¥æ”¶æ•°æ®ï¼Œè€Œå½“ä¸»æœºæ¥æ”¶å®Œæƒ³è¦çš„æ•°æ®åï¼Œé€šè¿‡å‘é€NACKå‘Šè¯‰ä»æœºè¯»å–æ•°æ®ç»“æŸã€é‡Šæ”¾æ€»çº¿ã€‚éšåä¸»æœºå‘é€STOPå‘½ä»¤ï¼Œå°†æ€»çº¿é‡Šæ”¾ï¼Œç»“æŸè¯»æ“ä½œã€‚<span class="spoiler">ä»æœºè¿™ä¸ªfwï¼Œçº¯æ·»ç‹—çº§åˆ«çš„ã€éº¦å½“åŠ³çº§åˆ«çš„ã€ATMçº§åˆ«çš„ã€‚ä¸»æœºå«ä¸€ç›´å«ä»æœºçˆ†é‡‘å¸ï¼Œä»æœºçœŸå°±ä¸€ç›´çˆ†ï¼Œæ¦¨å¹²ä»æœºäº†å°±ç›´æ¥æŠŠä»–ç”©äº†ä»–å¦ˆçš„</span></p><h3 id="7bitå®Œæ•´ä¼ è¾“ç¤ºæ„å›¾"><a class="markdownIt-Anchor" href="#7bitå®Œæ•´ä¼ è¾“ç¤ºæ„å›¾"></a> 7bitå®Œæ•´ä¼ è¾“ç¤ºæ„å›¾</h3><p><img src="f313f22e0c7bc962ff6e9e5afc2bbc95.png" alt="" /></p><p>æ²¡é”™å‰7ä½æ˜¯åœ°å€ï¼Œå‘å®Œåœ°å€å‘é€è¯»/å†™å‘½ä»¤ï¼Œç„¶åå‘é€ç«¯äº¤å‡ºsdaæ§åˆ¶æƒï¼Œç­‰å¾…æ¥æ”¶ç«¯çš„åº”ç­”ä¿¡å·ã€‚å¦‚æœä»æœºæ²¡æœ‰ç»™å‡ºACKåº”ç­”ï¼Œåˆ™è¯´æ˜æ¥æ”¶è®¾å¤‡å¯èƒ½æ²¡æœ‰æ”¶åˆ°æ•°æ®ï¼ˆå¦‚å¯»å€çš„è®¾å¤‡ä¸å­˜åœ¨æˆ–æ˜¯è®¾å¤‡æ­£åœ¨å¿™ç¢Œï¼‰æˆ–æ— æ³•è§£ææ”¶åˆ°çš„æ•°æ®ï¼Œå¦‚æœæ˜¯è¿™æ ·ï¼Œåˆ™ç”±masteræ¥å†³å®šå¦‚ä½•å¤„ç†ï¼ˆSTOPæˆ–ReSTARTï¼‰ã€‚</p><h3 id="ä»æœºå‘ä¸»æœºæ”¶çš„æƒ…å†µ"><a class="markdownIt-Anchor" href="#ä»æœºå‘ä¸»æœºæ”¶çš„æƒ…å†µ"></a> ä»æœºå‘ï¼Œä¸»æœºæ”¶çš„æƒ…å†µ</h3><p>ä¸»æœºå¯¹å‘ä»æœºè¯»å–æ•°æ®æ—¶ï¼Œæ–¹å¼åŒå‘é€æ•°æ®æœ‰æ‰€ä¸åŒï¼Œè¦å¤šä¸€æ¬¡é€šä¿¡è¿‡ç¨‹ã€‚<br />ä¸»æœºéœ€è¦å…ˆå‘ä»æœºå‘é€ä¸€æ¬¡ä¿¡å·ï¼Œå‘Šè¯‰ä»æœºâ€æˆ‘è¦è¯»å–æ•°æ®â€œï¼Œç„¶å<strong>é‡å¼€ä¸€æ¬¡é€šä¿¡</strong><sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup>ï¼Œç­‰å¾…ä»æœºä¸»åŠ¨è¿”å›æ•°æ®ã€‚<br /><img src="Snipaste_2025-03-11_20-50-32.png" alt="" /></p><h3 id="10bitä¼ è¾“"><a class="markdownIt-Anchor" href="#10bitä¼ è¾“"></a> 10bitä¼ è¾“</h3><p>éšç€IICè®¾å¤‡æ—¥ç›Šå¢å¤šï¼Œ7ä½çš„ä»æœºåœ°å€é€æ¸ä¸èƒ½æ»¡è¶³ä½¿ç”¨ï¼Œäºæ˜¯ä»æœºåœ°å€ä»7ä½æ‰©å……åˆ°äº†10ä½ã€‚7ä½å’Œ10ä½åœ°å€çš„è®¾å¤‡å¯ä»¥å…±å­˜äºåŒä¸€ä¸ªI2Cæ€»çº¿ç³»ç»Ÿäº’ä¸å†²çªï¼Œå±•ç°äº†è‰¯å¥½çš„å…¼å®¹æ€§ã€‚<br />10-bit åœ°å€çš„IICè®¾å¤‡éœ€è¦ 2-Byte æ¥ä¼ è¾“ä»è®¾å¤‡åœ°å€ä¿¡æ¯ï¼Œæ‰€ä»¥é‡‡ç”¨äº†è¿™æ ·çš„è®¾è®¡ï¼šç¬¬ä¸€ä¸ªå­—èŠ‚ä¸º 11110 + åœ°å€é«˜ä¸¤ä½(ç¬¬10ã€9bit) + è¯»å†™æ§åˆ¶ä½ï¼Œç¬¬äºŒä¸ªå­—èŠ‚ä¸ºä»è®¾å¤‡åœ°å€ä½8ä½ï¼Œé™¤æ­¤ä¹‹å¤–ä¸7-bitè®¾å¤‡ç›¸åŒã€‚ï¼ˆå› ä¸º â€œ1111 0xxâ€ ä¸º IIC ä¸­ç‰¹åœ°ä¿ç•™çš„16ä¸ªç‰¹æ®ŠæŒ‡ä»¤åœ°å€ä¸­çš„ä¸€ä¸ªï¼Œæ‰€ä»¥7-bitè®¾å¤‡ä¸ä¼šå“åº”è¯¥é¦–å­—èŠ‚çš„å‘¼å«ï¼Œåªæœ‰10-bitè®¾å¤‡ä¼šå“åº”ï¼Œä»è€Œå®ç°è‰¯å¥½å…¼å®¹ã€‚<span class="spoiler">å¥½æ ·çš„ï¼ŒiicğŸ‘ğŸ‘ğŸ‘ä¸ºä½ éª„å‚²</span>ï¼‰<br />ç›´æ¥è´´å›¾äº†<br />å†™<br /><img src="5569e1d0e47921103fe2d9d5b8ce83f9.jpeg" alt="" /><br />è¯»<br /><img src="dee04bba6b887b740ab122eac9bc37bf.jpeg" alt="" /><br />æ³¨æ„ç¬¬ä¸€å¸§éƒ½æ˜¯writeå“¦ã€‚</p><h2 id="å‚è€ƒæ–‡ç« "><a class="markdownIt-Anchor" href="#å‚è€ƒæ–‡ç« "></a> å‚è€ƒæ–‡ç« </h2><ul><li>â­â­â­<a href="https://blog.csdn.net/qq_39829913/article/details/104718185">åŸºç¡€é€šä¿¡åè®®ä¹‹ IIC (I2C) è¯¦ç»†è®²è§£_i2cé€šä¿¡çš„è¯¦ç»†è®²è§£-CSDNåšå®¢</a>éµå¾ªÂ <a href="http://creativecommons.org/licenses/by-sa/4.0/">CC 4.0 BY-SA</a>Â ç‰ˆæƒåè®®</li><li><a href="https://www.cnblogs.com/yuanqiangfei/p/15781416.html">äºŒåã€I2Cæ€»çº¿ä»²è£æœºåˆ¶ - è½»è½»çš„å» - åšå®¢å›­</a></li><li><a href="https://zhuanlan.zhihu.com/p/638360051">GPIOæ¨æŒ½ä¸å¼€æ¼è¾“å‡ºçš„â€œçº¿ä¸â€œç‰¹æ€§ - çŸ¥ä¹</a></li></ul><hr class="footnotes-sep" /><section class="footnotes"><ol class="footnotes-list"><li id="fn1" class="footnote-item"><p>é‡å¤å¯åŠ¨ä¿¡å·ï¼ˆRepeated Startï¼‰æ˜¯ä¸€ç§ç‰¹æ®Šçš„æ“ä½œï¼Œ<strong>å®ƒå…è®¸åœ¨ä¸é‡Šæ”¾æ€»çº¿çš„æƒ…å†µä¸‹ä»å†™æ¨¡å¼åˆ‡æ¢åˆ°è¯»æ¨¡å¼</strong>ã€‚è¿™ç§æ–¹å¼å¯ä»¥é¿å…æ€»çº¿è¢«å…¶ä»–è®¾å¤‡å ç”¨ï¼Œæˆ–è€…é˜²æ­¢ä¸»è®¾å¤‡å‘é€ STOP ä¿¡å·åï¼Œå…¶ä»–è®¾å¤‡è¯•å›¾æ¥ç®¡æ€»çº¿ã€‚ <a href="#fnref1" class="footnote-backref">â†©ï¸</a></p></li></ol></section>]]></content>
      
      
      <categories>
          
          <category> åµŒå…¥å¼ </category>
          
          <category> é€šä¿¡åè®® </category>
          
      </categories>
      
      
        <tags>
            
            <tag> åµŒå…¥å¼ </tag>
            
            <tag> iic </tag>
            
            <tag> é€šä¿¡åè®® </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CubeMXé…ç½®åŠŸèƒ½ç³»åˆ—ï¼šADCï¼ˆä¸‹ï¼‰</title>
      <link href="/posts/55933/"/>
      <url>/posts/55933/</url>
      
        <content type="html"><![CDATA[<details><summary>ç‰ˆæƒä¿¡æ¯</summary><p>:::warning</p><p>æœ¬æ–‡ç« éµå¾ª <a href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh-hans">CC 4.0 BY-SA</a> ç‰ˆæƒåè®®ï¼Œè½¬è½½è¯·é™„ä¸ŠåŸæ–‡å‡ºå¤„é“¾æ¥å’Œæœ¬å£°æ˜ã€‚</p><p>:::</p></details><hr /><h2 id="ç›®å½•"><a class="markdownIt-Anchor" href="#ç›®å½•"></a> ç›®å½•</h2><ul><li><a href="#%E7%9B%AE%E5%BD%95">ç›®å½•</a></li><li><a href="#1-%E8%BE%93%E5%85%A5%E6%A8%A1%E5%BC%8F">1. è¾“å…¥æ¨¡å¼</a><ul><li><a href="#11-%E5%8D%95%E7%AB%AF%E8%BE%93%E5%85%A5">1.1. å•ç«¯è¾“å…¥</a></li><li><a href="#12-%E5%B7%AE%E5%88%86%E8%BE%93%E5%85%A5">1.2. å·®åˆ†è¾“å…¥</a></li></ul></li><li><a href="#2-%E7%BB%A7%E7%BB%AD%E7%9C%8Bconfig%E9%83%A8%E5%88%86">2. ç»§ç»­çœ‹configéƒ¨åˆ†</a><ul><li><a href="#21-%E9%80%9A%E7%94%A8%E8%AE%BE%E7%BD%AE%E9%83%A8%E5%88%86">2.1. é€šç”¨è®¾ç½®éƒ¨åˆ†ï¼š</a></li><li><a href="#22-adc-%E8%AE%BE%E7%BD%AE%E9%83%A8%E5%88%86">2.2. ADC è®¾ç½®éƒ¨åˆ†ï¼š</a><ul><li><a href="#221-clockpre">2.2.1. ClockPreâ€¦</a></li><li><a href="#222-resolusion">2.2.2. Resolusion</a></li><li><a href="#223-data-ali">2.2.3. Data Aliâ€¦</a></li><li><a href="#224-gain-com">2.2.4. Gain Comâ€¦</a></li><li><a href="#225-scan-conversion-mode">2.2.5. Scan Conversion Mode</a></li><li><a href="#226-end-of-conversion-selection">2.2.6. End Of Conversion Selection</a></li><li><a href="#227-low-powerautowait">2.2.7. Low PowerÂ AutoÂ Wait</a></li><li><a href="#228-continuous-conversion-mode">2.2.8. Continuous Conversion Mode</a></li><li><a href="#229-discontinuous-conversion-mode">2.2.9. Discontinuous Conversion Mode</a></li><li><a href="#2210-dma-continuous-requests">2.2.10. DMA Continuous Requests</a></li><li><a href="#2211-overrun-behaviour">2.2.11. Overrun behaviour</a></li><li><a href="#2212-conversion-data-managerment-modeh7">2.2.12. Conversion Data Managerment Modeï¼ˆH7ï¼‰</a></li></ul></li><li><a href="#23-%E8%A7%84%E5%88%99%E8%BD%AC%E6%8D%A2%E6%A8%A1%E5%BC%8F">2.3. è§„åˆ™è½¬æ¢æ¨¡å¼</a><ul><li><a href="#231-enable-regular-conversions">2.3.1. Enable Regular Conversions</a></li><li><a href="#232-enable-regular-oversamping%E4%B8%8D%E5%B8%B8%E7%94%A8">2.3.2. Enable Regular Oversampingï¼ˆä¸å¸¸ç”¨ï¼‰</a></li><li><a href="#233-oversamping-right-shift%E4%B8%8D%E5%B8%B8%E7%94%A8">2.3.3. Oversamping Right Shiftï¼ˆä¸å¸¸ç”¨ï¼‰</a></li><li><a href="#234-number-of-conversion">2.3.4. Number Of Conversion</a></li><li><a href="#235-external-trigger-conversion-soure%E8%A7%A6%E5%8F%91%E8%BD%AC%E6%8D%A2%E7%9A%84%E5%A4%96%E9%83%A8%E6%9D%A5%E6%BA%90">2.3.5. External Trigger Conversion Soureï¼ˆè§¦å‘è½¬æ¢çš„å¤–éƒ¨æ¥æºï¼‰</a></li><li><a href="#236-external-trigger-conversion-edge%E8%A7%A6%E5%8F%91%E8%BD%AC%E6%8D%A2%E7%9A%84%E5%A4%96%E9%83%A8%E6%B2%BF">2.3.6. External Trigger Conversion Edgeï¼ˆè§¦å‘è½¬æ¢çš„å¤–éƒ¨æ²¿ï¼‰</a></li><li><a href="#237-rank">2.3.7. Rank</a></li><li><a href="#238-offset-number">2.3.8. Offset Number</a></li></ul></li><li><a href="#24-%E7%84%B6%E5%90%8E%E6%98%AF%E6%B3%A8%E5%85%A5%E8%BD%AC%E6%8D%A2%E6%A8%A1%E5%BC%8F">2.4. ç„¶åæ˜¯æ³¨å…¥è½¬æ¢æ¨¡å¼</a><ul><li><a href="#241-%E8%A7%84%E5%88%99%E9%80%9A%E9%81%93">2.4.1. è§„åˆ™é€šé“ï¼š</a></li><li><a href="#242-%E6%B3%A8%E5%85%A5%E9%80%9A%E9%81%93">2.4.2. æ³¨å…¥é€šé“ï¼š</a></li></ul></li><li><a href="#25-%E6%9C%80%E5%90%8E%E6%98%AF%E5%8F%AF%E7%88%B1%E7%9A%84%E7%9C%8B%E9%97%A8%E5%B0%8F%E7%8B%97">2.5. æœ€åæ˜¯å¯çˆ±çš„çœ‹é—¨å°ç‹—ğŸ¥°~</a></li></ul></li><li><a href="#3-%E5%8F%82%E8%80%83%E5%87%BD%E6%95%B0">3. å‚è€ƒå‡½æ•°</a></li><li><a href="#4-%E5%8F%82%E8%80%83%E5%8D%9A%E5%AE%A2">4. å‚è€ƒåšå®¢</a></li></ul><h2 id="1-è¾“å…¥æ¨¡å¼"><a class="markdownIt-Anchor" href="#1-è¾“å…¥æ¨¡å¼"></a> 1. è¾“å…¥æ¨¡å¼</h2><p>æˆ‘ä»¬æ‰“å¼€cubemxçš„é…ç½®ï¼Œé…ç½®é€šé“æ—¶æœ‰å¦‚ä¸‹é€‰æ‹©ï¼šåˆ†åˆ«æ˜¯å·®åˆ†è¾“å…¥å’Œå•ç«¯è¾“å…¥ã€‚<br /><img src="Snipaste_2025-03-09_19-30-43.png" alt="" /></p><h3 id="11-å•ç«¯è¾“å…¥"><a class="markdownIt-Anchor" href="#11-å•ç«¯è¾“å…¥"></a> 1.1. å•ç«¯è¾“å…¥</h3><p>å•ç«¯è¾“å…¥æ–¹å¼ä¼˜ç‚¹å°±æ˜¯ç®€å•ï¼Œç¼ºç‚¹æ˜¯å¦‚æœVINå—åˆ°å¹²æ‰°ï¼Œç”±äºGNDç”µä½å§‹ç»ˆæ˜¯0Vï¼Œæ‰€ä»¥æœ€ç»ˆé‡‡æ ·å€¼ä¹Ÿä¼šéšç€å¹²æ‰°è€Œå˜åŒ–ã€‚é‡‡æ ·å€¼=VINï¼ˆå åŠ å¹²æ‰°å€¼ ï¼‰- 0V</p><p>å¦‚å›¾æ‰€ç¤ºï¼Œå•ç«¯è¾“å…¥åªæœ‰ä¸€ä¸ªè¾“å…¥å¼•è„šADCINï¼Œä½¿ç”¨å…¬å…±åœ°GNDä½œä¸ºç”µè·¯çš„è¿”å›ç«¯ï¼ŒADCçš„é‡‡æ ·å€¼=ADCINç”µå‹-GNDçš„ç”µå‹(0V)ã€‚è¿™ç§è¾“å…¥æ–¹å¼ä¼˜ç‚¹å°±æ˜¯ç®€å•ï¼Œç¼ºç‚¹æ˜¯å¦‚æœvinå—åˆ°å¹²æ‰°ï¼Œç”±äºGNDç”µä½å§‹ç»ˆæ˜¯0Vï¼Œæ‰€ä»¥æœ€ç»ˆADCçš„é‡‡æ ·å€¼ä¹Ÿä¼šéšç€å¹²æ‰°è€Œå˜åŒ–ã€‚<br /><img src="8c60645887a08582fd0cd8f9cba6b8da.png" alt="" /></p><h3 id="12-å·®åˆ†è¾“å…¥"><a class="markdownIt-Anchor" href="#12-å·®åˆ†è¾“å…¥"></a> 1.2. å·®åˆ†è¾“å…¥</h3><p>å·®åˆ†å—åˆ°çš„å¹²æ‰°æ˜¯å·®ä¸å¤šçš„ï¼Œè¾“å…¥çš„å…±æ¨¡å¹²æ‰°ï¼Œåœ¨è¾“å…¥æ—¶ä¼šè¢«å‡æ‰ï¼Œä»è€Œé™ä½äº†å¹²æ‰°ï¼Œç¼ºç‚¹å°±æ˜¯æ¥çº¿å¤æ‚ä¸€äº›ã€‚</p><p>å·®åˆ†ä¿¡å·Â ä¼˜ç‚¹ï¼šæ˜“åˆ†è¾¨å°ä¿¡å·ã€æŠ—å¹²æ‰°EMSå¼ºï¼›ç¼ºç‚¹:åŒçº¿</p><p>è€Œå·®åˆ†è¾“å…¥æ¯”å•ç«¯è¾“å…¥å¤šäº†ä¸€æ ¹çº¿ï¼Œæœ€ç»ˆçš„ADCé‡‡æ ·å€¼=(ADCINç”µå‹)-(ADCIN-ç”µå‹)ï¼Œç”±äºé€šå¸¸è¿™ä¸¤æ ¹å·®åˆ†çº¿ä¼šå¸ƒåœ¨ä¸€èµ·ï¼Œæ‰€ä»¥ä»–ä»¬å—åˆ°çš„å¹²æ‰°æ˜¯å·®ä¸å¤šçš„ï¼Œè¾“å…¥å…±æ¨¡å¹²æ‰°ï¼Œåœ¨è¾“å…¥ADCæ—¶ä¼šè¢«å‡æ‰ï¼Œä»è€Œé™ä½äº†å¹²æ‰°ï¼Œç¼ºç‚¹å°±æ˜¯æ¥çº¿å¤æ‚ä¸€äº›ã€‚è€Œä¸”éœ€è¦VIN+å’ŒVIN-ä¸¤è·¯åç›¸çš„è¾“å…¥ä¿¡å·ã€‚</p><p>å·®åˆ†è¾“å…¥çš„æ˜¯å°†ä¸¤ä¸ªè¾“å…¥ç«¯çš„å·®å€¼ä½œä¸ºä¿¡å·ï¼Œè¿™æ ·å¯ä»¥å…å»ä¸€äº›è¯¯å·®ï¼Œæ¯”å¦‚ä½ è¾“å…¥ä¸€ä¸ª1Vçš„ä¿¡å·å¯ç”µæºæœ‰åå·®å®é™…è¾“å…¥è¦å¤§0.1.å°±å¯ä»¥ç”¨å·®åˆ†è¾“å…¥1Vå’Œ2Vä¸€å‡å°±æŠŠä¸¤ç«¯å…±æœ‰çš„é‚£0.1è¯¯å·®å‰ªæ‰äº†ã€‚å•ç«¯è¾“å…¥æ— æ³•å»é™¤è¿™ç±»è¯¯å·®ã€‚</p><p><img src="Snipaste_2025-03-09_19-43-28.png" alt="" /></p><h2 id="2-ç»§ç»­çœ‹configéƒ¨åˆ†"><a class="markdownIt-Anchor" href="#2-ç»§ç»­çœ‹configéƒ¨åˆ†"></a> 2. ç»§ç»­çœ‹configéƒ¨åˆ†</h2><p><img src="Snipaste_2025-03-09_19-45-21.png" alt="" /><br /><img src="Snipaste_2025-03-09_19-45-32.png" alt="" /></p><h3 id="21-é€šç”¨è®¾ç½®éƒ¨åˆ†"><a class="markdownIt-Anchor" href="#21-é€šç”¨è®¾ç½®éƒ¨åˆ†"></a> 2.1. é€šç”¨è®¾ç½®éƒ¨åˆ†ï¼š</h3><ul><li>å½“åªå¯ç”¨1ä¸ªADCæ—¶ï¼Œåªèƒ½é€‰æ‹©<strong>ç‹¬ç«‹æ¨¡å¼</strong>ï¼Œå¦‚æœä½¿ç”¨åŒADCå¹¶è¦æ±‚åŒæ­¥çš„è¯ï¼Œåˆ™ä¼šæœ‰æ›´å¤šé€‰æ‹©ã€‚åŒé‡ADCåŒæ­¥æ¨¡å¼ï¼Œä¸¤ä¸ªADCåŒæ—¶é‡‡é›†ä¸€ä¸ªæˆ–å¤šä¸ªé€šé“ï¼Œå¯ä»¥æé«˜é‡‡æ ·ç‡ã€‚è¿™ä¸ªåŒADCåŒæ­¥æ¨¡å¼çš„é€‰æ‹©å…ˆä¸ä½œè®°å½•äº†ï¼</li></ul><h3 id="22-adc-è®¾ç½®éƒ¨åˆ†"><a class="markdownIt-Anchor" href="#22-adc-è®¾ç½®éƒ¨åˆ†"></a> 2.2. ADC è®¾ç½®éƒ¨åˆ†ï¼š</h3><h4 id="221-clockpre"><a class="markdownIt-Anchor" href="#221-clockpre"></a> 2.2.1. ClockPreâ€¦</h4><p>æ—¶é’Ÿé¢„åˆ†é¢‘ï¼ŒåŒæ—¶é’ŸåŸŸæ¶æ„ã€‚ç›®çš„æ˜¯è®©ADCè¾¾åˆ°ç¨³å®šçš„å·¥ä½œé¢‘ç‡<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup>ï¼ˆå¼‚æ­¥æ—¶é’Ÿæ¨¡å¼ï¼ˆAsynchronous clock modeï¼ŒåŸºäºPLL2Pæ—¶é’Ÿï¼‰åŒæ­¥æ—¶é’Ÿæ¨¡å¼ï¼ˆSynchronous clock modeï¼ŒåŸºäºAHBæ—¶é’Ÿï¼‰æœ‰äº›å‹å·çš„å•ç‰‡æœºåˆ™æ˜¯ç›´æ¥ä»æ—¶é’Ÿæ ‘ä¸“é—¨åˆ†å‡ºäº†ä¸€ä¸ªADCæ—¶é’Ÿé¢‘ç‡é…ç½®ã€‚<br /><img src="Snipaste_2025-03-09_20-30-53.png" alt="" /></p><h4 id="222-resolusion"><a class="markdownIt-Anchor" href="#222-resolusion"></a> 2.2.2. Resolusion</h4><p>åˆ†è¾¨ç‡ã€‚ä¸å†èµ˜è¯‰ã€‚è¯·è§ä¸Šç¯‡</p><h4 id="223-data-ali"><a class="markdownIt-Anchor" href="#223-data-ali"></a> 2.2.3. Data Aliâ€¦</h4><p>æ•°æ®å¯¹é½ã€‚ä¸å†èµ˜è¯‰ã€‚è¯·è§ä¸Šç¯‡</p><h4 id="224-gain-com"><a class="markdownIt-Anchor" href="#224-gain-com"></a> 2.2.4. Gain Comâ€¦</h4><p>å¢ç›Šè¡¥å¿ï¼šå¯¹æ‰€æœ‰è½¬æ¢åçš„æ•°æ®è¿›è¡Œå¢ç›Šè¡¥å¿ã€‚æ¯æ¬¡è½¬æ¢åï¼Œæ•°æ®æ ¹æ®å¢ç›Šè¡¥å¿å¯¹é‡‡æ ·åçš„æ•°æ®è¿›è¡Œå˜æ¢ã€‚</p><h4 id="225-scan-conversion-mode"><a class="markdownIt-Anchor" href="#225-scan-conversion-mode"></a> 2.2.5. Scan Conversion Mode</h4><p>æ‰«ææ¨¡å¼ã€‚ä¸å†èµ˜è¯‰ã€‚è¯·è§ä¸Šç¯‡</p><h4 id="226-end-of-conversion-selection"><a class="markdownIt-Anchor" href="#226-end-of-conversion-selection"></a> 2.2.6. End Of Conversion Selection</h4><p>è½¬æ¢ç»“æŸæ ‡å¿—é€‰æ‹©ï¼šæŒ‡å®šè½¬æ¢ç»“æŸåæ˜¯å¦äº§ç”ŸEOSä¸­æ–­æˆ–å•æ¬¡è½¬æ¢ç»“æŸäº‹ä»¶æ ‡å¿—ï¼ˆEOCï¼‰ã€‚æœ‰End of single conversionï¼ˆEOCï¼‰ ä¸ End of sequence of conversionï¼ˆEOSï¼‰ä¸¤ç§é€‰æ‹©ã€‚è¿™ä¸¤ä¸ªäº‹ä»¶ä¼šè§¦å‘ä¸­æ–­ä¸DMAã€‚<br /><br />åœ¨å¤šé€šé“è½¬æ¢è¿‡ç¨‹ä¸­ï¼Œå¦‚æœé€‰æ‹©äº†End of sequence of conversionï¼Œä¼šåœ¨ä¸€ç»„æ•°æ®è½¬æ¢å®Œæˆåå‘å‡ºEOSæ ‡å¿—ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚å¦‚æœä¸é€‰ï¼Œåˆ™ä¸ä¼šç½®ä½è¯¥æ ‡å¿—ã€‚<br /><img src="Snipaste_2025-03-09_20-42-09.png" alt="" /><br />é€‰æ‹©EOSç›®çš„æ˜¯ç­‰æ‰€æœ‰é€šé“è½¬æ¢å®Œæ¯•åï¼Œäº§ç”Ÿä¸­æ–­åå°†å…¨éƒ¨æ•°æ®å–å‡ºæ¥ï¼Œæˆ–è€…ä½¿ç”¨DMAå°†å…¨éƒ¨æ•°æ®å–å‡ºæ¥ã€‚</p><h4 id="227-low-power-auto-wait"><a class="markdownIt-Anchor" href="#227-low-power-auto-wait"></a> 2.2.7. Low PowerÂ AutoÂ Wait</h4><p>ä½åŠŸè€—è‡ªåŠ¨å»¶è¿Ÿç­‰å¾…æ¨¡å¼ï¼Œå¯é€‰å‚æ•°ä¸º ENABLE å’Œ DISABLEï¼Œå½“ä½¿èƒ½æ—¶ï¼Œä»…å½“ä¸€ç»„å†…æ‰€æœ‰ä¹‹å‰çš„æ•°æ®å·²å¤„ç†å®Œæ¯•æ—¶ï¼Œæ‰å¼€å§‹æ–°çš„è½¬æ¢ï¼Œé€‚ç”¨äºä½é¢‘åº”ç”¨ã€‚<strong>è¯¥æ¨¡å¼ä»…ç”¨äº ADC çš„è½®è¯¢æ¨¡å¼ï¼Œä¸å¯ç”¨äº DMA ä»¥åŠä¸­æ–­ã€‚</strong></p><h4 id="228-continuous-conversion-mode"><a class="markdownIt-Anchor" href="#228-continuous-conversion-mode"></a> 2.2.8. Continuous Conversion Mode</h4><p>æ˜¯å¦å¯ç”¨è¿ç»­è½¬æ¢ã€‚ä¸å†èµ˜è¯‰ã€‚è¯·è§ä¸Šç¯‡ <strong>è‹¥æƒ³ä½¿ç”¨ADC+DMAçš„è¯ï¼Œå¿…é¡»å…ˆä½¿èƒ½è¿ç»­è½¬æ¢æ¨¡å¼</strong>ã€‚</p><h4 id="229-discontinuous-conversion-mode"><a class="markdownIt-Anchor" href="#229-discontinuous-conversion-mode"></a> 2.2.9. Discontinuous Conversion Mode</h4><p>é—´æ–­æ¨¡å¼ï¼Œå†èµ˜è¯‰ä¸€ä¸‹ã€‚è¿™é‡Œçš„ä¸è¿ç»­å«ä¹‰æ˜¯æŒ‡æ¯æ¬¡è§¦å‘è¿›è¡Œä¸€ä¸ªå­ç»„çš„è½¬æ¢ï¼Œè·ŸContinuous Conversion Modeçš„è¿ç»­å«ä¹‰ä¸ä¸€æ ·ã€‚ä¾‹å¦‚ä½¿èƒ½äº†è¯¥é…ç½®ï¼Œè¯¥å‚æ•°çš„ä¸‹æ–¹å°±ç«‹é©¬å‡ºç°Number Of Discontinuous Conversionsï¼Œå¦‚æœå®ƒè®¾ä¸º2ï¼Œä¸”ADC1ä½¿èƒ½äº†é€šé“1ï¼Œ2ï¼Œ5ï¼Œ7ï¼Œ10ï¼Œ11çš„è¯ï¼Œé‚£ä¹ˆç¬¬ä¸€æ¬¡è§¦å‘ADC1é‡‡æ ·æ—¶ï¼Œå°±ä¼šé‡‡æ ·é€šé“1ä¸é€šé“2çš„å€¼ï¼Œå†ä¸€æ¬¡è§¦å‘ADC1é‡‡æ ·çš„è¯ï¼Œå°±ä¼šé‡‡æ ·é€šé“5ä¸é€šé“7å€¼ï¼Œå¦‚æ­¤ç±»æ¨ã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼ŒContinuous Conversion Modeä¸Discontinuous Conversion Modeä¸èƒ½åŒæ—¶ä½¿èƒ½ï¼Œä¸¤è€…ä¸èƒ½å…±å­˜ã€‚</p><h4 id="2210-dma-continuous-requests"><a class="markdownIt-Anchor" href="#2210-dma-continuous-requests"></a> 2.2.10. DMA Continuous Requests</h4><p>DMAè¿ç»­è¯·æ±‚ï¼šæŒ‡å®š DMA è¯·æ±‚æ˜¯å¦ä»¥ä¸€æ¬¡æ€§æ¨¡å¼æ‰§è¡Œ(å½“è¾¾åˆ°è½¬æ¢æ¬¡æ•°æ—¶ï¼ŒDMA ä¼ è¾“åœæ­¢)æˆ–åœ¨è¿ç»­æ¨¡å¼ä¸‹(DMA ä¼ è¾“æ— é™åˆ¶ï¼Œæ— è®ºè½¬æ¢çš„æ•°é‡)ã€‚<sup class="footnote-ref"><a href="#fn2" id="fnref2">[2]</a></sup></p><ul><li>ä¸ä½¿èƒ½ï¼šåœ¨è¿™ç§æ¨¡å¼ä¸‹ï¼Œæ¯æ¬¡æœ‰æ–°çš„è½¬æ¢æ•°æ®å¯ç”¨æ—¶ï¼ŒADCéƒ½ä¼šç”Ÿæˆä¸€ä¸ªDMAä¼ è¾“è¯·æ±‚ï¼Œä¸€æ—¦DMAåˆ°è¾¾æœ€åä¸€ä¸ªDMAä¼ è¾“ï¼Œå³ä½¿è½¬æ¢å·²ç»å†æ¬¡å¼€å§‹ï¼ŒADCä¹Ÿä¼šåœæ­¢ç”ŸæˆDMAè¯·æ±‚ï¼Œé€‚åˆè½¬æ¢å›ºå®šæ•°é‡æ•°æ®çš„æƒ…å†µã€‚</li><li>ä½¿èƒ½ï¼šåœ¨è¿™ç§æ¨¡å¼ä¸‹ï¼Œæ¯å½“æ•°æ®å¯„å­˜å™¨ä¸­æœ‰æ–°çš„è½¬æ¢æ•°æ®å¯ç”¨æ—¶ï¼Œå³ä½¿DMAå·²ç»åˆ°è¾¾æœ€åä¸€æ¬¡DMAä¼ è¾“ï¼ŒADCä¹Ÿä¼šç”ŸæˆDMAä¼ è¾“è¯·æ±‚ã€‚è¿™å…è®¸åœ¨å¾ªç¯æ¨¡å¼ä¸‹é…ç½®DMAæ¥å¤„ç†è¿ç»­çš„æ¨¡æ‹Ÿè¾“å…¥æ•°æ®æµã€‚</li></ul><h4 id="2211-overrun-behaviour"><a class="markdownIt-Anchor" href="#2211-overrun-behaviour"></a> 2.2.11. Overrun behaviour</h4><p>æº¢å‡ºå¤„ç†ï¼šç”¨äºé…ç½®ADCè½¬æ¢æ•°æ®æœªåŠæ—¶è¯»å–ï¼Œé€ æˆæº¢å‡ºæ—¶çš„å¤„ç†ã€‚</p><ul><li>Overrun data preserved:ä¿ç•™æ—§æ•°æ®ï¼Œä¸¢å¼ƒå’Œä¸¢å¤±æ–°çš„è½¬æ¢ã€‚</li><li>Overrun data overwritten:æ•°æ®å¯„å­˜å™¨è¢«æœ€åä¸€æ¬¡è½¬æ¢çš„ç»“æœè¦†ç›–ï¼Œä¹‹å‰æœªè¯»çš„æ•°æ®ä¸¢å¤±<br /><img src="Snipaste_2025-03-09_21-17-16.png" alt="" /></li></ul><h4 id="2212-conversion-data-managerment-modeh7"><a class="markdownIt-Anchor" href="#2212-conversion-data-managerment-modeh7"></a> 2.2.12. Conversion Data Managerment Modeï¼ˆH7ï¼‰</h4><p>è½¬æ¢æ•°æ®ç®¡ç†æ¨¡å¼ã€‚ä¸ä½¿ç”¨DMAçš„è¯ï¼Œä¸ä½¿ç”¨DFSDMæ•°å­—æ»¤æ³¢å™¨åšåæœŸå¤„ç†çš„è¯ï¼Œé€‰æ‹©Regular Conversion data stored in DR register onlyå³å¯ã€‚å…¶å®å°±æ˜¯é€‰æ‹©å­˜æ”¾è½¬æ¢å®Œæˆçš„æ¨¡æ‹Ÿé‡æ•°æ®çš„åœ°æ–¹è€Œå·²ã€‚</p><h3 id="23-è§„åˆ™è½¬æ¢æ¨¡å¼"><a class="markdownIt-Anchor" href="#23-è§„åˆ™è½¬æ¢æ¨¡å¼"></a> 2.3. è§„åˆ™è½¬æ¢æ¨¡å¼</h3><h4 id="231-enable-regular-conversions"><a class="markdownIt-Anchor" href="#231-enable-regular-conversions"></a> 2.3.1. Enable Regular Conversions</h4><p>ä½¿èƒ½è§„åˆ™è½¬æ¢ã€‚ä½¿èƒ½å®ƒæ‰èƒ½é‡‡é›†å„ä¸ªé€šé“ä¸Šçš„æ¨¡æ‹Ÿé‡ã€‚</p><h4 id="232-enable-regular-oversampingä¸å¸¸ç”¨"><a class="markdownIt-Anchor" href="#232-enable-regular-oversampingä¸å¸¸ç”¨"></a> 2.3.2. Enable Regular Oversampingï¼ˆä¸å¸¸ç”¨ï¼‰</h4><p>ä½¿èƒ½è§„åˆ™è¿‡é‡‡æ ·ã€‚<br /><img src="Snipaste_2025-03-10_14-20-12.png" alt="" /></p><h4 id="233-oversamping-right-shiftä¸å¸¸ç”¨"><a class="markdownIt-Anchor" href="#233-oversamping-right-shiftä¸å¸¸ç”¨"></a> 2.3.3. Oversamping Right Shiftï¼ˆä¸å¸¸ç”¨ï¼‰</h4><p>è¿‡é‡‡æ ·å³ç§»ã€‚<strong>è¿‡é‡‡æ ·å™¨èƒ½å°†ç´¯åŠ çš„é‡‡æ ·å€¼è¿›è¡Œå³ç§»</strong>ã€‚æœ‰ä»€ä¹ˆç”¨ï¼Ÿæ¯”å¦‚è¿‡é‡‡æ ·è®¾ç½®15ï¼Œé‚£ä¹ˆå°†é‡‡é›†16ä¸ªå€¼è¿›è¡Œç´¯åŠ ã€‚æ¥ç€é…ç½®å³ç§»åŠ¨4ä½çš„è¯ï¼Œç›¸å½“äºå°†åˆšæ‰çš„ç´¯åŠ å€¼é™¤ä»¥16ï¼Œå¾—åˆ°å¹³å‡å€¼ã€‚ä¸éœ€è¦åœ¨ç¨‹åºé‡Œæ±‚å¹³å‡äº†ã€‚å½“ç„¶ï¼Œå¦‚æœå¤§å®¶å–œæ¬¢åœ¨ç¨‹åºé‡Œæ±‚å¹³å‡å€¼ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚</p><h4 id="234-number-of-conversion"><a class="markdownIt-Anchor" href="#234-number-of-conversion"></a> 2.3.4. Number Of Conversion</h4><p>è½¬æ¢é€šé“æ•°ã€‚æ ¹æ®ADCé…ç½®çš„é€šé“æ•°æ¥é€‰æ‹©ã€‚æœ‰å¤šå°‘è½¬æ¢é€šé“å°±è®¾ç½®å‡ ã€‚</p><h4 id="235-external-trigger-conversion-soureè§¦å‘è½¬æ¢çš„å¤–éƒ¨æ¥æº"><a class="markdownIt-Anchor" href="#235-external-trigger-conversion-soureè§¦å‘è½¬æ¢çš„å¤–éƒ¨æ¥æº"></a> 2.3.5. External Trigger Conversion Soureï¼ˆè§¦å‘è½¬æ¢çš„å¤–éƒ¨æ¥æºï¼‰</h4><p>é€‰æ‹©è§¦å‘è½¬æ¢çš„æ¥æºï¼š</p><ul><li>Regular Conversion launched by software ï¼ˆè½¯ä»¶è§¦å‘ï¼‰</li><li>Timer 1 Capture Compare 1 event ï¼ˆå®šæ—¶å™¨1æ•è·æ¯”è¾ƒäº‹ä»¶1ï¼‰</li><li>â€¦ ï¼ˆå„ç§å®šæ—¶å™¨è§¦å‘æ¥æºï¼‰<br />ä¸€èˆ¬ä½¿ç”¨è½¯ä»¶è§¦å‘å°±è¡Œã€‚</li></ul><h4 id="236-external-trigger-conversion-edgeè§¦å‘è½¬æ¢çš„å¤–éƒ¨æ²¿"><a class="markdownIt-Anchor" href="#236-external-trigger-conversion-edgeè§¦å‘è½¬æ¢çš„å¤–éƒ¨æ²¿"></a> 2.3.6. External Trigger Conversion Edgeï¼ˆè§¦å‘è½¬æ¢çš„å¤–éƒ¨æ²¿ï¼‰</h4><p>é€‰æ‹©å®šæ—¶å™¨è§¦å‘æ—¶ï¼Œéœ€è¦è¿›ä¸€æ­¥é€‰æ‹©è§¦å‘çš„æ²¿ã€‚é€‰æ‹©è½¯ä»¶è§¦å‘æ—¶ï¼Œè¯¥é¡¹ä¸ºNoneã€‚<br />Trigger detection on the rising edgeï¼ˆä¸Šå‡æ²¿ï¼‰<br />Trigger detection on the falling edgeï¼ˆä¸‹é™æ²¿ï¼‰<br />Trigger detection on the rising and falling edgeï¼ˆä¸Šå‡ä¸ä¸‹é™æ²¿ï¼‰</p><h4 id="237-rank"><a class="markdownIt-Anchor" href="#237-rank"></a> 2.3.7. Rank</h4><p><img src="Snipaste_2025-03-10_14-29-51.png" alt="" /></p><ul><li>Channelï¼šé€‰æ‹©é‡‡æ ·çš„é€šé“ã€‚</li><li>Sampling Timeï¼šé‡‡æ ·æ—¶é—´ã€‚é…ç½®å¤šå°‘ä¸ªæ—¶é’Ÿå‘¨æœŸï¼Œå»ºè®®é‡‡æ ·æ—¶é—´å°½é‡é•¿ä¸€ç‚¹ï¼Œä»¥è·å¾—è¾ƒé«˜çš„å‡†ç¡®åº¦ã€‚æ€»çš„è½¬æ¢æ—¶é—´=é‡‡æ ·æ—¶é—´+é€æ¬¡é€¼è¿‘æ—¶é—´ï¼ˆTSARï¼‰ã€‚<sup class="footnote-ref"><a href="#fn3" id="fnref3">[3]</a></sup><br />é€æ¬¡é€¼è¿‘å‚è€ƒæ—¶é—´ï¼šè¯·æŸ¥é˜…ç›¸å…³æ•°æ®æ‰‹å†Œã€‚<br />è¿™æ˜¯ä¸€ä¸ªå‚è€ƒï¼š<br /><img src="Snipaste_2025-03-10_14-31-52.png" alt="" /></li></ul><h4 id="238-offset-number"><a class="markdownIt-Anchor" href="#238-offset-number"></a> 2.3.8. Offset Number</h4><p>åç§»åºå·ï¼Ÿï¼Ÿä¸æ‡‚ã€‚</p><h3 id="24-ç„¶åæ˜¯æ³¨å…¥è½¬æ¢æ¨¡å¼"><a class="markdownIt-Anchor" href="#24-ç„¶åæ˜¯æ³¨å…¥è½¬æ¢æ¨¡å¼"></a> 2.4. ç„¶åæ˜¯æ³¨å…¥è½¬æ¢æ¨¡å¼</h3><p>æˆ‘ä»¬çœ‹åˆ°ï¼Œåœ¨é€‰æ‹©äº†ADCçš„ç›¸å…³é€šé“å¼•è„šä¹‹åï¼Œåœ¨æ¨¡æ‹Ÿè‡³æ•°å­—è½¬æ¢å™¨ä¸­æœ‰ä¸¤ä¸ªé€šé“ï¼šæ³¨å…¥é€šé“ä¸è§„åˆ™é€šé“ã€‚è§„åˆ™é€šé“è‡³å¤š16ä¸ªï¼Œæ³¨å…¥é€šé“è‡³å¤š4ä¸ªã€‚</p><h4 id="241-è§„åˆ™é€šé“"><a class="markdownIt-Anchor" href="#241-è§„åˆ™é€šé“"></a> 2.4.1. è§„åˆ™é€šé“ï¼š</h4><p>è§„åˆ™é€šé“ç›¸å½“äºä½ æ­£å¸¸è¿è¡Œçš„ç¨‹åºï¼Œçœ‹å®ƒçš„åå­—å°±å¯ä»¥çŸ¥é“ï¼Œå¾ˆè§„çŸ©ï¼Œå°±æ˜¯æ­£å¸¸æ‰§è¡Œç¨‹åºã€‚</p><h4 id="242-æ³¨å…¥é€šé“"><a class="markdownIt-Anchor" href="#242-æ³¨å…¥é€šé“"></a> 2.4.2. æ³¨å…¥é€šé“ï¼š</h4><p>æ³¨å…¥é€šé“å¯ä»¥æ‰“æ–­è§„åˆ™é€šé“ï¼Œå¬å®ƒçš„åå­—å°±çŸ¥é“ä¸å®‰åˆ†ï¼Œå¦‚æœåœ¨è§„åˆ™é€šé“è½¬æ¢è¿‡ç¨‹ä¸­ï¼Œæœ‰æ³¨å…¥é€šé“è¿›è¡Œè½¬æ¢ï¼Œé‚£ä¹ˆå°±è¦å…ˆè½¬æ¢å®Œæ³¨å…¥é€šé“ï¼Œç­‰æ³¨å…¥é€šé“è½¬æ¢å®Œæˆåï¼Œå†å›åˆ°è§„åˆ™é€šé“çš„è½¬æ¢æµç¨‹ã€‚ç±»ä¼¼äºä¸­æ–­ã€‚<br /><img src="Snipaste_2025-03-10_14-43-22.png" alt="" /></p><h3 id="25-æœ€åæ˜¯å¯çˆ±çš„çœ‹é—¨å°ç‹—~"><a class="markdownIt-Anchor" href="#25-æœ€åæ˜¯å¯çˆ±çš„çœ‹é—¨å°ç‹—~"></a> 2.5. æœ€åæ˜¯å¯çˆ±çš„çœ‹é—¨å°ç‹—ğŸ¥°~</h3><p>å½“è¢«ADCè½¬æ¢çš„æ¨¡æ‹Ÿç”µå‹å€¼ä½äºä½é˜ˆå€¼æˆ–é«˜äºé«˜é˜ˆå€¼æ—¶ï¼Œä¾¿ä¼šäº§ç”Ÿä¸­æ–­ã€‚é˜ˆå€¼çš„é«˜ä½å€¼ç”±ADC_LTRå’ŒADC_HTRé…ç½®ã€‚<br />å¯ä»¥é˜²æ­¢è¯»å–åˆ°çš„ç”µå‹å€¼è¶…é‡ç¨‹æˆ–è€…ä½äºé‡ç¨‹ï¼Œä¹Ÿå¯ä»¥ç›‘æ§CPUæ¸©åº¦ï¼Œé˜²æ­¢æ¸©åº¦è¿‡é«˜ï¼Œåæ­£æ˜¯ç”¨å¤„å¤šå¤šã€‚</p><h2 id="3-å‚è€ƒå‡½æ•°"><a class="markdownIt-Anchor" href="#3-å‚è€ƒå‡½æ•°"></a> 3. å‚è€ƒå‡½æ•°</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å¼€å¯ADC 3ç§æ¨¡å¼ ( è½®è¯¢æ¨¡å¼ ä¸­æ–­æ¨¡å¼ DMAæ¨¡å¼ )</span></span><br><span class="line">HAL_ADC_Start(&amp;hadcx); â€ƒ â€ƒ â€ƒ <span class="comment">//è½®è¯¢æ¨¡å¼å¼€å¯ADC</span></span><br><span class="line">HAL_ADC_Start_IT(&amp;hadcx); â€ƒ â€ƒ â€ƒ <span class="comment">//ä¸­æ–­è½®è¯¢æ¨¡å¼å¼€å¯ADC</span></span><br><span class="line">HAL_ADC_Start_DMA(&amp;hadcx); â€ƒ â€ƒ â€ƒ <span class="comment">//DMAæ¨¡å¼å¼€å¯ADC</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//å…³é—­ADC 3ç§æ¨¡å¼ ( è½®è¯¢æ¨¡å¼ ä¸­æ–­æ¨¡å¼ DMAæ¨¡å¼ )</span></span><br><span class="line">HAL_ADC_Stop();</span><br><span class="line">HAL_ADC_Stop_IT();</span><br><span class="line">HAL_ADC_Stop_DMA();</span><br><span class="line"></span><br><span class="line"><span class="comment">//ADCæ ¡å‡†å‡½æ•° ï¼šF4ç³»åˆ—ä¸æ”¯æŒ</span></span><br><span class="line">HAL_ADCEx_Calibration_Start(&amp;hadcx); â€ƒ â€ƒ â€ƒ</span><br><span class="line"></span><br><span class="line"><span class="comment">//è¯»å–ADCè½¬æ¢å€¼</span></span><br><span class="line">HAL_ADC_GetValue();</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç­‰å¾…è½¬æ¢ç»“æŸå‡½æ•°.ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºå“ªä¸ªADC,ç¬¬äºŒä¸ªå‚æ•°ä¸ºæœ€å¤§ç­‰å¾…æ—¶é—´</span></span><br><span class="line">HAL_ADC_PollForConversion(&amp;hadc1, <span class="number">50</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//ADCä¸­æ–­å›è°ƒå‡½æ•°</span></span><br><span class="line">HAL_ADC_ConvCpltCallback();</span><br><span class="line"></span><br><span class="line"><span class="comment">//è½¬æ¢å®Œæˆåå›è°ƒï¼ŒDMAæ¨¡å¼ä¸‹DMAä¼ è¾“å®Œæˆåè°ƒç”¨</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//è§„åˆ™é€šé“åŠçœ‹é—¨ç‹—é…ç½®</span></span><br><span class="line">HAL_ADC_ConfigChannel(); <span class="comment">//é…ç½®è§„åˆ™ç»„é€šé“</span></span><br><span class="line">HAL_ADC_AnalogWDGConfig();</span><br></pre></td></tr></table></figure><h2 id="4-å‚è€ƒåšå®¢"><a class="markdownIt-Anchor" href="#4-å‚è€ƒåšå®¢"></a> 4. å‚è€ƒåšå®¢</h2><p>æœ‰æ˜Ÿæ˜Ÿçš„æ˜¯æˆ‘è§‰å¾—å†™çš„å¾ˆå¥½çš„åšå®¢ã€‚</p><ul><li>â­â­â­<a href="https://blog.csdn.net/wallace89/article/details/117048846">STM32H743-æ¢³ç†ADCæ¨¡æ•°è½¬æ¢å™¨åœ¨CubeMXä¸Šçš„é…ç½®_overrun behaviour-CSDNåšå®¢</a>éµå¾ªÂ <a href="http://creativecommons.org/licenses/by-sa/4.0/">CC 4.0 BY-SA</a>Â ç‰ˆæƒåè®®</li><li>â­â­â­<a href="https://blog.csdn.net/demonneverhunts/article/details/135155881">STM32CubeIde ADCé…ç½®è¯¦è§£_end of conversion selection-CSDNåšå®¢</a>éµå¾ªÂ <a href="http://creativecommons.org/licenses/by-sa/4.0/">CC 4.0 BY-SA</a>Â ç‰ˆæƒåè®®</li><li>â­â­â­<a href="https://blog.csdn.net/as480133937/article/details/99627062">ã€STM32ã€‘HALåº“ STM32CubeMXæ•™ç¨‹ä¹â€”ADC_cubemx adc-CSDNåšå®¢</a></li><li><a href="https://blog.csdn.net/chenhuanqiangnihao/article/details/122086308">ADCçš„å•ç«¯è¾“å…¥ã€ä¼ªå·®åˆ†è¾“å…¥ã€å·®åˆ†è¾“å…¥åŒºåˆ«ï¼Ÿ_å·®åˆ†adc-CSDNåšå®¢</a></li></ul><hr class="footnotes-sep" /><section class="footnotes"><ol class="footnotes-list"><li id="fn1" class="footnote-item"><p>ADCçš„å·¥ä½œé¢‘ç‡éœ€è¦æŸ¥é˜…ç›¸å…³æ•°æ®æ‰‹å†Œ,å·¥ä½œé¢‘ç‡å¤ªé«˜ä¼šå¯¼è‡´è½¬æ¢æ— æ³•å®Œæˆã€‚ <a href="#fnref1" class="footnote-backref">â†©ï¸</a></p></li><li id="fn2" class="footnote-item"><p>åœ¨è¿ç»­æ¨¡å¼ä¸‹ï¼ŒDMA å¿…é¡»é…ç½®ä¸ºå¾ªç¯æ¨¡å¼ã€‚å¦åˆ™ï¼Œå½“è¾¾åˆ° DMA ç¼“å†²åŒºæœ€å¤§æŒ‡é’ˆæ—¶å°†è§¦å‘æº¢å‡ºã€‚ <a href="#fnref2" class="footnote-backref">â†©ï¸</a></p></li><li id="fn3" class="footnote-item"><p>æ—¶é—´å¯ä»¥ç”¨ADCæ—¶é’Ÿå‘¨æœŸæ¥è¡¡é‡ã€‚ä¾‹å¦‚12bitADCçš„é€æ¬¡é€¼è¿‘æ—¶é—´ä¸º12.5ä¸ªADCæ—¶é’Ÿå‘¨æœŸ <a href="#fnref3" class="footnote-backref">â†©ï¸</a></p></li></ol></section>]]></content>
      
      
      <categories>
          
          <category> åµŒå…¥å¼ </category>
          
          <category> CubeMXé…ç½®åŠŸèƒ½ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> STM32 </tag>
            
            <tag> CubeMX </tag>
            
            <tag> ADC </tag>
            
            <tag> åµŒå…¥å¼ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/posts/16107/"/>
      <url>/posts/16107/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="quick-start"><a class="markdownIt-Anchor" href="#quick-start"></a> Quick Start</h2><h3 id="create-a-new-post"><a class="markdownIt-Anchor" href="#create-a-new-post"></a> Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="run-server"><a class="markdownIt-Anchor" href="#run-server"></a> Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="generate-static-files"><a class="markdownIt-Anchor" href="#generate-static-files"></a> Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="deploy-to-remote-sites"><a class="markdownIt-Anchor" href="#deploy-to-remote-sites"></a> Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>CubeMXé…ç½®åŠŸèƒ½ç³»åˆ—ï¼šADCï¼ˆä¸Šï¼‰</title>
      <link href="/posts/9852/"/>
      <url>/posts/9852/</url>
      
        <content type="html"><![CDATA[<details><summary>ç‰ˆæƒä¿¡æ¯</summary><p>:::warning</p><p>æœ¬æ–‡ç« ä¸ºåšä¸»åŸåˆ›æ–‡ç« ã€‚éµå¾ª <a href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh-hans">CC 4.0 BY-SA</a> ç‰ˆæƒåè®®ï¼Œè½¬è½½è¯·é™„ä¸ŠåŸæ–‡å‡ºå¤„é“¾æ¥å’Œæœ¬å£°æ˜ã€‚</p><p>:::</p></details><hr /><h2 id="ç›®å½•"><a class="markdownIt-Anchor" href="#ç›®å½•"></a> ç›®å½•</h2><ul><li><a href="#%E7%9B%AE%E5%BD%95">ç›®å½•</a></li><li><a href="#1-%E8%AF%B4%E6%98%8E">1. è¯´æ˜</a></li><li><a href="#2-analog-to-digital-converter%E7%AE%80%E4%BB%8B">2. Analog-to-Digital Converterç®€ä»‹</a></li><li><a href="#3-stm32%E9%87%8C%E7%9A%84adc%E6%98%AF%E5%A6%82%E4%BD%95%E8%BF%9B%E8%A1%8C%E8%BD%AC%E6%8D%A2%E7%9A%84">3. STM32é‡Œçš„ADCæ˜¯å¦‚ä½•è¿›è¡Œè½¬æ¢çš„ï¼Ÿ</a><ul><li><a href="#31-%E6%95%B0%E6%8D%AE%E5%AF%B9%E9%BD%90">3.1. æ•°æ®å¯¹é½</a></li><li><a href="#32-%E5%85%B7%E4%BD%93%E8%AF%B4%E6%98%8E">3.2. å…·ä½“è¯´æ˜ï¼š</a></li></ul></li><li><a href="#4-adc%E7%9A%84%E8%BD%AC%E6%8D%A2%E6%A8%A1%E5%BC%8F">4. ADCçš„è½¬æ¢æ¨¡å¼</a><ul><li><a href="#41-%E5%85%B3%E4%BA%8E%E6%98%AF%E5%90%A6%E8%A6%81%E6%8C%81%E7%BB%AD%E8%BD%AC%E6%8D%A2">4.1. å…³äºæ˜¯å¦è¦æŒç»­è½¬æ¢</a></li><li><a href="#42-%E5%A6%82%E6%9E%9C%E6%9C%89%E5%A4%9A%E4%B8%AA%E9%80%9A%E9%81%93">4.2. å¦‚æœæœ‰å¤šä¸ªé€šé“</a></li></ul></li><li><a href="#5-%E5%8F%82%E8%80%83%E5%8D%9A%E5%AE%A2">5. å‚è€ƒåšå®¢</a></li></ul><h2 id="1-è¯´æ˜"><a class="markdownIt-Anchor" href="#1-è¯´æ˜"></a> 1. è¯´æ˜</h2><p>ADCä½œä¸ºå¯¹æˆ‘æ¥è¯´ä¸æ€ä¹ˆç”¨çš„åŠŸèƒ½ï¼Œè®°å½•ä¸€ä¸‹å¾ˆæœ‰å¿…è¦ã€‚æœ¬æ–‡ä»¥<em>STM32G4</em>ç³»åˆ—ä¸ºä¾‹ã€‚ä¾›è‡ªå·±å­¦ä¹ ä¸è®°å½•ä¸”åªåšç®€å•ä»‹ç»ã€‚æœ‰ä¸€å®šåŸºç¡€çš„æœ‹å‹å¯å‚è€ƒã€‚</p><h2 id="2-analog-to-digital-converterç®€ä»‹"><a class="markdownIt-Anchor" href="#2-analog-to-digital-converterç®€ä»‹"></a> 2. Analog-to-Digital Converterç®€ä»‹</h2><p>æ¨¡æ‹Ÿåˆ°æ•°å­—è½¬æ¢å™¨ï¼Œç®€ç§°ADCã€‚å°†è¿ç»­çš„æ¨¡æ‹Ÿä¿¡å·è½¬æ¢ä¸ºæ•°å­—ä¿¡å·ã€‚</p><h2 id="3-stm32é‡Œçš„adcæ˜¯å¦‚ä½•è¿›è¡Œè½¬æ¢çš„"><a class="markdownIt-Anchor" href="#3-stm32é‡Œçš„adcæ˜¯å¦‚ä½•è¿›è¡Œè½¬æ¢çš„"></a> 3. STM32é‡Œçš„ADCæ˜¯å¦‚ä½•è¿›è¡Œè½¬æ¢çš„ï¼Ÿ</h2><p>é‡‡ç”¨çš„æ˜¯SARï¼ˆé€æ¬¡é€¼è¿‘ï¼‰çš„æ–¹æ³•ã€‚é€šè¿‡äºŒåˆ†æ¯”è¾ƒä½¿æ•°å­—é‡é€¼è¿‘çœŸå®çš„æ¨¡æ‹Ÿä¿¡å·é‡ã€‚<br /><br />ä¸€èˆ¬stm32ä¸­çš„ADCå‚¨å­˜è½¬æ¢ç»“æœçš„å¯„å­˜å™¨æœ‰æ•ˆä½ä¸º12ä½ï¼Œä¹Ÿå¯ä»¥è¯´è¯¥ADCçš„åˆ†è¾¨ç‡ä¸º12ä½ã€‚æ¨¡æ‹Ÿé‡ç»è¿‡è½¬æ¢åä¸æ•°å­—é‡æ˜¯çº¿æ€§å…³ç³»<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup>ï¼Œ0x000ä»£è¡¨æµ‹é‡æœ€å°å€¼ã€‚0xfffä»£è¡¨æµ‹é‡æœ€å¤§å€¼ï¼ˆå³å‚è€ƒç”µå‹å€¼ï¼‰ã€‚</p><h3 id="31-æ•°æ®å¯¹é½"><a class="markdownIt-Anchor" href="#31-æ•°æ®å¯¹é½"></a> 3.1. æ•°æ®å¯¹é½</h3><p>å°½ç®¡åˆ†è¾¨ç‡ä¸º12ä½ï¼Œä¹Ÿæ˜¯æ”¾åœ¨16ä½å¯„å­˜å™¨é‡Œçš„ï¼Œé‚£ä¹ˆå°±æ¶‰åŠæ•°æ®å¯¹é½çš„é—®é¢˜ã€‚</p><ul><li>è‹¥12ä½æ•°æ®æ˜¯å³å¯¹é½çš„ï¼Œå³ç»“æœä¸º0x0???ï¼Œè¿™æ ·å¾—åˆ°çš„ç»“æœç›´æ¥å°±æ˜¯è½¬æ¢ç»“æœã€‚</li><li>è‹¥é€‰æ‹©å·¦å¯¹é½ï¼Œå³ç»“æœä¸º0x???0ï¼Œç›¸å½“äº<code>0x0???&lt;&lt;4</code><span class="spoiler">ä¸ä¼šæœ‰äººè§‰å¾—æ˜¯å·¦ç§»1ä½å§</span> æˆ‘ä»¬éƒ½çŸ¥é“å³ç§»å››ä½ç›¸å½“äºä¹˜ä»¥2<sup>4</sup>ï¼Œæ¯”å®é™…æ•°æ®å¢å¤§äº†16å€ã€‚é‚£ä¹ˆæˆ‘ä»¬ä¸ºä»€ä¹ˆè¿˜éœ€è¦å·¦å¯¹é½å‘¢ï¼Ÿæœ‰æ—¶æˆ‘ä»¬å¯¹åˆ†è¾¨ç‡è¦æ±‚ä¸é«˜ï¼Œåªéœ€å¤§æ¦‚åˆ¤æ–­ï¼Œæ‰€ä»¥æˆ‘ä»¬ç”¨å·¦å¯¹é½å–å‡ºå¯„å­˜å™¨çš„é«˜8ä½ï¼Œç›¸å½“äºèˆå¼ƒ4ä½è½¬æ¢ç²¾åº¦ï¼Œé™ä¸º8ä½åˆ†è¾¨ç‡ã€‚</li></ul><h3 id="32-å…·ä½“è¯´æ˜"><a class="markdownIt-Anchor" href="#32-å…·ä½“è¯´æ˜"></a> 3.2. å…·ä½“è¯´æ˜ï¼š</h3><p>ä¾‹å¦‚ï¼Œæˆ‘ä»¬éœ€è¦æµ‹é‡æ¨¡æ‹Ÿé‡ä¸º0.9V è¿‡ç¨‹å¦‚ä¸‹<sup class="footnote-ref"><a href="#fn2" id="fnref2">[2]</a></sup>ï¼š</p><ol><li>é€šè¿‡GPIOå£é‡‡æ ·å¾…æµ‹ç”µå‹åˆ°ç”µå®¹ä¸Šã€‚</li><li>åˆ‡æ–­ä¸å¾…æµ‹ä¿¡å·çš„è¿æ¥ï¼Œå°†å¾…æµ‹ç”µå‹ä¿æŒåœ¨ç”µå®¹ä¸Šã€‚</li><li>æˆ‘ä»¬ä»æœ€é«˜ä½å¼€å§‹ ?000-0000-0000 ï¼Œæˆ‘ä»¬çŸ¥é“ 1000-0000-0000 åˆšå¥½å¯¹åº”åè¿›åˆ¶2048ï¼Œæ ¹æ®çº¿æ€§å…³ç³»2048åˆšå¥½å¯¹åº”å‚è€ƒç”µå‹çš„ä¸€åŠã€‚æ‰€ä»¥è¿™é‡Œç›¸å½“äºå°†å‚è€ƒç”µå‹å€¼çš„ä¸€åŠ1.65vä¸å¾…æµ‹ç”µå‹æ¯”è¾ƒã€‚å¦‚æœå¾…æµ‹ç”µå‹æ²¡æœ‰1.65vé«˜ï¼Œå°±å°†æœ€é«˜ä½ç½®0ã€‚æˆ‘ä»¬å°±çŸ¥é“å¾…æµ‹ç”µå‹å¯¹åº”åœ¨0~2048ä¹‹é—´ã€‚æ­¤æ—¶æˆ‘ä»¬å°±è¦å’Œ1024æ¯”è¾ƒï¼Œ1024äºŒè¿›åˆ¶è¡¨ç¤ºä¸º 0100-0000-0000ï¼Œåˆšå¥½æ˜¯æ¬¡é«˜ä½ç½®1çš„æƒ…å†µã€‚ä»¥æ­¤ç±»æ¨ï¼Œç›´åˆ°12ä½å…¨éƒ¨æ¯”è¾ƒå®Œï¼Œå°±èƒ½ç¡®å®šå“ªäº›ä½æ˜¯1å“ªäº›ä½æ˜¯0ã€‚</li></ol><h2 id="4-adcçš„è½¬æ¢æ¨¡å¼"><a class="markdownIt-Anchor" href="#4-adcçš„è½¬æ¢æ¨¡å¼"></a> 4. ADCçš„è½¬æ¢æ¨¡å¼</h2><h3 id="41-å…³äºæ˜¯å¦è¦æŒç»­è½¬æ¢"><a class="markdownIt-Anchor" href="#41-å…³äºæ˜¯å¦è¦æŒç»­è½¬æ¢"></a> 4.1. å…³äºæ˜¯å¦è¦æŒç»­è½¬æ¢</h3><ol><li>å•æ¬¡è½¬æ¢æ¨¡å¼ï¼šADCåªæ‰§è¡Œä¸€æ¬¡è½¬æ¢ï¼›</li><li>è¿ç»­è½¬æ¢æ¨¡å¼ï¼šè½¬æ¢ç»“æŸä¹‹åé©¬ä¸Šå¼€å§‹æ–°çš„è½¬æ¢ï¼›</li></ol><h3 id="42-å¦‚æœæœ‰å¤šä¸ªé€šé“"><a class="markdownIt-Anchor" href="#42-å¦‚æœæœ‰å¤šä¸ªé€šé“"></a> 4.2. å¦‚æœæœ‰å¤šä¸ªé€šé“</h3><ol><li>æ‰«ææ¨¡å¼ï¼šADCæ‰«æè¢«è§„åˆ™é€šé“å’Œæ³¨å…¥é€šé“é€‰ä¸­çš„æ‰€æœ‰é€šé“ï¼Œåœ¨æ¯ä¸ªç»„çš„æ¯ä¸ªé€šé“ä¸Šæ‰§è¡Œå•æ¬¡è½¬æ¢ã€‚åœ¨æ¯ä¸ªè½¬æ¢ç»“æŸæ—¶ï¼Œè¿™ä¸€ç»„çš„ä¸‹ä¸€ä¸ªé€šé“è¢«è‡ªåŠ¨è½¬æ¢ã€‚å¦‚æœè®¾ç½®äº†CONTä½ï¼ˆå¼€å¯äº†è¿ç»­è½¬æ¢æ¨¡å¼ï¼‰ï¼Œè½¬æ¢ä¸ä¼šåœ¨é€‰æ‹©ç»„çš„æœ€åä¸€ä¸ªé€šé“ä¸Šåœæ­¢ï¼Œè€Œæ˜¯å†æ¬¡ä»é€‰æ‹©ç»„çš„ç¬¬ä¸€ä¸ªé€šé“ç»§ç»­è½¬æ¢ã€‚</li><li>é—´æ–­æ¨¡å¼ï¼šè§¦å‘ä¸€æ¬¡ï¼Œè½¬æ¢ä¸€ä¸ªé€šé“ï¼Œå†è§¦å‘ï¼Œå†è½¬æ¢ã€‚åœ¨æ‰€é€‰è½¬æ¢é€šé“å¾ªç¯ï¼Œç”±è§¦å‘ä¿¡å·å¯åŠ¨æ–°ä¸€è½®çš„è½¬æ¢ï¼Œç›´åˆ°è½¬æ¢å®Œæˆä¸ºæ­¢ã€‚</li></ol><h2 id="5-å‚è€ƒåšå®¢"><a class="markdownIt-Anchor" href="#5-å‚è€ƒåšå®¢"></a> 5. å‚è€ƒåšå®¢</h2><p>ç»™æ˜Ÿæ˜Ÿçš„æ˜¯æˆ‘è§‰å¾—å†™å¾—å¾ˆå¥½çš„åšå®¢ã€‚</p><ul><li>â­â­â­<a href="https://blog.csdn.net/as480133937/article/details/99627062">ã€STM32ã€‘HALåº“ STM32CubeMXæ•™ç¨‹ä¹â€”ADC_cubemx adc-CSDNåšå®¢</a></li></ul><hr class="footnotes-sep" /><section class="footnotes"><ol class="footnotes-list"><li id="fn1" class="footnote-item"><p>ä»¥12ä½åˆ†è¾¨ç‡ADCä¸ºä¾‹ï¼Œå‚è€ƒç”µå‹3.3vï¼šç”µå‹å€¼y=è½¬æ¢ç»“æœxÂ·3.3/4096. <a href="#fnref1" class="footnote-backref">â†©ï¸</a></p></li><li id="fn2" class="footnote-item"><p>å‚è€ƒç”µå‹3.3vï¼Œ12ä½ç²¾åº¦ <a href="#fnref2" class="footnote-backref">â†©ï¸</a></p></li></ol></section>]]></content>
      
      
      <categories>
          
          <category> åµŒå…¥å¼ </category>
          
          <category> CubeMXé…ç½®åŠŸèƒ½ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> STM32 </tag>
            
            <tag> CubeMX </tag>
            
            <tag> ADC </tag>
            
            <tag> åµŒå…¥å¼ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å•ç‰‡æœºï¼ˆä¼ªï¼‰å¤šä»»åŠ¡å¤„ç†ï¼šæ—¶é—´ç‰‡è½®è¯¢æ³•</title>
      <link href="/posts/39448/"/>
      <url>/posts/39448/</url>
      
        <content type="html"><![CDATA[<details><summary>ç‰ˆæƒä¿¡æ¯</summary><p>:::warning</p><p>æœ¬æ–‡ç« ä¸ºåšä¸»åŸåˆ›æ–‡ç« ã€‚éµå¾ª <a href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh-hans">CC 4.0 BY-SA</a> ç‰ˆæƒåè®®ï¼Œè½¬è½½è¯·é™„ä¸ŠåŸæ–‡å‡ºå¤„é“¾æ¥å’Œæœ¬å£°æ˜ã€‚</p><p>:::</p></details><hr /><h2 id="å¼•å…¥"><a class="markdownIt-Anchor" href="#å¼•å…¥"></a> å¼•å…¥</h2><p>åœ¨æ–°æ‰‹åˆšåˆšå…¥é—¨æ—¶ï¼Œé€šå¸¸ä½¿ç”¨çš„ç¨‹åºæ¶æ„ä¸ºè£¸æœºã€é¡ºåºæ‰§è¡Œã€‚ä¹Ÿå°±æ˜¯è¯´æŠŠæ‰€æœ‰çš„åŠŸèƒ½æ”¾åœ¨ä¸€ä¸ª<code>while(1)</code>æ­»å¾ªç¯ä¸­ç„¶åå•ç‰‡æœºä¸æ–­å¾ªç¯æ‰§è¡Œã€‚æœ‰å¿…è¦çš„è¯ä¼šåŠ ä¸Šä¸€äº›ä¸­æ–­ç”¨æ¥å¤„ç†ä¸€äº›ç´§æ€¥äº‹ä»¶æˆ–è€…å¤–éƒ¨çš„ä¿¡å·ï¼Œæ„æˆç»å…¸çš„å‰åå°ç³»ç»Ÿã€‚ä½†æ˜¯è¿™æ ·åšæœ‰ä»€ä¹ˆå¼Šç«¯å‘¢ï¼Ÿè¿™æ˜¯æˆ‘åœ¨æˆ‘è¸©è¿‡å‘åæ„è¯†åˆ°çš„ï¼š</p><ol><li>æœ‰äº›ç¨‹åºå®Œå…¨ä¸éœ€è¦é¢‘ç¹æ‰§è¡Œï¼Œæ¯”å¦‚LEDçš„åˆ·æ–°ï¼ŒæŒ‰é”®çš„æ£€æµ‹ç­‰ã€‚æ”¾åœ¨æ­»å¾ªç¯ä¸­æ‰§è¡Œå¯¹CPUæ¯”è¾ƒæµªè´¹ã€‚</li><li>éšç€åŠŸèƒ½çš„å¢å¤šæˆ–è€…ä»£ç å˜å¾—å¤æ‚ä½ ä¼šæ„Ÿè§‰åˆ°ç¨‹åºè¶Šå†™è¶Šå›°éš¾ï¼Œå¾ªç¯ä¸­çš„åŠŸèƒ½æ¨¡å—æœ‰æ—¶éœ€è¦å’Œä¸­æ–­è”åŠ¨ï¼Œå„ä¸ªæ¨¡å—ä¹‹é—´ä¹Ÿæœ‰å¯èƒ½éœ€è¦è”åŠ¨èµ·æ¥ã€‚å³ä½¿ä½¿ç”¨çŠ¶æ€æœºä¹ŸåŠ›ä¸ä»å¿ƒâ€¦</li><li>å‹‰å‹‰å¼ºå¼ºå®Œæˆäº†ä»»åŠ¡ï¼ŒåæœŸçš„ç»´æŠ¤ä¹Ÿå˜å¾—ç›¸å½“çš„éº»çƒ¦ã€‚</li></ol><p>è¸©è¿‡å‘åçš„æˆ‘ç—›å®šæ€ç—›ï¼šå‡†å¤‡ä»¥åå†™ç¨‹åºéƒ½è¯·å‡ºRTOSè¿™ä¸ªå¤§æ‰‹å­ã€‚ä½†æ˜¯åæ¥æˆ‘åˆå‘ç° æœ‰æ—¶ä½ æƒ³è¦å®ç°çš„åŠŸèƒ½åˆšå¥½ä»‹äºå¤æ‚ä¸ä¸å¤æ‚ä¹‹é—´â€¦å’‹ç†è§£å‘¢ï¼Œå°±æ˜¯è¯´ç”¨é¡ºåºæ‰§è¡Œï¼Œå¤æ‚äº†ç‚¹ï¼Œç”¨RTOSå§å¥½åƒä¹Ÿæ²¡å¿…è¦â€¦æ¯•ç«Ÿç§»æ¤è¿˜æ˜¯æŒºéº»çƒ¦çš„ã€‚å½“ç„¶è¿˜æœ‰å°±æ˜¯RTOSä½“é‡è¿‡å¤§ï¼Œæœ‰äº›å•ç‰‡æœºåƒä¸ä¸‹ï¼Œæˆ–è€…åƒä¸‹äº†ä½†æ˜¯ä¹Ÿæ’‘çš„åƒä¸ä¸‹è‡ªå·±å†™çš„ä»£ç äº†<span class="spoiler">å±äºæ˜¯å°é¸Ÿèƒƒè¿™ä¸€å—ï¼Œä¸è¿‡ç›®å‰æˆ‘è¿˜æ²¡é‡åˆ°è¿‡ï¼Œæˆ‘ç”¨çš„å•ç‰‡æœºåŸºæœ¬ä¸Šå±äºå¤§å«æˆ´è¿™ä¸€å—</span></p><h2 id="æ—¶é—´ç‰‡è½®è¯¢æ³•"><a class="markdownIt-Anchor" href="#æ—¶é—´ç‰‡è½®è¯¢æ³•"></a> æ—¶é—´ç‰‡è½®è¯¢æ³•</h2><p>ä¸ºäº†ä¼˜åŒ–ä¸Šé¢è¿™äº›é—®é¢˜ï¼Œå¤§ä½¬ä»¬äºæ˜¯æå‡ºäº†ä¸€ç§åŸºäºæ—¶é—´ç‰‡çš„è£¸æœºå¼€å‘æ¶æ„ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨ä¸€ä¸ªå®šæ—¶å™¨æä¾›å¿ƒè·³ï¼Œä¸æ–­çš„è¿›è¡Œè®¡æ•°ã€‚ç„¶åå½“å®šæ—¶æ—¶é—´ä¸€åˆ°ï¼Œé‚£ä¹ˆå°±å¯ä»¥å¼€å§‹æ‰§è¡Œç›¸åº”çš„ä»»åŠ¡äº†ã€‚</p><h3 id="talk-is-cheapshow-me-the-code"><a class="markdownIt-Anchor" href="#talk-is-cheapshow-me-the-code"></a> Talk is cheapï¼ŒShow me the code.</h3><p>é¦–å…ˆæ˜¯.hå¤´æ–‡ä»¶</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">ifndef</span> __OS_H__</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> __OS_H__</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//ä»»åŠ¡çŠ¶æ€</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">enum</span> <span class="title">TaskStatus</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">Â  Â  wait,run,stop</span><br><span class="line"></span><br><span class="line">&#125;TaskStatus;<span class="comment">//ç­‰å¾…è¿è¡Œã€æ­£åœ¨è¿è¡Œã€åœæ­¢è¿è¡Œ</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//ä»»åŠ¡ä¿¡æ¯å—</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line"></span><br><span class="line">Â  Â  <span class="type">uint16_t</span> Â  Â TaskTimer; Â  Â <span class="comment">//ç”¨äºè®¡æ—¶</span></span><br><span class="line"></span><br><span class="line">Â  Â  <span class="type">uint16_t</span> Â  Â TaskRunTime; Â <span class="comment">//æ¯éš”å¤šå°‘æ—¶é—´è¿è¡Œä¸€æ¬¡</span></span><br><span class="line"></span><br><span class="line">Â  Â  TaskStatus Â Status; Â  Â  Â  <span class="comment">//ä»»åŠ¡çŠ¶æ€</span></span><br><span class="line"></span><br><span class="line">Â  Â  <span class="type">void</span> (*FC)();             <span class="comment">//ä»»åŠ¡å‡½æ•°æŒ‡é’ˆ</span></span><br><span class="line"></span><br><span class="line">&#125;TaskStruct;</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"><span class="type">void</span> <span class="title function_">OSInit</span><span class="params">(TIM_HandleTypeDef htim)</span>;<span class="comment">//åˆå§‹åŒ–è®¾ç½®ï¼Œè¿™é‡Œæ˜¯ç”¨çš„STM32halåº“</span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">OS_IT_RUN</span><span class="params">(<span class="type">void</span>)</span>;<span class="comment">//æ”¾åœ¨æä¾›å¿ƒè·³çš„å®šæ—¶å™¨ä¸­æ–­é‡Œè¿è¡Œ</span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">OS_Run</span><span class="params">(<span class="type">void</span>)</span>;<span class="comment">//ä¸»å‡½æ•°é‡Œè¿è¡Œçš„</span></span><br><span class="line"> </span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br></pre></td></tr></table></figure><p>ç„¶åæ˜¯.c</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Â  ******************************************************************************</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Â  * @file Â  Â  Â  Â  Â  : OS.c</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Â  * @brief Â  Â  Â  Â  Â : ä»»åŠ¡å‡½æ•°ã€OSå†…æ ¸</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Â  ******************************************************************************</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">Â  */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;OS.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* ä»»åŠ¡å£°æ˜------------------------------------------------------------------*/</span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">A</span><span class="params">(<span class="type">void</span>)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">B</span><span class="params">(<span class="type">void</span>)</span>;</span><br><span class="line"><span class="type">void</span> <span class="title function_">C</span><span class="params">(<span class="type">void</span>)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* -------------------------------------------------------------------------*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* ä»»åŠ¡æ¸…å•é…ç½®---------------------------------------------------------------*/</span></span><br><span class="line"></span><br><span class="line"><span class="type">uint8_t</span> TaskCount = <span class="number">0</span>;<span class="comment">//è®°å½•ä»»åŠ¡æ•°é‡ Â </span></span><br><span class="line"></span><br><span class="line">TaskStruct TaskList[] = &#123;</span><br><span class="line"></span><br><span class="line">Â  Â  &#123;<span class="number">0</span>,<span class="number">5</span>,run,A&#125;,</span><br><span class="line"></span><br><span class="line">Â  Â  &#123;<span class="number">0</span>,<span class="number">10</span>,wait,B&#125;,</span><br><span class="line"></span><br><span class="line">Â  Â  &#123;<span class="number">0</span>,<span class="number">3</span>,wait,C&#125;,</span><br><span class="line"></span><br><span class="line">&#125;;<span class="comment">//ä»»åŠ¡æ¸…å•</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* -------------------------------------------------------------------------*/</span></span><br><span class="line"></span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line"></span><br><span class="line"><span class="comment">/* ä»»åŠ¡åŒæ­¥æ‰€éœ€å…¬å…±å˜é‡--------------------------------------------------------*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* -------------------------------------------------------------------------*/</span></span><br><span class="line"></span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line"></span><br><span class="line"><span class="comment">/* OS ä¸»åŠŸèƒ½ä»£ç --------------------------------------------------------------*/</span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">OSInit</span><span class="params">(TIM_HandleTypeDef htim)</span>&#123;<span class="comment">//å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚é‡æ–°å†™</span></span><br><span class="line"></span><br><span class="line">Â  Â  HAL_TIM_Base_Start_IT(&amp;htim); Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="comment">//æ‰“å¼€å®šæ—¶å™¨</span></span><br><span class="line"></span><br><span class="line">Â  Â  TaskCount = <span class="keyword">sizeof</span>(TaskList)/<span class="keyword">sizeof</span>(TaskList[<span class="number">0</span>]); Â  <span class="comment">//åˆ©ç”¨sizeofè®¡ç®—æ•°ç»„é•¿åº¦çš„æ–¹æ³•å¯å¾—åˆ°ä»»åŠ¡æ•°é‡</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"><span class="comment">//æ”¾åœ¨ä¸­æ–­ä¸­æ‰§è¡Œ</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">OS_IT_RUN</span><span class="params">(<span class="type">void</span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">Â  Â  <span class="type">uint8_t</span> i;</span><br><span class="line"></span><br><span class="line">Â  Â  <span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;TaskCount;i++)&#123; Â  Â  Â  Â  Â  Â  Â <span class="comment">//éå†æ‰€æœ‰å¾ªç¯</span></span><br><span class="line"></span><br><span class="line">Â  Â  Â  Â  <span class="keyword">if</span>(TaskList[i].Status == wait)&#123; Â  Â <span class="comment">//å½“ä»»åŠ¡waitçŠ¶æ€ï¼Œæ‰§è¡Œä»¥ä¸‹æ­¥éª¤</span></span><br><span class="line"></span><br><span class="line">Â  Â  Â  Â  Â  Â  <span class="keyword">if</span>(++TaskList[i].TaskTimer &gt;= TaskList[i].TaskRunTime)&#123;</span><br><span class="line">Â  Â  Â  Â  Â  Â  <span class="comment">//è®¡æ—¶ï¼Œå¹¶åˆ¤æ–­æ˜¯å¦åˆ°è¾¾å®šæ—¶æ—¶é—´ Â  Â  Â  Â  Â   Â Â  Â  </span></span><br><span class="line">Â  Â  Â  Â  Â  Â  <span class="comment">//å¦‚æœåˆ°äº†å®šæ—¶æ—¶é—´ï¼Œåˆ™å°†ä»»åŠ¡æŒ‚èµ·ï¼Œå¹¶å¤ä½è®¡æ—¶ï¼ˆä¹Ÿå¯ä»¥æ‰§è¡Œå®Œåå¤ä½ï¼Œæ•ˆæœä¸€æ ·ï¼‰</span></span><br><span class="line">Â  Â  Â  Â  Â  Â  Â  Â  TaskList[i].TaskTimer = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">Â  Â  Â  Â  Â  Â  Â  Â  TaskList[i].Status = run;</span><br><span class="line">Â  Â  Â  Â  Â  Â  &#125;</span><br><span class="line"></span><br><span class="line">Â  Â  Â  Â  &#125;</span><br><span class="line"></span><br><span class="line">Â  Â  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line"><span class="comment">//æ”¾åœ¨mainå‡½æ•°ä¸­æ‰§è¡Œï¼Œè‡ªå¸¦æ­»å¾ªç¯ï¼Œç”¨äºæ‰§è¡Œä»»åŠ¡</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">OS_Run</span><span class="params">(<span class="type">void</span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">Â  Â  <span class="type">uint8_t</span> j=<span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">Â  Â  <span class="keyword">while</span>(<span class="number">1</span>)&#123;</span><br><span class="line"></span><br><span class="line">Â  Â  Â  Â  <span class="keyword">if</span>(TaskList[j].Status == run)&#123; Â  Â  Â  Â  Â  Â  Â  Â  Â <span class="comment">//åˆ¤æ–­ä¸€ä¸ªä»»åŠ¡æ˜¯å¦ä¸ºrunçŠ¶æ€</span></span><br><span class="line"></span><br><span class="line">Â  Â  Â  Â  Â  Â  TaskList[j].FC(); Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="comment">//æ‰§è¡Œè¯¥ä»»åŠ¡å‡½æ•°</span></span><br><span class="line"></span><br><span class="line">Â  Â  Â  Â  Â  Â  TaskList[j].Status = wait ; Â  Â  Â  Â  Â  Â  Â  Â  <span class="comment">//å–æ¶ˆä»»åŠ¡çš„runçŠ¶æ€</span></span><br><span class="line"></span><br><span class="line">Â  Â  Â  Â  &#125;</span><br><span class="line"></span><br><span class="line">Â  Â  Â  Â  <span class="keyword">if</span>(++j&gt;=TaskCount)j=<span class="number">0</span>; Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â <span class="comment">//ä¸æ–­å¾ªç¯éå†æ‰€æœ‰ä»»åŠ¡</span></span><br><span class="line"></span><br><span class="line">Â  Â  Â  Â  <span class="comment">/* è¿™é‡Œå¯ä»¥å®šä¹‰ç©ºé—²ä»»åŠ¡ */</span></span><br><span class="line"></span><br><span class="line">Â  Â  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line"><span class="comment">/* -------------------------------------------------------------------------*/</span></span><br></pre></td></tr></table></figure><p><strong>æŒ‰ç…§åˆ†è€Œæ²»ä¹‹çš„æ€æƒ³ï¼Œå®Œå…¨å¯ä»¥æŠŠä»»åŠ¡å‡½æ•°é‡æ–°å†™åœ¨ä¸€ä¸ªtask.cæ–‡ä»¶ä¸­ï¼Œè¿™æ ·æ›´åŠ ç®€æ´ç¾è§‚</strong>ã€‚<br />é‡‡ç”¨ä¸Šé¢çš„ä»£ç ï¼Œä¸ªäººè®¤ä¸ºæ¯”ä¸ºæ¯ä¸ªåŠŸèƒ½å‡½æ•°æä¾›ä¸€ä¸ªflagï¼Œæ—¶é—´åˆ°è¾¾åå°†ä»»åŠ¡æ ‡å¿—ä¸ºç½®ä½ã€‚ç„¶ååœ¨mainå‡½æ•°çš„å¾ªç¯ä¸­æ£€æŸ¥æ ‡å¿—ä½çŠ¶æ€ï¼ˆç±»ä¼¼çŠ¶æ€æœºï¼‰é‚£ç§æ–¹æ³•è¦æ–¹ä¾¿ã€‚é¿å…äº†ä¸€äº›é‡å¤çš„å·¥ä½œã€‚</p><h3 id="ä»€ä¹ˆæ„æ€"><a class="markdownIt-Anchor" href="#ä»€ä¹ˆæ„æ€"></a> ä»€ä¹ˆæ„æ€</h3><p>æ¯”å¦‚æˆ‘æœ‰ä¸‰ä¸ªåŠŸèƒ½ï¼š</p><ul><li>Aï¼š5msæ‰§è¡Œä¸€æ¬¡</li><li>Bï¼š10msæ‰§è¡Œä¸€æ¬¡</li><li>Cï¼š3msæ‰§è¡Œä¸€æ¬¡</li></ul><p>æˆ‘ä»¬éšæœºææ‹”ä¸€ä¸ªå®šæ—¶å™¨ä½œä¸ºå¿ƒè·³æ—¶é’Ÿï¼Œè¯´ç™½äº†å°±æ˜¯æè¡¨çš„å˜›ã€‚è¿™ä¸ªå®šæ—¶å™¨ä¸€èˆ¬ä½¿ç”¨åŸºæœ¬å®šæ—¶å™¨æ€§ä»·æ¯”é«˜ä¸€ç‚¹ã€‚è¿™ä¸ªå®šæ—¶å™¨æ¯éš”1mså°±å«ä¸€ä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥å†³å®šABCåœ¨ä¸Šç”µæ—¶å€™æ—¶æ˜¯å¦æ‰§è¡Œï¼Œæˆ–è€…ä¸Šç”µåå»¶è¿Ÿä¸€ä¸ªè‡ªå·±çš„ä»»åŠ¡å‘¨æœŸå†æ‰§è¡Œã€‚æ¯”å¦‚æˆ‘ä»¬è®¾å®šä¸Šç”µæ—¶ï¼šä»…Aæ‰§è¡Œã€‚å¦‚æœæˆ‘ä»¬å¿½ç•¥ä»£ç çš„æ‰§è¡Œæ—¶é—´ï¼Œé‚£ä¹ˆç¨‹åºå°±æ˜¯è¿™ä¹ˆè¿è¡Œçš„ï¼š</p><p><code>A-1ms-1ms-1ms(C)-1ms-1ms(A)-1ms(C)-1ms-1ms-1ms(C)-1ms(Aã€B)--------</code></p><p>å¦‚æœä¸Šä¸€ä¸ªåŠŸèƒ½æ¨¡å—å·²ç»æ‰§è¡Œå®Œäº†ï¼Œä½†ä¸‹ä¸€ä¸ªåŠŸèƒ½æ¨¡å—çš„å®šæ—¶æ—¶é—´è¿˜æ²¡åˆ°ï¼Œä¾¿ä¼šäº§ç”Ÿç©ºé—²æ—¶é—´ï¼Œè¿™é‚£äº›1msåæ²¡æœ‰æ‹¬å·çš„å°±æ˜¯CPUçš„ç©ºé—²æ®µã€‚åŒæ ·å¯ä»¥åƒRTOSé‚£æ ·æŠŠç©ºé—²æ—¶é—´ç»™ç©ºé—²ä»»åŠ¡ã€‚<br />æ³¨æ„å½“å‰å»¶æ—¶äº†å¤šå°‘æ—¶é—´æ˜¯ä¸€ä¸ªå‡½æ•°æ‰§è¡Œå®Œå°±ç›´æ¥å¼€å§‹è®¡ç®—çš„ï¼Œæˆ‘ä¹‹å‰å°±ç†è§£ä¸ºäº†ä¸€ä¸ªæ—¶é—´ç‰‡åªæœ‰ä¸€ä¸ªå‡½æ•°æ‰§è¡Œã€‚å®é™…ä¸Šä¸æ˜¯çš„ã€‚</p><h2 id="è¿™æ ·çš„æ–¹æ³•æœ‰ä»€ä¹ˆä¸è¶³"><a class="markdownIt-Anchor" href="#è¿™æ ·çš„æ–¹æ³•æœ‰ä»€ä¹ˆä¸è¶³"></a> è¿™æ ·çš„æ–¹æ³•æœ‰ä»€ä¹ˆä¸è¶³ï¼Ÿ</h2><ol><li>é¦–å…ˆï¼Œåƒè¿™æ ·çš„ä¸ç‰ˆRTOSï¼Œå®æ—¶æ€§å¹¶æ²¡æœ‰çœŸæ­£çš„RTOSé«˜ï¼Œä¸æ˜¯è¯´æ‰§è¡Œå°±æ‰§è¡Œï¼Œä¼šæœ‰ä¸€äº›å»¶è¿Ÿã€‚</li><li><strong>å¦‚æœæŸä¸ªä»»åŠ¡è¿è¡Œæ—¶é—´è¶…è¿‡ä¸€ä¸ªæ—¶é—´ç‰‡ï¼Œå®ƒå¯èƒ½ä¼šä¸€ç›´å ç”¨CPUï¼Œå¯¼è‡´åé¢çš„ä»»åŠ¡æ— æ³•åŠæ—¶æ‰§è¡Œï¼Œä»è€Œå½±å“ç³»ç»Ÿçš„å“åº”æ—¶é—´ã€‚ç„¶åä¸€æ•´ä¸ªå°±ä¹±äº†ã€‚</strong> <s>ä½†æ˜¯ä¸ªäººæ„Ÿè§‰å¦‚æœå®æ—¶æ€§è¦æ±‚ä¸é«˜ï¼Œä¹Ÿæ— ä¼¤å¤§é›…ğŸ¤”</s></li></ol><p>æ¯”å¦‚æ—¶é—´ç‰‡ä¸º1msã€‚Aè¿è¡Œæ—¶é—´ä¸º2msï¼Œæ¯éš”4msæ‰§è¡Œä¸€æ¬¡ã€‚Bè¿è¡Œæ—¶é—´ä¸è®¡ï¼Œæ¯éš”3msè¿è¡Œä¸€æ¬¡ã€‚</p><p>ï¼ˆA1ms-1msï¼‰-1ms(B)-1ms(A1ms-1ms)(B)-1ms-1ms(A1ms(<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup>)-1ms)(B<sup class="footnote-ref"><a href="#fn2" id="fnref2">[2]</a></sup>)-----</p><h2 id="å‚è€ƒæ–‡ç« "><a class="markdownIt-Anchor" href="#å‚è€ƒæ–‡ç« "></a> å‚è€ƒæ–‡ç« </h2><ul><li><a href="https://blog.csdn.net/qq_63922192/article/details/132746564">åµŒå…¥å¼è£¸æœºè®¾è®¡æ€æƒ³â€”â€”æ—¶é—´ç‰‡è½®è£¸æœºå¼€å‘æ¶æ„+çŠ¶æ€æœº+å®šæ—¶å™¨è°ƒåº¦æœºåˆ¶_åŸºäºçŠ¶æ€æœºåˆ¶ å®šæ—¶å™¨-CSDNåšå®¢</a>éµå¾ªÂ <a href="http://creativecommons.org/licenses/by-sa/4.0/">CC 4.0 BY-SA</a>Â ç‰ˆæƒåè®®</li><li><a href="https://blog.csdn.net/weixin_44843021/article/details/117490107">STM32è£¸æœº-æ—¶é—´ç‰‡ä»»åŠ¡è½®è¯¢_æ—¶é—´ç‰‡è½®è¯¢-CSDNåšå®¢</a>éµå¾ªÂ <a href="http://creativecommons.org/licenses/by-sa/4.0/">CC 4.0 BY-SA</a>Â ç‰ˆæƒåè®®</li></ul><hr class="footnotes-sep" /><section class="footnotes"><ol class="footnotes-list"><li id="fn1" class="footnote-item"><p>è¿™é‡Œè¯¥æ‰§è¡ŒBäº†ï¼Œä½†ç”±äºAæŠ¢å CPUï¼Œæ— æ³•æ‰§è¡Œã€‚ <a href="#fnref1" class="footnote-backref">â†©ï¸</a></p></li><li id="fn2" class="footnote-item"><p>è¿™æ¬¡Bå®é™…ä¸Šéš”äº†4msæ‰æ‰§è¡Œ <a href="#fnref2" class="footnote-backref">â†©ï¸</a></p></li></ol></section>]]></content>
      
      
      <categories>
          
          <category> åµŒå…¥å¼ </category>
          
          <category> ç¨‹åºæ¶æ„ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> åµŒå…¥å¼ </tag>
            
            <tag> ç¨‹åºæ¶æ„ </tag>
            
            <tag> å•ç‰‡æœº </tag>
            
            <tag> å¤šä»»åŠ¡ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å±äºè‡ªå·±çš„å¼•å¯¼é¡µ</title>
      <link href="/posts/38456/"/>
      <url>/posts/38456/</url>
      
        <content type="html"><![CDATA[<h2 id="ç½‘ç«™æˆªå›¾"><a class="markdownIt-Anchor" href="#ç½‘ç«™æˆªå›¾"></a> ç½‘ç«™æˆªå›¾</h2><p><img src="Snipaste_2025-03-01_13-57-17.png" alt="" /></p><h2 id="æ„Ÿè°¢"><a class="markdownIt-Anchor" href="#æ„Ÿè°¢"></a> æ„Ÿè°¢</h2><p>ç½‘ç«™æ•´ä½“çš„ä»£ç æ¶æ„å’Œè®¾è®¡æ€è·¯éƒ½åŸºäº<a href="https://zyyo.net/">Zyyo</a>çš„ä¸ªäººä¸»é¡µï¼Œè¿™æ˜¯GitHubé¡¹ç›®åœ°å€ï¼š<a href="https://github.com/ZYYO666/homepage">ZYYO666/homepage: æˆ‘çš„ä¸ªäººä¸»é¡µï¼Œhomepage,ä¸ªäººå¼•å¯¼é¡µ,ç®€çº¦ä¸»é¡µ,ä¸ªäººå¯¼èˆª</a></p><p>å¾ˆå¤šcssåŠ¨ç”»æ¥è‡ªcodepené‡Œçš„å¤§ä½¬ï¼Œæˆ‘è‡ªå·±ç¨åŠ ä¿®æ”¹ï¼ä»¥ä¸‹ä¸ºéƒ¨åˆ†ç½‘é¡µä½¿ç”¨çš„ï¼š</p><ul><li><a href="https://codepen.io/graphilla/details/zEZKpN">æ—¶é’Ÿ</a></li><li><a href="https://codepen.io/dannymoerkerke/details/wBwYzRe">åˆ—è¡¨æ”¶èµ·ä¸å±•å¼€</a></li><li><a href="https://codepen.io/yoannhel/details/DMzjog">hello worldåŠ¨ç”»</a></li></ul><h2 id="åè®°"><a class="markdownIt-Anchor" href="#åè®°"></a> åè®°</h2><p>æ”¾å¯’å‡ï¼Œåœ¨å®¶å®åœ¨æ— èŠï¼Œçœ‹åˆ°å„è·¯å¤§ä½¬éƒ½æœ‰ä¸€ä¸ªå±äºè‡ªå·±blogï¼Œä¾¿æœ‰äº†å»ºä¸€ä¸ªè‡ªå·±çš„blogçš„æƒ³æ³•ã€‚äºæ˜¯äº†è§£åˆ°äº†hexo ï¼Œç„¶åå„ç§æŠ„èƒ½åŠ›ğŸ¤“ä¹Ÿç®—æ˜¯æ­å¥½äº†è‡ªå·±çš„ä¸€ä¸ªåšå®¢å¹¶æ‰˜ç®¡åœ¨äº†GitHubï¼Œç»“æœæ²¡æƒ³åˆ°è¿˜ä¸å¤Ÿè¿‡ç˜¾ï¼Œæƒ³çŸ¥é“å®Œå…¨ä»0å¼€å§‹æ­ä¸€ä¸ªé™æ€ç½‘é¡µæ˜¯ä»€ä¹ˆä½“éªŒï¼Œäºæ˜¯åˆåœ¨è¾¹æè¾¹å­¦çš„æƒ…å†µä¸‹æ•´äº†ä¸ªè¿™ä¸ªå¼•å¯¼é¡µï¼Œå­¦ä¹ åˆ°äº†htmlå’Œcssï¼ˆæ²¡æœ‰jsï¼Œjså…¨æ˜¯æŠ„çš„â€¦ğŸ¥¹<s>å¥½å§å…¶å®éƒ¨åˆ†æºç æ¶æ„ä¹Ÿæ˜¯æŠ„çš„ï¼Œæ¯•ç«Ÿä¹Ÿå¯ä»¥å­¦ä¹ ä¸€ä¸‹å¤§ä½¬å†™ä»£ç çš„ç»“æ„</s>ï¼‰</p><h2 id="to-do"><a class="markdownIt-Anchor" href="#to-do"></a> TO DO</h2><ul><li>[ ]  é€‚é…é»‘å¤œæ¨¡å¼</li><li>[ ]  é€‚é…ç§»åŠ¨ç«¯</li></ul>]]></content>
      
      
      <categories>
          
          <category> webå‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç½‘é¡µ </tag>
            
            <tag> web </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CubeMXé…ç½®åŠŸèƒ½ç³»åˆ—ï¼šTimerï¼ˆä¸‹ï¼‰</title>
      <link href="/posts/48581/"/>
      <url>/posts/48581/</url>
      
        <content type="html"><![CDATA[<details><summary>ç‰ˆæƒä¿¡æ¯</summary><p>:::warning</p><p>æœ¬æ–‡ç« ä¸ºåšä¸»åŸåˆ›æ–‡ç« ã€‚éµå¾ª <a href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh-hans">CC 4.0 BY-SA</a> ç‰ˆæƒåè®®ï¼Œè½¬è½½è¯·é™„ä¸ŠåŸæ–‡å‡ºå¤„é“¾æ¥å’Œæœ¬å£°æ˜ã€‚</p><p>:::</p></details><hr /><h2 id="1-ç›®å½•"><a class="markdownIt-Anchor" href="#1-ç›®å½•"></a> 1. ç›®å½•</h2><ul><li><a href="#1-%E7%9B%AE%E5%BD%95">1. ç›®å½•</a></li><li><a href="#2-%E8%AF%B4%E6%98%8E">2. è¯´æ˜</a></li><li><a href="#3-tim-%E5%90%84%E7%A7%8D%E6%A8%A1%E5%BC%8F%E8%AF%A6%E8%A7%A3">3. TIM å„ç§æ¨¡å¼è¯¦è§£</a><ul><li><a href="#31-%E4%BB%8E%E6%A8%A1%E5%BC%8F">3.1. ä»æ¨¡å¼</a><ul><li><a href="#311-%E7%AE%80%E4%BB%8B">3.1.1. ç®€ä»‹</a></li><li><a href="#312-%E5%A4%8D%E4%BD%8D%E6%A8%A1%E5%BC%8Frm">3.1.2. å¤ä½æ¨¡å¼ï¼ˆRMï¼‰</a></li><li><a href="#313-%E9%97%A8%E6%8E%A7%E6%A8%A1%E5%BC%8Fgm">3.1.3. é—¨æ§æ¨¡å¼ï¼ˆGMï¼‰</a></li><li><a href="#314-%E8%A7%A6%E5%8F%91%E6%A8%A1%E5%BC%8Ftm">3.1.4. è§¦å‘æ¨¡å¼ï¼ˆTMï¼‰</a></li><li><a href="#315-%E5%A4%96%E9%83%A8%E6%97%B6%E9%92%9F%E6%A8%A1%E5%BC%8F1">3.1.5. å¤–éƒ¨æ—¶é’Ÿæ¨¡å¼1</a></li><li><a href="#316-%E4%B8%80%E4%B8%AA%E7%A4%BA%E4%BE%8B">3.1.6. ä¸€ä¸ªç¤ºä¾‹</a></li><li><a href="#317-%E5%8F%82%E8%80%83">3.1.7. å‚è€ƒ</a></li></ul></li><li><a href="#32-%E7%BC%96%E7%A0%81%E5%99%A8%E6%A8%A1%E5%BC%8F">3.2. ç¼–ç å™¨æ¨¡å¼</a></li><li><a href="#33-%E8%A7%A6%E5%8F%91%E6%BA%90">3.3. è§¦å‘æº</a></li><li><a href="#34-%E6%97%B6%E9%92%9F%E6%BA%90">3.4. æ—¶é’Ÿæº</a></li><li><a href="#35-%E4%B8%BB%E6%A8%A1%E5%BC%8F">3.5. ä¸»æ¨¡å¼</a><ul><li><a href="#351-%E6%AF%94%E8%BE%83%E4%B8%8E%E6%8D%95%E8%8E%B7">3.5.1. æ¯”è¾ƒä¸æ•è·</a></li></ul></li><li><a href="#36-%E4%B8%80%E4%BA%9B%E7%96%91%E6%83%91%E7%9A%84%E5%9C%B0%E6%96%B9">3.6. ä¸€äº›ç–‘æƒ‘çš„åœ°æ–¹</a><ul><li><a href="#361-qoutput-compare-no-output%E6%98%AF%E4%BB%80%E4%B9%88%E6%A8%A1%E5%BC%8F%E5%A5%BD%E7%9F%9B%E7%9B%BE%E7%9A%84%E5%90%8D%E5%AD%97">3.6.1. Qï¼š<code>output compare no output</code>æ˜¯ä»€ä¹ˆæ¨¡å¼ï¼Ÿå¥½çŸ›ç›¾çš„åå­—ã€‚ã€‚ã€‚</a></li><li><a href="#362-q%E8%BE%93%E5%87%BA%E6%AF%94%E8%BE%83%E5%92%8Cpwm%E7%94%9F%E6%88%90%E6%A8%A1%E5%BC%8F%E6%9C%89%E4%BD%95%E5%8C%BA%E5%88%AB%E4%B8%8E%E8%81%94%E7%B3%BB">3.6.2. Qï¼šè¾“å‡ºæ¯”è¾ƒå’ŒPWMç”Ÿæˆæ¨¡å¼æœ‰ä½•åŒºåˆ«ä¸è”ç³»ï¼Ÿ</a></li><li><a href="#363-q%E4%BD%95%E4%B8%BA%E5%BC%BA%E5%88%B6%E8%BE%93%E5%87%BA%E6%9C%89%E5%95%A5%E7%94%A8">3.6.3. Qï¼šä½•ä¸ºå¼ºåˆ¶è¾“å‡ºï¼Ÿæœ‰å•¥ç”¨ï¼Ÿ</a><ul><li><a href="#3631-%E5%BC%BA%E5%88%B6%E8%BE%93%E5%87%BA%E6%A8%A1%E5%BC%8F%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86">3.6.3.1. å¼ºåˆ¶è¾“å‡ºæ¨¡å¼çš„å·¥ä½œåŸç†ï¼š</a></li><li><a href="#3632-%E4%B8%BB%E8%A6%81%E5%8A%9F%E8%83%BD">3.6.3.2. ä¸»è¦åŠŸèƒ½ï¼š</a></li><li><a href="#3633-%E5%B7%A5%E4%BD%9C%E6%A8%A1%E5%BC%8F">3.6.3.3. å·¥ä½œæ¨¡å¼ï¼š</a></li><li><a href="#3634-%E4%BE%8B%E5%AD%90">3.6.3.4. ä¾‹å­ï¼š</a></li><li><a href="#3635-%E6%80%BB%E7%BB%93">3.6.3.5. æ€»ç»“ï¼š</a></li></ul></li><li><a href="#364-q%E8%BE%93%E5%85%A5%E6%8D%95%E8%8E%B7%E7%9A%84%E9%97%B4%E6%8E%A5%E6%A8%A1%E5%BC%8F">3.6.4. Qï¼šè¾“å…¥æ•è·çš„é—´æ¥æ¨¡å¼ï¼Ÿ</a><ul><li><a href="#3641-%E7%89%B9%E7%82%B9">3.6.4.1. ç‰¹ç‚¹ï¼š</a></li><li><a href="#3642-%E4%BB%A5%E4%B8%8B%E6%98%AF%E7%9B%B4%E6%8E%A5%E4%B8%8E%E9%9D%9E%E7%9B%B4%E6%8E%A5%E6%A8%A1%E5%BC%8F%E7%9A%84%E6%AF%94%E8%BE%83">3.6.4.2. ä»¥ä¸‹æ˜¯ç›´æ¥ä¸éç›´æ¥æ¨¡å¼çš„æ¯”è¾ƒ</a></li></ul></li><li><a href="#365-%E5%8F%82%E8%80%83">3.6.5. å‚è€ƒ</a></li></ul></li></ul></li></ul><h2 id="2-è¯´æ˜"><a class="markdownIt-Anchor" href="#2-è¯´æ˜"></a> 2. è¯´æ˜</h2><p>æœ¬æ–‡ä»¥STM32G4ç³»åˆ—ä¸ºä¾‹ã€‚ä¾›è‡ªå·±å­¦ä¹ ä¸è®°å½•ä¸”åªåšç®€å•ä»‹ç»ã€‚æœ‰ä¸€å®šåŸºç¡€çš„æœ‹å‹å¯å‚è€ƒã€‚</p><hr /><h2 id="3-tim-å„ç§æ¨¡å¼è¯¦è§£"><a class="markdownIt-Anchor" href="#3-tim-å„ç§æ¨¡å¼è¯¦è§£"></a> 3. TIM å„ç§æ¨¡å¼è¯¦è§£</h2><p>å¦‚ä¸‹ä¸ºä¸€ä¸ªé«˜çº§å®šæ—¶å™¨çš„é…ç½®é¡µé¢<br /><img src="CubeMX%E9%85%8D%E7%BD%AE%E5%8A%9F%E8%83%BD%E7%B3%BB%E5%88%97%EF%BC%9ATimer%EF%BC%88%E4%B8%8A%EF%BC%89/Snipaste_2025-02-22_14-10-44.png" alt="" /></p><h3 id="31-ä»æ¨¡å¼"><a class="markdownIt-Anchor" href="#31-ä»æ¨¡å¼"></a> 3.1. ä»æ¨¡å¼</h3><p>å¯é…ç½®åŠŸèƒ½<br /><img src="CubeMX%E9%85%8D%E7%BD%AE%E5%8A%9F%E8%83%BD%E7%B3%BB%E5%88%97%EF%BC%9ATimer%EF%BC%88%E4%B8%8A%EF%BC%89/Snipaste_2025-02-22_14-14-22.png" alt="" /></p><h4 id="311-ç®€ä»‹"><a class="markdownIt-Anchor" href="#311-ç®€ä»‹"></a> 3.1.1. ç®€ä»‹</h4><p>å®šæ—¶å™¨çš„ä»æ¨¡å¼æ§åˆ¶å™¨å¯ä»¥å¯¹è®¡æ•°å™¨å®ç°å“ªäº›æ§åˆ¶æˆ–å½±å“å‘¢ï¼Ÿä»æ¨¡å¼æ§åˆ¶å™¨æ£€æµ‹åˆ°è§¦å‘è¾“å…¥ä¿¡å·æ—¶ï¼Œå¯ä»¥å¯¹å®šæ—¶å™¨è¿›è¡Œå¦‚ä¸‹æ“ä½œè€Œæ§åˆ¶æˆ–å½±å“è®¡æ•°å™¨çš„å·¥ä½œï¼š</p><ol><li>å¯¹è®¡æ•°å™¨å¤ä½</li><li>å¯åŠ¨æˆ–åœæ­¢è®¡æ•°å™¨çš„è®¡æ•°åŠ¨ä½œ</li><li>ä½¿èƒ½è®¡æ•°å™¨æ¨¡å—çš„å·¥ä½œ</li><li>é€šè¿‡è§¦å‘ä¿¡å·ä¸ºè®¡æ•°å™¨æä¾›æ—¶é’Ÿæº</li></ol><h4 id="312-å¤ä½æ¨¡å¼rm"><a class="markdownIt-Anchor" href="#312-å¤ä½æ¨¡å¼rm"></a> 3.1.2. å¤ä½æ¨¡å¼ï¼ˆRMï¼‰</h4><p>ä¸»å®šæ—¶å™¨å‡ºç°ä¿¡å·åï¼šä»å®šæ—¶å™¨è®¡æ•°å™¨å¤ä½å¹¶äº§ç”Ÿä¸€ä¸ªä¸­æ–­ã€‚</p><p>ä¸å¦¨ä»¥è®¡æ•°å™¨å‘ä¸Šè®¡æ•°ä¸ºä¾‹ï¼Œå°†å®ƒé…ç½®åœ¨å¤ä½ä»æ¨¡å¼ã€‚æ¯”æ–¹è¯´å½“è®¡æ•°å™¨è®¡æ•°åˆ°æŸä¸ªæ•°æ®çš„æ—¶å€™ï¼Œæ¥äº†ä¸ªè§¦å‘ä¿¡å·ï¼Œè®¡æ•°å™¨ä¸å†ç»§ç»­å¾€ä¸Šè®¡æ•°ï¼Œè€Œæ˜¯é‡æ–°å½’0åå¼€å§‹è®¡æ•°ã€‚å½“ç„¶ï¼Œè®¡æ•°å™¨çš„å®é™…å¤ä½æ“ä½œä¸è§¦å‘æ²¿ä¹‹é—´å¾€å¾€ä¼šæœ‰ä¸ªå°çš„å»¶æ—¶ï¼Œè¿™æ˜¯ç”±äºè§¦å‘ä¿¡å·ä½œä¸ºæœ‰æ•ˆè§¦å‘è„‰å†²çš„è¯ï¼Œè¿˜éœ€è¦ç»è¿‡å®šæ—¶å™¨å†…çš„åŒæ­¥ç”µè·¯ç¡®è®¤ã€‚</p><p>å…³äºå¤„äºå¤ä½æ¨¡å¼ä¸‹çš„å®šæ—¶å™¨ï¼Œæœ‰ä¸¤ç‚¹æé†’ï¼š</p><ol><li>åªè¦æœ‰å¤ä½è§¦å‘è„‰å†²å‡ºç°ï¼Œè®¡æ•°å™¨å°±ä¼šè¢«å¤ä½é‡ç½®ã€‚å¤ä½æ¬¡æ•°å–å†³äºè§¦å‘è„‰å†²æ¬¡æ•°ã€‚</li><li>å·¥ä½œåœ¨å¤ä½æ¨¡å¼ä¸‹çš„å®šæ—¶å™¨ï¼Œå…¶ä½¿èƒ½éœ€é è½¯ä»¶ä»£ç å®ç°ï¼Œå³ä½¿èƒ½å®šæ—¶å™¨çš„CEN@TIMx_CR1ä½ã€‚</li></ol><h4 id="313-é—¨æ§æ¨¡å¼gm"><a class="markdownIt-Anchor" href="#313-é—¨æ§æ¨¡å¼gm"></a> 3.1.3. é—¨æ§æ¨¡å¼ï¼ˆGMï¼‰</h4><p>ä¸»å®šæ—¶å™¨å‡ºç°ä¿¡å·åï¼šä»å®šæ—¶å™¨è®¡æ•°å™¨å¼€å§‹å·¥ä½œ</p><p>ä¸»å®šæ—¶å™¨ä¿¡å·ç»“æŸåï¼šä»å®šæ—¶å™¨è®¡æ•°å™¨åœæ­¢å·¥ä½œå¹¶äº§ç”Ÿä¸­æ–­</p><h4 id="314-è§¦å‘æ¨¡å¼tm"><a class="markdownIt-Anchor" href="#314-è§¦å‘æ¨¡å¼tm"></a> 3.1.4. è§¦å‘æ¨¡å¼ï¼ˆTMï¼‰</h4><p>ä¸»å®šæ—¶å™¨å‡ºç°ä¿¡å·åï¼šä»å®šæ—¶å™¨è®¡æ•°å™¨å¼€å§‹å·¥ä½œï¼Œå¹¶ä¸”ä¸ä¼šåœæ­¢ã€‚</p><p>è§¦å‘æ¨¡å¼ä¸»å®šæ—¶å™¨åªæ˜¯æä¾›äº†ä¸€ä¸ªå¯åŠ¨ä»å®šæ—¶å™¨å¼€å§‹æ—¶é—´çš„æ§åˆ¶ï¼Œå¹¶ä¸ä¼šæœ‰å…¶ä»–æ•ˆæœï¼Œè§¦å‘ä»æ¨¡å¼ä¸‹ï¼Œè§¦å‘ä¿¡å·å…·æœ‰ç›¸å½“äºè½¯ä»¶ä½¿èƒ½è®¡æ•°å™¨çš„ä½œç”¨ï¼Œå³ç½®ä½CEN@TIMx_CR1ï¼Œè¿™ä¹Ÿæ˜¯å®ƒæœ€å¤§æœ€æ˜æ˜¾çš„ç‰¹å¾ã€‚</p><h4 id="315-å¤–éƒ¨æ—¶é’Ÿæ¨¡å¼1"><a class="markdownIt-Anchor" href="#315-å¤–éƒ¨æ—¶é’Ÿæ¨¡å¼1"></a> 3.1.5. å¤–éƒ¨æ—¶é’Ÿæ¨¡å¼1</h4><p>å¤–éƒ¨æ—¶é’Ÿæ¨¡å¼1ä»æ¨¡å¼æ¯”è¾ƒç‰¹åˆ«ï¼Œå½“è®¡æ•°å™¨çš„æ—¶é’Ÿæºæ¥è‡ªè§¦å‘ä¿¡å·æ—¶ï¼Œæ­¤æ—¶å®šæ—¶å™¨å°±å·¥ä½œåœ¨å¤–éƒ¨æ—¶é’Ÿ1ä»æ¨¡å¼ï¼Œæ­¤æ—¶è§¦å‘ä¿¡å·æ‰®æ¼”ç€åŒè§’è‰²ï¼Œå³<strong>è§¦å‘ä¿¡å·</strong>ä¸<strong>æ—¶é’Ÿä¿¡å·</strong>ã€‚</p><p>æ¯”å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ¥è‡ªETRè„šçš„æ»¤æ³¢ä¿¡å·ETRFä½œä¸ºè§¦å‘ä¿¡å·å¹¶æ‹…å½“è®¡æ•°å™¨çš„æ—¶é’Ÿæºã€‚</p><h4 id="316-ä¸€ä¸ªç¤ºä¾‹"><a class="markdownIt-Anchor" href="#316-ä¸€ä¸ªç¤ºä¾‹"></a> 3.1.6. ä¸€ä¸ªç¤ºä¾‹</h4><p>Qï¼šå¼€å¯ä¸¤ä¸ªå®šæ—¶å™¨ï¼Œå®šæ—¶å™¨2ä¸å®šæ—¶å™¨3ï¼Œå‡ä½œpwmè¾“å‡ºï¼Œå®šæ—¶å™¨3çš„pwmè¾“å‡ºè·Ÿéšå®šæ—¶å™¨2çš„pwmè¾“å‡ºã€‚<br />å¦‚ä½•åšæ‰èƒ½åˆå‡†åˆç¨³å®šè¿˜ä¸å ç”¨cpuèµ„æºï¼Ÿ</p><p>å¤§è‡´æ€è·¯ï¼šå®šæ—¶å™¨2çš„ch2è¾“å‡ºï¼Œå¹¶å°†ch2çš„OC2REFä½œä¸ºä»å®šæ—¶å™¨3çš„TRGOï¼Œå¹¶é€šè¿‡ä¸»ä»å¯¹åº”è¡¨ï¼Œæ‰¾åˆ°ç›¸åº”çš„ITRxï¼Œå½“å‡ºç°ä¸Šå‡æ²¿æˆ–ä¸‹é™æ²¿æ—¶ï¼Œä¼šè§¦å‘ä»å®šæ—¶å™¨çš„å¼€å¯ã€‚åº”å°†å®šæ—¶å™¨3é…ç½®ä¸ºè§¦å‘æ¨¡å¼ï¼ˆTrigger Modeï¼‰</p><h4 id="317-å‚è€ƒ"><a class="markdownIt-Anchor" href="#317-å‚è€ƒ"></a> 3.1.7. å‚è€ƒ</h4><ul><li>ğŸ‘ğŸ‘ğŸ‘<a href="https://news.eeworld.com.cn/mcu/ic634774.html">ã€è¯è¯´å®šæ—¶å™¨ç³»åˆ—ã€‘ä¹‹ä¸‰ï¼šSTM32å®šæ—¶å™¨çš„ä¿¡å·è§¦å‘ä¸ä¸»ä»æ¨¡å¼-ç”µå­å·¥ç¨‹ä¸–ç•Œ</a></li><li><a href="https://blog.csdn.net/weixin_44748127/article/details/123726458">stm32å®šæ—¶å™¨ä»æ¨¡å¼è§£æ_stm32å®šæ—¶å™¨ä¸»ä»æ¨¡å¼-CSDNåšå®¢</a></li></ul><h3 id="32-ç¼–ç å™¨æ¨¡å¼"><a class="markdownIt-Anchor" href="#32-ç¼–ç å™¨æ¨¡å¼"></a> 3.2. ç¼–ç å™¨æ¨¡å¼</h3><p>å¯¹äºç¼–ç å™¨æ¨¡å¼ï¼Œå®ƒæ˜¯é’ˆå¯¹ç¼–ç å™¨åº”ç”¨çš„ä¸€ä¸ªç‰¹å®šä»æ¨¡å¼ï¼Œåº”ç”¨æ—¶æ³¨æ„ä½¿ç”¨å®šæ—¶å™¨çš„é€šé“1ã€é€šé“2å¼•è¿›ç¼–ç å™¨è„‰å†²ï¼Œè¿™é‡Œä¸èµ˜è¿°ã€‚</p><h3 id="33-è§¦å‘æº"><a class="markdownIt-Anchor" href="#33-è§¦å‘æº"></a> 3.3. è§¦å‘æº</h3><p><img src="Snipaste_2025-02-22_14-34-20.png" alt="" /></p><p>ç»“åˆåŸç†å›¾ï¼Œæˆ‘ä»¬å¯ä»¥çŸ¥é“å®šæ—¶å™¨å¯ç”±è§¦å‘æºè§¦å‘å¯åŠ¨ã€‚</p><h3 id="34-æ—¶é’Ÿæº"><a class="markdownIt-Anchor" href="#34-æ—¶é’Ÿæº"></a> 3.4. æ—¶é’Ÿæº</h3><p>åˆ†ä¸ºå†…éƒ¨æ—¶é’Ÿå’Œå¤–éƒ¨è§¦å‘ï¼ˆå¤–ç•Œå…¶ä»–ä¿¡å·æºï¼‰ï¼Œä¸å†èµ˜è¯‰ã€‚</p><h3 id="35-ä¸»æ¨¡å¼"><a class="markdownIt-Anchor" href="#35-ä¸»æ¨¡å¼"></a> 3.5. ä¸»æ¨¡å¼</h3><p>è¿™æ˜¯é€šé“1çš„å¯é…ç½®åŠŸèƒ½ï¼š<br /><img src="Snipaste_2025-02-22_15-02-04.png" alt="" /><br /><img src="Snipaste_2025-02-22_15-02-14.png" alt="" /></p><p>ç»†è®²ä¸€ä¸‹</p><h4 id="351-æ¯”è¾ƒä¸æ•è·"><a class="markdownIt-Anchor" href="#351-æ¯”è¾ƒä¸æ•è·"></a> 3.5.1. æ¯”è¾ƒä¸æ•è·</h4><p>æ•è·</p><p>ä»€ä¹ˆæ˜¯æ•è·ï¼Ÿ</p><p>æ‰€è°“æ•è·å°±æ˜¯é€šè¿‡æ£€æµ‹æ•è·é€šé“ä¸Šçš„è¾¹æ²¿ä¿¡å·ã€‚åœ¨è¾¹æ²¿ä¿¡å·å‘ç”Ÿè·³å˜ï¼ˆæ¯”å¦‚ä¸Šå‡æ²¿/ä¸‹é™æ²¿ï¼‰çš„æ—¶å€™ï¼Œå°†å½“å‰å®šæ—¶å™¨çš„å€¼(TIMx_CNT)å­˜æ”¾åˆ°å¯¹åº”çš„é€šé“çš„æ•è·/æ¯”è¾ƒå¯„å­˜å™¨(TIMx_CCR)é‡Œé¢ï¼Œå®Œæˆä¸€æ¬¡æ•è·ã€‚</p><p>STM32æ”¯æŒä¸€ä¸‹æ•è·æ¨¡å¼ï¼š</p><ol><li>è¾“å…¥æ•è·æ¨¡å¼</li><li>PWMè¾“å…¥æ¨¡å¼</li></ol><p>è¾“å…¥æ•è·æ¨¡å¼å¯ä»¥ç”¨æ¥æµ‹é‡è„‰å†²å®½åº¦æˆ–è€…æµ‹é‡é¢‘ç‡ã€‚ä¸‹å›¾æ˜¯è¾“å…¥æ•è·æµ‹é‡é«˜ç”µå¹³è„‰å®½çš„åŸç†ï¼Œå‡å®šå®šæ—¶å™¨å·¥ä½œåœ¨å‘ä¸Šè®¡æ•°æ¨¡å¼ï¼Œå›¾ä¸­ t1~t2 æ—¶é—´ï¼Œå°±æ˜¯éœ€è¦æµ‹é‡çš„é«˜ç”µå¹³æ—¶é—´ã€‚<br /><img src="20220309022442146.png" alt="" /><br />æµ‹é‡æ–¹æ³•å¦‚ä¸‹ï¼šé¦–å…ˆè®¾ç½®å®šæ—¶å™¨é€šé“xä¸ºä¸Šå‡æ²¿æ•è·ï¼Œè¿™æ ·ï¼Œt1 æ—¶åˆ»ï¼Œå°±ä¼šæ•è·åˆ°å½“å‰çš„ CNT å€¼ï¼Œç„¶åç«‹å³æ¸…é›¶ CNTï¼Œå¹¶è®¾ç½®é€šé“xä¸‹é™æ²¿æ•è·ï¼Œè¿™æ ·åˆ° t2 æ—¶åˆ»ï¼Œåˆä¼šå‘ç”Ÿæ•è·äº‹ä»¶ï¼Œå¾—åˆ°æ­¤æ—¶çš„ CNT å€¼ï¼Œè®°ä¸ºCCRx2ã€‚è¿™æ ·ï¼Œæ ¹æ®å®šæ—¶å™¨çš„è®¡æ•°é¢‘ç‡ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç®—å‡º t1~t2 çš„æ—¶é—´ï¼Œä»è€Œå¾—åˆ°é«˜ç”µå¹³è„‰å®½ã€‚</p><p>æ¯”è¾ƒ</p><p>ä»€ä¹ˆæ˜¯æ¯”è¾ƒï¼Ÿ</p><p>æ‰€è°“æ¯”è¾ƒå°±æ˜¯è®¡æ•°å™¨çš„å€¼å’Œä¸è£…è½½çš„å€¼è¿›è¡Œæ¯”è¾ƒï¼Œ<strong>å’Œå¤–éƒ¨çš„ä¿¡å·æ²¡å…³ç³»</strong>ã€‚</p><p>STM32æ”¯æŒä¸€ä¸‹æ¯”è¾ƒæ¨¡å¼ï¼š</p><ol><li>å¼ºåˆ¶è¾“å‡ºæ¨¡å¼</li><li>è¾“å‡ºæ¯”è¾ƒæ¨¡å¼</li><li><strong>PWMæ¨¡å¼</strong></li><li>å•è„‰å†²æ¨¡å¼</li></ol><h3 id="36-ä¸€äº›ç–‘æƒ‘çš„åœ°æ–¹"><a class="markdownIt-Anchor" href="#36-ä¸€äº›ç–‘æƒ‘çš„åœ°æ–¹"></a> 3.6. ä¸€äº›ç–‘æƒ‘çš„åœ°æ–¹</h3><h4 id="361-qoutput-compare-no-outputæ˜¯ä»€ä¹ˆæ¨¡å¼å¥½çŸ›ç›¾çš„åå­—"><a class="markdownIt-Anchor" href="#361-qoutput-compare-no-outputæ˜¯ä»€ä¹ˆæ¨¡å¼å¥½çŸ›ç›¾çš„åå­—"></a> 3.6.1. Qï¼š<code>output compare no output</code>æ˜¯ä»€ä¹ˆæ¨¡å¼ï¼Ÿå¥½çŸ›ç›¾çš„åå­—ã€‚ã€‚ã€‚</h4><p>Aï¼š<code>Output Compare No Output</code>æ„å‘³ç€è¯¥å®šæ—¶å™¨çš„è¾“å‡ºæ¯”è¾ƒï¼ˆOutput Compareï¼‰åŠŸèƒ½å·²ç»å¯ç”¨ï¼Œä½†å®ƒä¸ä¼šå®é™…è¾“å‡ºåˆ°å¼•è„šä¸Šã€‚å…·ä½“æ¥è¯´ï¼Œå®šæ—¶å™¨çš„è¾“å‡ºæ¯”è¾ƒåŠŸèƒ½é€šå¸¸æ˜¯ç”¨æ¥ç”Ÿæˆå®šæ—¶ä¿¡å·ï¼ˆæ¯”å¦‚ PWM æˆ–æ•è·ä¿¡å·ï¼‰ã€‚å¦‚æœä½ é€‰æ‹©<code>Output Compare No Output</code>ï¼Œè¿™è¡¨ç¤ºï¼š</p><ol><li><strong>è¾“å‡ºæ¯”è¾ƒåŠŸèƒ½å¯ç”¨</strong>ï¼šå®šæ—¶å™¨ä»ç„¶ä¼šæ ¹æ®è®¾ç½®çš„æ¯”è¾ƒå€¼ï¼ˆæ¯”å¦‚å®šæ—¶å™¨è®¡æ•°å™¨å’Œæ¯”è¾ƒå¯„å­˜å™¨çš„åŒ¹é…ï¼‰äº§ç”Ÿä¸€ä¸ªäº‹ä»¶ã€‚</li><li><strong>ä¸è¾“å‡ºåˆ°å¼•è„š</strong>ï¼šè™½ç„¶æ¯”è¾ƒåŠŸèƒ½å¯ä»¥è§¦å‘ä¸­æ–­æˆ–è®¾ç½®çŠ¶æ€ï¼Œä½†æ˜¯å¹¶æ²¡æœ‰é…ç½®å®šæ—¶å™¨çš„è¾“å‡ºå¼•è„šï¼ˆæ¯”å¦‚ä¸€ä¸ª PWM ä¿¡å·ï¼‰å»å“åº”è¿™äº›äº‹ä»¶ã€‚è¿™ç§é…ç½®é€‚ç”¨äºåªéœ€è¦å®šæ—¶å™¨åŠŸèƒ½ï¼ˆæ¯”å¦‚è§¦å‘ä¸­æ–­ï¼‰è€Œä¸éœ€è¦å…·ä½“çš„ç¡¬ä»¶è¾“å‡ºã€‚</li></ol><p><code>Output Compare No Output</code>å°±æ˜¯é…ç½®å®šæ—¶å™¨çš„è¾“å‡ºæ¯”è¾ƒåŠŸèƒ½ï¼Œä¸å»ç”Ÿæˆå®é™…çš„å¼•è„šä¿¡å·ï¼Œå¯èƒ½åªæ˜¯ç”¨æ¥<strong>è§¦å‘äº‹ä»¶</strong>æˆ–<strong>æ§åˆ¶ä¸­æ–­</strong>ã€‚</p><h4 id="362-qè¾“å‡ºæ¯”è¾ƒå’Œpwmç”Ÿæˆæ¨¡å¼æœ‰ä½•åŒºåˆ«ä¸è”ç³»"><a class="markdownIt-Anchor" href="#362-qè¾“å‡ºæ¯”è¾ƒå’Œpwmç”Ÿæˆæ¨¡å¼æœ‰ä½•åŒºåˆ«ä¸è”ç³»"></a> 3.6.2. Qï¼šè¾“å‡ºæ¯”è¾ƒå’ŒPWMç”Ÿæˆæ¨¡å¼æœ‰ä½•åŒºåˆ«ä¸è”ç³»ï¼Ÿ</h4><p>Aï¼šè¾“å‡ºæ¯”è¾ƒï¼ˆOutput Compareï¼‰å’Œ PWM ç”Ÿæˆæ¨¡å¼ï¼ˆPWM Generation Modeï¼‰è™½ç„¶éƒ½ä¾èµ–äºå®šæ—¶å™¨çš„è¾“å‡ºæ¯”è¾ƒåŠŸèƒ½ï¼Œä½†å®ƒä»¬çš„åº”ç”¨åœºæ™¯å’Œå·¥ä½œæ–¹å¼æœ‰æ‰€ä¸åŒã€‚ä¸‹é¢æ˜¯å®ƒä»¬ä¹‹é—´çš„ä¸»è¦åŒºåˆ«ä¸è”ç³»ï¼š</p><table><thead><tr><th><strong>æ¨¡å¼</strong></th><th><strong>è¾“å‡ºæ¯”è¾ƒï¼ˆOutput Compareï¼‰</strong></th><th><strong>PWM ç”Ÿæˆæ¨¡å¼ï¼ˆPWM Generation Modeï¼‰</strong></th></tr></thead><tbody><tr><td><strong>åŸºæœ¬æ¦‚å¿µ</strong></td><td>è®¡æ•°å™¨çš„å€¼ä¸é¢„è®¾æ¯”è¾ƒå€¼æ¯”è¾ƒï¼ŒåŒ¹é…æ—¶äº§ç”Ÿäº‹ä»¶ã€‚</td><td>åŸºäºè¾“å‡ºæ¯”è¾ƒåŠŸèƒ½ï¼Œå‘¨æœŸæ€§åœ°ç”Ÿæˆè„‰å®½è°ƒåˆ¶ï¼ˆPWMï¼‰ä¿¡å·ã€‚è®¡æ•°å™¨ä¸æ¯”è¾ƒå€¼çš„å…³ç³»å†³å®šå¼•è„šçŠ¶æ€ï¼ˆé«˜æˆ–ä½ï¼‰ã€‚</td></tr><tr><td><strong>ä½œç”¨</strong></td><td>è®¾ç½®å¼•è„šçŠ¶æ€æˆ–è§¦å‘ä¸­æ–­</td><td>æ ¹æ®è®¡æ•°å™¨å€¼ä¸æ¯”è¾ƒå€¼çš„å…³ç³»å‘¨æœŸæ€§æ”¹å˜å¼•è„šçŠ¶æ€ã€‚</td></tr><tr><td><strong>ç”¨é€”</strong></td><td>è§¦å‘å®šæ—¶å™¨äº‹ä»¶ï¼Œæ§åˆ¶å¤–éƒ¨ç¡¬ä»¶ä¿¡å·ï¼ˆå¦‚è®¾ç½®å¼•è„šä¸ºé«˜æˆ–ä½ï¼‰ã€‚</td><td>æ§åˆ¶ç”µæœºã€LEDäº®åº¦è°ƒèŠ‚ã€ç”µæºç®¡ç†ç­‰åº”ç”¨ï¼Œéœ€è¦è°ƒèŠ‚å ç©ºæ¯”ã€‚</td></tr><tr><td><strong>å…¸å‹åº”ç”¨</strong></td><td>å®šæ—¶è„‰å†²ã€äº‹ä»¶è§¦å‘ã€ç²¾ç¡®çš„å®šæ—¶æ§åˆ¶</td><td>ç”µæœºæ§åˆ¶ã€LEDäº®åº¦è°ƒèŠ‚ã€ä¿¡å·è°ƒåˆ¶</td></tr><tr><td><strong>å‘¨æœŸæ€§è¾“å‡º</strong></td><td>å¦ï¼Œè¾“å‡ºæ¯”è¾ƒé€šå¸¸äº§ç”Ÿå•æ¬¡ä¿¡å·æˆ–äº‹ä»¶ï¼Œä¸æ˜¯å‘¨æœŸæ€§çš„ã€‚</td><td>æ˜¯ï¼Œç”Ÿæˆå‘¨æœŸæ€§çš„æ³¢å½¢ã€‚</td></tr><tr><td><strong>å€¾å‘ç›®æ ‡</strong></td><td>ç”Ÿæˆäº‹ä»¶ï¼ˆå¦‚ä¸­æ–­ï¼‰ã€‚</td><td>ç”Ÿæˆå‘¨æœŸæ€§çš„æ³¢å½¢ä¿¡å·ã€‚</td></tr></tbody></table><p>ç®€è€Œè¨€ä¹‹ï¼Œè¾“å‡ºæ¯”è¾ƒæ›´æ³¨é‡äº‹ä»¶çš„è§¦å‘ï¼Œè€ŒPWMç”Ÿæˆæ¨¡å¼åˆ™ä¸“æ³¨äºäº§ç”ŸæŒç»­çš„å‘¨æœŸæ€§æ³¢å½¢ã€‚</p><h4 id="363-qä½•ä¸ºå¼ºåˆ¶è¾“å‡ºæœ‰å•¥ç”¨"><a class="markdownIt-Anchor" href="#363-qä½•ä¸ºå¼ºåˆ¶è¾“å‡ºæœ‰å•¥ç”¨"></a> 3.6.3. Qï¼šä½•ä¸ºå¼ºåˆ¶è¾“å‡ºï¼Ÿæœ‰å•¥ç”¨ï¼Ÿ</h4><p>Aï¼šå¼ºåˆ¶è¾“å‡ºæ¨¡å¼ï¼ˆForced Output Modeï¼‰æ˜¯å®šæ—¶å™¨çš„ä¸€ç§ç‰¹æ®Šè¾“å‡ºæ§åˆ¶æ¨¡å¼ï¼Œä¸»è¦ç”¨äºåœ¨å®šæ—¶å™¨çš„æŸäº›æ¡ä»¶ä¸‹å¼ºåˆ¶æ”¹å˜è¾“å‡ºå¼•è„šçš„çŠ¶æ€ï¼ˆä¾‹å¦‚è®¾ç½®ä¸ºé«˜æˆ–ä½ï¼‰ã€‚è¿™ç§æ¨¡å¼å¯ä»¥åœ¨å®šæ—¶å™¨äº§ç”Ÿçš„è¾“å‡ºä¿¡å·ä¹‹å¤–ï¼Œå¼ºåˆ¶æ§åˆ¶å¼•è„šçš„çŠ¶æ€ã€‚</p><h5 id="3631-å¼ºåˆ¶è¾“å‡ºæ¨¡å¼çš„å·¥ä½œåŸç†"><a class="markdownIt-Anchor" href="#3631-å¼ºåˆ¶è¾“å‡ºæ¨¡å¼çš„å·¥ä½œåŸç†"></a> 3.6.3.1. å¼ºåˆ¶è¾“å‡ºæ¨¡å¼çš„å·¥ä½œåŸç†ï¼š</h5><p>åœ¨å¼ºåˆ¶è¾“å‡ºæ¨¡å¼ä¸‹ï¼Œå®šæ—¶å™¨çš„è¾“å‡ºä¿¡å·ä¸å†å®Œå…¨ä¾èµ–äºå®šæ—¶å™¨è®¡æ•°å™¨å’Œæ¯”è¾ƒå¯„å­˜å™¨çš„å¸¸è§„æ“ä½œï¼ˆæ¯”å¦‚åœ¨ PWM æˆ–è¾“å‡ºæ¯”è¾ƒæ¨¡å¼ä¸‹çš„ä¿¡å·æ³¢å½¢ï¼‰ã€‚ä½ å¯ä»¥é€šè¿‡æŸäº›ç‰¹å®šçš„æ¡ä»¶æˆ–å‘½ä»¤ç›´æ¥æ§åˆ¶è¾“å‡ºå¼•è„šçš„çŠ¶æ€ã€‚ä¾‹å¦‚ï¼Œå®šæ—¶å™¨å¯ä»¥åœ¨ç‰¹å®šæ—¶åˆ»å°†å¼•è„šå¼ºåˆ¶è®¾ç½®ä¸ºé«˜æˆ–ä½çŠ¶æ€ã€‚</p><h5 id="3632-ä¸»è¦åŠŸèƒ½"><a class="markdownIt-Anchor" href="#3632-ä¸»è¦åŠŸèƒ½"></a> 3.6.3.2. ä¸»è¦åŠŸèƒ½ï¼š</h5><ul><li><strong>å¼ºåˆ¶è®¾ç½®è¾“å‡ºå¼•è„šçš„çŠ¶æ€</strong>ï¼šåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œå¼ºåˆ¶è¾“å‡ºæ¨¡å¼å¯ä»¥è¢«ç”¨æ¥ç›´æ¥æ§åˆ¶è¾“å‡ºå¼•è„šçš„çŠ¶æ€ï¼Œè€Œæ— éœ€ä¾èµ–äºå®šæ—¶å™¨çš„æ­£å¸¸è®¡æ•°å’Œæ¯”è¾ƒè¿‡ç¨‹ã€‚</li><li><strong>å®‰å…¨æ§åˆ¶å’Œå¤ä½åŠŸèƒ½</strong>ï¼šå¼ºåˆ¶è¾“å‡ºæ¨¡å¼æœ‰æ—¶ç”¨äºä¸€äº›å®‰å…¨æˆ–å¤ä½æ“ä½œï¼Œæ¯”å¦‚åœ¨ç¡¬ä»¶æ•…éšœæ—¶é€šè¿‡å¼ºåˆ¶è¾“å‡ºä¿¡å·æ¥é‡ç½®ç³»ç»Ÿï¼Œæˆ–åœ¨ç‰¹å®šæ¡ä»¶ä¸‹ç¡®ä¿å¼•è„šå¤„äºæŸä¸€çŠ¶æ€ã€‚</li><li><strong>ç‰¹å®šåœºæ™¯ä¸‹çš„ä¿¡å·ç”Ÿæˆ</strong>ï¼šæœ‰æ—¶ï¼Œå¼ºåˆ¶è¾“å‡ºæ¨¡å¼è¢«ç”¨æ¥ç”ŸæˆçŸ­æš‚çš„è„‰å†²æˆ–ç‰¹æ®Šçš„çŠ¶æ€ï¼Œé€šå¸¸ç”¨äºå¤–éƒ¨ç¡¬ä»¶çš„æ§åˆ¶ã€‚</li></ul><h5 id="3633-å·¥ä½œæ¨¡å¼"><a class="markdownIt-Anchor" href="#3633-å·¥ä½œæ¨¡å¼"></a> 3.6.3.3. å·¥ä½œæ¨¡å¼ï¼š</h5><ul><li><strong>å®šæ—¶å™¨å¼ºåˆ¶è¾“å‡ºé«˜æˆ–ä½</strong>ï¼šå½“å®šæ—¶å™¨å¤„äºå¼ºåˆ¶è¾“å‡ºæ¨¡å¼æ—¶ï¼Œå¯ä»¥é€šè¿‡å¼ºåˆ¶å‘½ä»¤ç›´æ¥æ§åˆ¶è¾“å‡ºå¼•è„šçŠ¶æ€ï¼Œä¾‹å¦‚å¼ºåˆ¶è¾“å‡ºå¼•è„šä¿æŒé«˜ç”µå¹³æˆ–ä½ç”µå¹³ã€‚</li><li><strong>å¸¸ç”¨çš„åº”ç”¨</strong>ï¼šè¿™ç§æ¨¡å¼å¸¸ç”¨äºä¸€äº›ç‰¹æ®Šçš„ä¿¡å·è¦æ±‚ï¼Œå¦‚åœ¨ç³»ç»Ÿå‘ç”Ÿå¼‚å¸¸æ—¶é€šè¿‡å®šæ—¶å™¨å¼•è„šæ¥è¾“å‡ºä¸€ä¸ªç‰¹å®šä¿¡å·ï¼Œä»¥è§¦å‘å¤–éƒ¨ç¡¬ä»¶æˆ–è¿›è¡Œæ•…éšœè¯Šæ–­ã€‚</li></ul><h5 id="3634-ä¾‹å­"><a class="markdownIt-Anchor" href="#3634-ä¾‹å­"></a> 3.6.3.4. ä¾‹å­ï¼š</h5><p>åœ¨æŸäº›å¾®æ§åˆ¶å™¨ä¸­ï¼Œå®šæ—¶å™¨çš„å¼ºåˆ¶è¾“å‡ºæ¨¡å¼å¯ä»¥ä¸â€œè¾“å‡ºæ¯”è¾ƒæ¨¡å¼â€ç»“åˆä½¿ç”¨ï¼Œå½“å®šæ—¶å™¨è¿›å…¥å¼ºåˆ¶è¾“å‡ºæ¨¡å¼æ—¶ï¼Œå®ƒä¼šç›´æ¥è®¾ç½®è¾“å‡ºå¼•è„šä¸ºé«˜æˆ–ä½ï¼Œè€Œä¸å†å—å®šæ—¶å™¨çš„å¸¸è§„è®¡æ•°å’Œæ¯”è¾ƒå€¼çš„æ§åˆ¶ã€‚å¯ä»¥é€šè¿‡ç‰¹å®šçš„è§¦å‘æ¡ä»¶æˆ–å¤–éƒ¨ä¿¡å·æ¥æ¿€æ´»å¼ºåˆ¶è¾“å‡ºæ¨¡å¼ï¼Œè¿™é€šå¸¸ç”¨äºæ§åˆ¶éœ€è¦åœ¨ç³»ç»Ÿä¸­ç«‹å³åšå‡ºå“åº”çš„åº”ç”¨åœºæ™¯ã€‚<strong>ï¼ˆé€šè¿‡è½¯ä»¶åˆ‡æ¢ï¼‰</strong></p><h5 id="3635-æ€»ç»“"><a class="markdownIt-Anchor" href="#3635-æ€»ç»“"></a> 3.6.3.5. æ€»ç»“ï¼š</h5><p>å¼ºåˆ¶è¾“å‡ºæ¨¡å¼å°±æ˜¯åœ¨ç‰¹å®šæƒ…å†µä¸‹ï¼Œå¼ºåˆ¶å®šæ—¶å™¨çš„è¾“å‡ºå¼•è„šä¸ºé«˜æˆ–ä½ç”µå¹³ï¼Œå¿½ç•¥å®šæ—¶å™¨çš„å¸¸è§„è¾“å‡ºä¿¡å·ï¼Œå¸¸ç”¨äºç‰¹æ®Šçš„åº”ç”¨éœ€æ±‚ï¼Œå¦‚ç³»ç»Ÿæ•…éšœå¤„ç†ã€ç¡¬ä»¶å¤ä½ã€ç‰¹æ®Šä¿¡å·ç”Ÿæˆç­‰ã€‚</p><h4 id="364-qè¾“å…¥æ•è·çš„é—´æ¥æ¨¡å¼"><a class="markdownIt-Anchor" href="#364-qè¾“å…¥æ•è·çš„é—´æ¥æ¨¡å¼"></a> 3.6.4. Qï¼šè¾“å…¥æ•è·çš„é—´æ¥æ¨¡å¼ï¼Ÿ</h4><p>Aï¼šé—´æ¥æ¨¡å¼è¾ƒä¸ºå¤æ‚ï¼Œæ•è·äº‹ä»¶å¹¶ä¸ç›´æ¥ä¸è®¡æ•°å™¨æŒ‚é’©ï¼Œè€Œæ˜¯é€šè¿‡æŸäº›æ¡ä»¶æˆ–å¤–éƒ¨äº‹ä»¶æ¥è§¦ï¼Œå…·ä½“æ¥è¯´ï¼Œè¿™ç§æ¨¡å¼å¯èƒ½æ¶‰åŠå®šæ—¶å™¨çš„æŸäº›é™„åŠ åŠŸèƒ½ï¼ˆä¾‹å¦‚å¤–éƒ¨è§¦å‘äº‹ä»¶æˆ–ç‰¹å®šçš„è¾“å…¥æ»¤æ³¢å™¨ï¼‰ï¼Œè¿™äº›åŠŸèƒ½å¯èƒ½ä¼šå»¶è¿Ÿæ•è·äº‹ä»¶çš„å®é™…è®°å½•ã€‚</p><h5 id="3641-ç‰¹ç‚¹"><a class="markdownIt-Anchor" href="#3641-ç‰¹ç‚¹"></a> 3.6.4.1. ç‰¹ç‚¹ï¼š</h5><ul><li><strong>é—´æ¥æ•è·</strong>ï¼šè¾“å…¥ä¿¡å·çš„å˜åŒ–å¹¶ä¸æ˜¯ç›´æ¥å½±å“è®¡æ•°å™¨ï¼Œè€Œæ˜¯éœ€è¦æŸäº›é™„åŠ çš„æ¡ä»¶æˆ–è§¦å‘äº‹ä»¶æ¥ä¿å­˜æ•è·å€¼ã€‚</li><li><strong>è¾ƒå¤æ‚çš„æ§åˆ¶é€»è¾‘</strong>ï¼šéç›´æ¥æ¨¡å¼<strong>å¯ä»¥ç»“åˆæ›´å¤šå¤–éƒ¨äº‹ä»¶å’Œè§¦å‘æ¡ä»¶æ¥å†³å®šä½•æ—¶æ•è·ä¿¡å·</strong>ï¼Œå› æ­¤é€‚ç”¨äºæ›´å¤æ‚çš„åº”ç”¨åœºæ™¯ã€‚</li><li><strong>æ»¤æ³¢å’Œå»æŠ–åŠ¨</strong>ï¼šéç›´æ¥æ¨¡å¼å¯ä»¥é…åˆå¤–éƒ¨è§¦å‘ä¿¡å·æˆ–æ»¤æ³¢åŠŸèƒ½ï¼Œé€‚ç”¨äºå™ªå£°è¾ƒå¤§çš„ç¯å¢ƒã€‚</li></ul><h5 id="3642-ä»¥ä¸‹æ˜¯ç›´æ¥ä¸éç›´æ¥æ¨¡å¼çš„æ¯”è¾ƒ"><a class="markdownIt-Anchor" href="#3642-ä»¥ä¸‹æ˜¯ç›´æ¥ä¸éç›´æ¥æ¨¡å¼çš„æ¯”è¾ƒ"></a> 3.6.4.2. ä»¥ä¸‹æ˜¯ç›´æ¥ä¸éç›´æ¥æ¨¡å¼çš„æ¯”è¾ƒ</h5><table><thead><tr><th>ç‰¹æ€§</th><th>ç›´æ¥æ¨¡å¼ï¼ˆDirect Modeï¼‰</th><th>éç›´æ¥æ¨¡å¼ï¼ˆIndirect Modeï¼‰</th></tr></thead><tbody><tr><td><strong>æ•è·æ–¹å¼</strong></td><td>ä¿¡å·å˜åŒ–ç›´æ¥è§¦å‘æ•è·ï¼Œæ•è·å€¼ç«‹å³å­˜å‚¨</td><td>ä¿¡å·å˜åŒ–é€šè¿‡è§¦å‘äº‹ä»¶æˆ–é™„åŠ æ¡ä»¶è§¦å‘æ•è·</td></tr><tr><td><strong>è§¦å‘æ¡ä»¶</strong></td><td>å¤–éƒ¨è¾“å…¥ä¿¡å·ï¼ˆä¸Šå‡æ²¿/ä¸‹é™æ²¿ï¼‰ç›´æ¥è§¦å‘æ•è·</td><td>å¤–éƒ¨äº‹ä»¶ã€è§¦å‘å™¨æˆ–æ»¤æ³¢å™¨æ§åˆ¶æ•è·äº‹ä»¶çš„è§¦å‘</td></tr><tr><td><strong>å“åº”é€Ÿåº¦</strong></td><td>å¿«é€Ÿï¼ˆé€šå¸¸å®æ—¶æ•è·ï¼‰</td><td>ç›¸å¯¹è¾ƒæ…¢ï¼Œå¯èƒ½éœ€è¦é¢å¤–æ¡ä»¶æ¥è§¦å‘æ•è·</td></tr><tr><td><strong>åº”ç”¨åœºæ™¯</strong></td><td>é€‚ç”¨äºé«˜é¢‘ä¿¡å·çš„å®æ—¶æ•è·ï¼ˆå¦‚é¢‘ç‡æµ‹é‡ã€è„‰å†²å®½åº¦æµ‹é‡ï¼‰</td><td>é€‚ç”¨äºéœ€è¦å¤–éƒ¨äº‹ä»¶è§¦å‘çš„åœºæ™¯ï¼Œå¦‚å¤–éƒ¨ä¿¡å·åŒæ­¥ç­‰</td></tr><tr><td><strong>å®ç°å¤æ‚åº¦</strong></td><td>ç®€å•ï¼Œé€šå¸¸æ˜¯ç¡¬ä»¶å±‚é¢ç›´æ¥å®ç°</td><td>éœ€è¦é¢å¤–çš„ç¡¬ä»¶é…ç½®å’Œæ§åˆ¶ï¼ˆå¦‚è§¦å‘ã€æ»¤æ³¢ï¼‰</td></tr></tbody></table><h4 id="365-å‚è€ƒ"><a class="markdownIt-Anchor" href="#365-å‚è€ƒ"></a> 3.6.5. å‚è€ƒ</h4><ul><li>ğŸ‘ğŸ‘ğŸ‘ChatGPT</li><li>ğŸ‘ğŸ‘ğŸ‘<a href="https://news.eeworld.com.cn/mcu/ic565151.html">STM32-ä¸€æ–‡ææ‡‚é€šç”¨å®šæ—¶å™¨æ•è·/æ¯”è¾ƒé€šé“-ç”µå­å·¥ç¨‹ä¸–ç•Œ</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> åµŒå…¥å¼ </category>
          
          <category> CubeMXé…ç½®åŠŸèƒ½ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> STM32 </tag>
            
            <tag> CubeMX </tag>
            
            <tag> åµŒå…¥å¼ </tag>
            
            <tag> Timer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CubeMXé…ç½®åŠŸèƒ½ç³»åˆ—ï¼šTimerï¼ˆä¸Šï¼‰</title>
      <link href="/posts/16836/"/>
      <url>/posts/16836/</url>
      
        <content type="html"><![CDATA[<details><summary>ç‰ˆæƒä¿¡æ¯</summary><p>:::warning</p><p>æœ¬æ–‡ç« ä¸ºåšä¸»åŸåˆ›æ–‡ç« ã€‚éµå¾ª <a href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh-hans">CC 4.0 BY-SA</a> ç‰ˆæƒåè®®ï¼Œè½¬è½½è¯·é™„ä¸ŠåŸæ–‡å‡ºå¤„é“¾æ¥å’Œæœ¬å£°æ˜ã€‚</p><p>:::</p></details><hr /><h2 id="ç›®å½•"><a class="markdownIt-Anchor" href="#ç›®å½•"></a> ç›®å½•</h2><ul><li><a href="#%E7%9B%AE%E5%BD%95">ç›®å½•</a></li><li><a href="#1-%E8%AF%B4%E6%98%8E">1. è¯´æ˜</a></li><li><a href="#2-%E7%95%8C%E9%9D%A2%E6%80%BB%E8%A7%88">2. ç•Œé¢æ€»è§ˆ</a></li><li><a href="#3-lptim%E6%B2%A1%E7%94%A8%E8%BF%87%E7%94%A8%E8%BF%87%E5%90%8E%E8%A1%A5%E5%85%85">3. LPTIMï¼šæ²¡ç”¨è¿‡ï¼Œç”¨è¿‡åè¡¥å……</a><ul><li><a href="#31-%E4%BB%8B%E7%BB%8D">3.1. ä»‹ç»</a></li><li><a href="#32-%E6%94%AF%E6%8C%81%E7%9A%84%E6%A8%A1%E5%BC%8F">3.2. æ”¯æŒçš„æ¨¡å¼</a></li><li><a href="#33-%E5%8F%82%E8%80%83">3.3. å‚è€ƒ</a></li></ul></li><li><a href="#4-rtc%E4%B9%9F%E4%B8%8D%E5%92%8B%E7%94%A8%E7%94%A8%E6%97%B6%E8%A1%A5%E5%85%85">4. RTCï¼šä¹Ÿä¸å’‹ç”¨ï¼Œç”¨æ—¶è¡¥å……</a><ul><li><a href="#41-%E4%BB%80%E4%B9%88%E6%98%AFrtc">4.1. ä»€ä¹ˆæ˜¯RTC</a></li><li><a href="#42-%E5%8A%9F%E8%83%BD%E7%AE%80%E4%BB%8B">4.2. åŠŸèƒ½ç®€ä»‹</a></li><li><a href="#43-%E5%8F%82%E8%80%83">4.3. å‚è€ƒ</a></li></ul></li></ul><h2 id="1-è¯´æ˜"><a class="markdownIt-Anchor" href="#1-è¯´æ˜"></a> 1. è¯´æ˜</h2><p>æœ¬æ–‡ä»¥STM32G4ç³»åˆ—ä¸ºä¾‹ã€‚ä¾›è‡ªå·±å­¦ä¹ ä¸è®°å½•ä¸”åªåšç®€å•ä»‹ç»ã€‚æœ‰ä¸€å®šåŸºç¡€çš„æœ‹å‹å¯å‚è€ƒã€‚</p><hr /><h2 id="2-ç•Œé¢æ€»è§ˆ"><a class="markdownIt-Anchor" href="#2-ç•Œé¢æ€»è§ˆ"></a> 2. ç•Œé¢æ€»è§ˆ</h2><p>æ‰“å¼€Timerçš„é…ç½®ç•Œé¢å¦‚å›¾ï¼š<br /><img src="Snipaste_2025-02-06_18-21-03.png" alt="" /></p><h2 id="3-lptimæ²¡ç”¨è¿‡ç”¨è¿‡åè¡¥å……"><a class="markdownIt-Anchor" href="#3-lptimæ²¡ç”¨è¿‡ç”¨è¿‡åè¡¥å……"></a> 3. LPTIMï¼šæ²¡ç”¨è¿‡ï¼Œç”¨è¿‡åè¡¥å……</h2><h3 id="31-ä»‹ç»"><a class="markdownIt-Anchor" href="#31-ä»‹ç»"></a> 3.1. ä»‹ç»</h3><p>LPTIM æ˜¯ä¸€ä¸ª 16 ä½å®šæ—¶å™¨ï¼Œé¡¾åæ€ä¹‰ä»–å°±æ˜¯å¯ä»¥å®ç°ä½åŠŸè€—åº”ç”¨çš„ä¸€ä¸ªç‰¹æ®Šå®šæ—¶å™¨ã€‚ç”±äºæ—¶é’Ÿæºçš„å¤šæ ·æ€§ï¼ŒLPTIM èƒ½å¤Ÿåœ¨é™¤å¾…æœºæ¨¡å¼ä»¥å¤–çš„æ‰€æœ‰ç”µæºæ¨¡å¼ä¸‹ä¿æŒè¿è¡Œã€‚ å³ä½¿æ²¡æœ‰å†…éƒ¨æ—¶é’Ÿæºï¼Œ LPTIM ä¹Ÿèƒ½è¿è¡Œï¼Œé‰´äºè¿™ä¸€ç‚¹ï¼Œå¯å°†å…¶ç”¨ä½œâ€œè„‰å†²è®¡æ•°å™¨â€ï¼Œè¿™ç§è„‰å†²è®¡æ•°å™¨åœ¨æŸäº›åº”ç”¨ä¸­ååˆ†æœ‰ç”¨ã€‚æ­¤å¤–ï¼Œ LPTIMè¿˜èƒ½å°†ç³»ç»Ÿä»ä½åŠŸè€—æ¨¡å¼å”¤é†’ï¼Œå› æ­¤éå¸¸é€‚åˆå®ç°â€œè¶…æ—¶åŠŸèƒ½â€ï¼Œè€Œä¸”åŠŸè€—æä½ã€‚</p><p>LPTIM å¼•å…¥äº†ä¸€ä¸ªçµæ´»çš„æ—¶é’Ÿæ–¹æ¡ˆï¼Œè¯¥æ–¹æ¡ˆèƒ½å¤Ÿæä¾›æ‰€éœ€çš„åŠŸèƒ½å’Œæ€§èƒ½ï¼ŒåŒæ—¶è¿˜èƒ½æœ€å¤§ç¨‹åº¦åœ°é™ä½åŠŸè€—ã€‚</p><p>LPTIMæ—¶åŸºå•å…ƒåŒ…å«ä¸€ä¸ª16ä½è‡ªåŠ¨é‡è½½è®¡æ•°å™¨ARRï¼Œä¸€ä¸ª16ä½çš„é€’å¢è®¡æ•°å™¨CNTï¼Œä¸€ä¸ª3ä½å¯ç¼–ç¨‹é¢„åˆ†é¢‘å™¨å¯ä»¥é‡‡ç”¨8ç§åˆ†é¢‘ç³»æ•°ï¼ˆ1ã€2ã€4ã€8ã€16ã€32ã€64ã€128ï¼‰ï¼Œ é¢„åˆ†é¢‘å™¨æ—¶é’Ÿæºæœ‰å¤šç§å¯é€‰ï¼Œæœ‰å†…éƒ¨æ—¶é’Ÿæºï¼š LSEã€ LSIã€ HSI æˆ– APB æ—¶é’Ÿã€å¤–éƒ¨æ—¶é’ŸULPTIMè¾“å…¥çš„å¤–éƒ¨æ—¶é’Ÿæºï¼ˆåœ¨æ²¡æœ‰ LP æŒ¯è¡å™¨è¿è¡Œçš„æƒ…å†µä¸‹å·¥ä½œï¼Œç”±è„‰å†²è®¡æ•°å™¨åº”ç”¨ä½¿ç”¨ï¼‰ã€‚</p><h3 id="32-æ”¯æŒçš„æ¨¡å¼"><a class="markdownIt-Anchor" href="#32-æ”¯æŒçš„æ¨¡å¼"></a> 3.2. æ”¯æŒçš„æ¨¡å¼</h3><p><img src="Snipaste_2025-02-06_18-22-29.png" alt="" /><br /><img src="Snipaste_2025-02-06_18-23-44.png" alt="" /></p><ul><li>è®¡æ•°å™¨æ¨¡å¼ï¼šè®¡æ•°å™¨å¯ç”¨äºè®¡ç®—æ¥è‡ª Input1 çš„å¤–éƒ¨äº‹ä»¶æˆ–ç”¨äºè®¡ç®—å†…éƒ¨æ—¶é’Ÿå‘¨æœŸ</li><li>å•æ¬¡æ¨¡å¼ï¼šåœ¨æ­¤æ¨¡å¼ä¸‹ï¼Œå½“æ»¡è¶³åŒ¹é…æ¡ä»¶æ—¶ï¼Œè¾“å‡ºå¯ä»¥åˆ‡æ¢é«˜ä½ç”µå¹³ï¼ˆå¦‚æœè¾“å‡ºææ€§é…ç½®ä¸ºé«˜ï¼Œåˆ™ä¸ºä½ç”µå¹³è‡³é«˜ç”µå¹³å˜åŒ–ï¼Œåä¹‹äº¦ç„¶ï¼‰</li><li>ç¼–ç å™¨æ¨¡å¼<br />æ­¤å¤–è¿˜æœ‰</li><li>å•è„‰å†²æ¨¡å¼</li><li>PWM æ¨¡å¼</li><li>è¶…æ—¶æ¨¡å¼ï¼šæœ‰æ•ˆçš„è¾¹æ²¿è§¦å‘è¾“å…¥å¯å¤ä½å®šæ—¶å™¨ã€‚ç¬¬ä¸€ä¸ªè§¦å‘äº‹ä»¶å°†å¯åŠ¨è®¡æ—¶å™¨ï¼Œä»»ä½•è¿ç»­è§¦å‘äº‹ä»¶å°†é‡ç½®è®¡æ•°å™¨å¹¶é‡æ–°å¼€å§‹ã€‚</li></ul><h3 id="33-å‚è€ƒ"><a class="markdownIt-Anchor" href="#33-å‚è€ƒ"></a> 3.3. å‚è€ƒ</h3><p><a href="https://blog.csdn.net/qq_42965739/article/details/113532039">ã€ç©è½¬STM32ã€‘ï¼šä½åŠŸè€—å®šæ—¶å™¨LPTIMåº”ç”¨_stm32 lptim-CSDNåšå®¢</a><br /><a href="https://doc.embedfire.com/mcu/stm32/h743prov/hal/zh/latest/book/LPTIM.html">32. LPTIMâ€”ä½åŠŸè€—å®šæ—¶å™¨ â€” [é‡ç«]STM32 HALåº“å¼€å‘å®æˆ˜æŒ‡å—â€”â€”åŸºäºH743_Pro_V æ–‡æ¡£</a></p><h2 id="4-rtcä¹Ÿä¸å’‹ç”¨ç”¨æ—¶è¡¥å……"><a class="markdownIt-Anchor" href="#4-rtcä¹Ÿä¸å’‹ç”¨ç”¨æ—¶è¡¥å……"></a> 4. RTCï¼šä¹Ÿä¸å’‹ç”¨ï¼Œç”¨æ—¶è¡¥å……</h2><h3 id="41-ä»€ä¹ˆæ˜¯rtc"><a class="markdownIt-Anchor" href="#41-ä»€ä¹ˆæ˜¯rtc"></a> 4.1. ä»€ä¹ˆæ˜¯RTC</h3><p><strong>RTC (Real Time Clock)</strong>ï¼šå®æ—¶æ—¶é’Ÿ</p><p><strong>RTCæ˜¯ä¸ªç‹¬ç«‹çš„å®šæ—¶å™¨</strong>ã€‚RTCæ¨¡å—æ‹¥æœ‰ä¸€ä¸ªè¿ç»­è®¡æ•°çš„è®¡æ•°å™¨ï¼Œåœ¨ç›¸åº”çš„è½¯ä»¶é…ç½®ä¸‹ï¼Œå¯ä»¥æä¾›æ—¶é’Ÿæ—¥å†çš„åŠŸèƒ½ã€‚ä¿®æ”¹è®¡æ•°å™¨çš„å€¼å¯ä»¥é‡æ–°è®¾ç½®å½“å‰æ—¶é—´å’Œæ—¥æœŸ RTCè¿˜åŒ…å«ç”¨äºç®¡ç†ä½åŠŸè€—æ¨¡å¼çš„è‡ªåŠ¨å”¤é†’å•å…ƒã€‚</p><p>åœ¨æ–­ç”µæƒ…å†µä¸‹ RTCä»å¯ä»¥ç‹¬ç«‹è¿è¡Œ åªè¦èŠ¯ç‰‡çš„å¤‡ç”¨ç”µæºä¸€ç›´ä¾›ç”µ,RTCä¸Šçš„æ—¶é—´ä¼šä¸€ç›´èµ°ã€‚</p><p>RTCå®è´¨æ˜¯ä¸€ä¸ªæ‰ç”µåè¿˜ç»§ç»­è¿è¡Œçš„å®šæ—¶å™¨,ä»å®šæ—¶å™¨çš„è§’åº¦æ¥çœ‹,ç›¸å¯¹äºé€šç”¨å®šæ—¶å™¨TIMå¤–è®¾,å®ƒçš„åŠŸèƒ½ååˆ†ç®€å•,åªæœ‰è®¡æ—¶åŠŸèƒ½(ä¹Ÿå¯ä»¥è§¦å‘ä¸­æ–­)ã€‚ä½†å…¶é«˜çº§æŒ‡å‡ºä¹Ÿå°±åœ¨äºæ‰ç”µä¹‹åè¿˜å¯ä»¥æ­£å¸¸è¿è¡Œã€‚</p><p>ä¸¤ä¸ª 32 ä½å¯„å­˜å™¨åŒ…å«äºŒè¿›ç åè¿›æ•°æ ¼å¼ (BCD) çš„ç§’ã€åˆ†é’Ÿã€å°æ—¶ï¼ˆ 12 æˆ– 24 å°æ—¶åˆ¶ï¼‰ã€æ˜ŸæœŸå‡ ã€æ—¥æœŸã€æœˆä»½å’Œå¹´ä»½ã€‚æ­¤å¤–ï¼Œè¿˜å¯æä¾›äºŒè¿›åˆ¶æ ¼å¼çš„äºšç§’å€¼ã€‚ç³»ç»Ÿå¯ä»¥è‡ªåŠ¨å°†æœˆä»½çš„å¤©æ•°è¡¥å¿ä¸º 28ã€29ï¼ˆé—°å¹´ï¼‰ã€30 å’Œ 31 å¤©ã€‚</p><p>ä¸Šç”µå¤ä½åï¼Œæ‰€æœ‰RTCå¯„å­˜å™¨éƒ½ä¼šå—åˆ°ä¿æŠ¤ï¼Œä»¥é˜²æ­¢å¯èƒ½çš„éæ­£å¸¸å†™è®¿é—®ã€‚</p><p>æ— è®ºå™¨ä»¶çŠ¶æ€å¦‚ä½•ï¼ˆè¿è¡Œæ¨¡å¼ã€ä½åŠŸè€—æ¨¡å¼æˆ–å¤„äºå¤ä½çŠ¶æ€ï¼‰ï¼Œåªè¦ç”µæºç”µå‹ä¿æŒåœ¨å·¥ä½œèŒƒå›´å†…ï¼ŒRTCä½¿ä¸ä¼šåœæ­¢å·¥ä½œã€‚</p><h3 id="42-åŠŸèƒ½ç®€ä»‹"><a class="markdownIt-Anchor" href="#42-åŠŸèƒ½ç®€ä»‹"></a> 4.2. åŠŸèƒ½ç®€ä»‹</h3><p><img src="Snipaste_2025-02-06_18-46-47.png" alt="" /></p><ul><li><strong>æ¿€æ´»æ—¶é’Ÿæº</strong>ï¼š<strong>ä¸€èˆ¬é€‰ç”¨LSE</strong>ï¼ŒRTCè®¾å¤‡å› ä¸ºå…¶ç‹¬ç‰¹çš„è¿è¡Œæ–¹å¼ï¼ˆå³æ‰ç”µä¾æ—§è¿è¡Œï¼‰ä½¿ç”¨HSEåˆ†é¢‘æ—¶é’Ÿæˆ–è€…LSIçš„æ—¶å€™,åœ¨ä¸»ç”µæºVDDæ‰ç”µçš„æƒ…å†µä¸‹,è¿™ä¸¤ä¸ªæ—¶é’Ÿæ¥æºéƒ½ä¼šå—åˆ°å½±å“ï¼Œèµ„æºæ¶ˆè€—å¤ªå¤§ï¼Œå°å°çš„çº½æ‰£ç”µæ± æ ¹æœ¬åƒä¸æ¶ˆã€‚æ²¡æ³•ä¿è¯RTCæ­£å¸¸å·¥ä½œ.æ‰€ä»¥RTCä¸€èˆ¬éƒ½æ—¶é’Ÿä½é€Ÿå¤–éƒ¨æ—¶é’ŸLSE</li><li><strong>ä½¿èƒ½RTCæ—¥å†</strong></li><li><strong>å¯ç¼–ç¨‹çš„é—¹é’ŸA/B</strong>ï¼Œå¦‚æœè®¾ç½®äº†é—¹é’ŸA/Bçš„æ—¶é—´ï¼Œåˆ™é—¹é’ŸA/Bè®¾å®šæ—¶é—´ä¼šå’Œå½“å‰æ—¥å†æ—¶é—´å¯¹æ¯”ï¼Œå¦‚æœæ—¶é—´ç›¸ç­‰ï¼Œä¼šäº§ç”ŸALRA/BFäº‹ä»¶</li><li><strong>å‘¨æœŸå”¤é†’</strong>ï¼šå¯ä»¥ä½¿ç”¨RTCå†…éƒ¨ä¸€ä¸ª16ä½å”¤é†’è‡ªåŠ¨é‡è½½å¯„å­˜å™¨æ¥å®ç°ï¼Œå‘¨æœŸå”¤é†’çš„æ—¶é’Ÿä¿¡å·å¯ä»¥æ¥è‡ªäºæ›´æ–°æ—¥å†çš„1Hzï¼ˆck_spreï¼‰ä¿¡å·ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨RTCæ—¶é’Ÿçš„2/4/8/16åˆ†é¢‘åçš„æ—¶é’Ÿï¼Œè®¾ç½®è¯¥è‡ªåŠ¨é‡è½½å¯„å­˜å™¨çš„å€¼ï¼Œ<strong>æ ¹æ®æ—¶é’Ÿé¢‘ç‡å‘ä¸Šè®¡æ•°ï¼Œå½“è®¡æ•°æº¢å‡ºæ—¶å‘ç”Ÿå‘¨æœŸå”¤é†’äº‹ä»¶</strong></li><li><strong>æ—¶é—´æˆ³</strong></li><li><strong>Tamper</strong>ï¼šå…¥ä¾µæ£€æµ‹</li><li><strong>æ—¶é’Ÿæ ¡å‡†</strong></li><li><strong>å‚è€ƒæ—¶é’Ÿæ£€æµ‹ï¼Ÿï¼Ÿï¼Ÿ</strong></li></ul><h3 id="43-aå‚è€ƒ"><a class="markdownIt-Anchor" href="#43-aå‚è€ƒ"></a> 4.3. </a>å‚è€ƒ</h3><p><a href="https://community.st.com/t5/stm32-mcus/how-to-calibrate-the-stm32-s-real-time-clock-rtc/ta-p/744958">How to calibrate the STM32â€™s real-time clock (RTC) - STMicroelectronics Community</a><br /><a href="https://blog.csdn.net/lc_guo/article/details/135225854">STM32CubeMXæ•™ç¨‹10 RTC å®æ—¶æ—¶é’Ÿ - å‘¨æœŸå”¤é†’ã€é—¹é’ŸA/Bäº‹ä»¶å’Œå¤‡ä»½å¯„å­˜å™¨_stm32cubemx rtc-CSDNåšå®¢</a><br /><a href="https://blog.csdn.net/as480133937/article/details/105026033">ã€STM32ã€‘RTCå®æ—¶æ—¶é’Ÿï¼Œæ­¥éª¤è¶…ç»†è¯¦è§£ï¼Œä¸€æ–‡çœ‹æ‡‚RTC_rtcæ¨¡å—-CSDNåšå®¢</a></p>]]></content>
      
      
      <categories>
          
          <category> åµŒå…¥å¼ </category>
          
          <category> CubeMXé…ç½®åŠŸèƒ½ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> STM32 </tag>
            
            <tag> CubeMX </tag>
            
            <tag> åµŒå…¥å¼ </tag>
            
            <tag> Timer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç›¸æœºæ§è‰²</title>
      <link href="/posts/50403/"/>
      <url>/posts/50403/</url>
      
        <content type="html"><![CDATA[<p>æ•™ç¨‹åŠæˆªå›¾æ¥è‡ªbç«™ï¼š <a href="https://www.bilibili.com/video/BV1DQiyYkEJC/">https://www.bilibili.com/video/BV1DQiyYkEJC/</a></p><hr /><h2 id="è‰²æ¸©k"><a class="markdownIt-Anchor" href="#è‰²æ¸©k"></a> è‰²æ¸©ï¼ˆKï¼‰</h2><ul><li>è‰²æ¸©é«˜ï¼šå‘ˆç°æš–è‰²ï¼Œè‰²æ¸©ä½ï¼šå‘ˆç°å†·è‰²ï¼ˆä¸ç¯å¢ƒè‰²æ¸©æ˜¯åçš„ï¼‰</li><li><img src="Snipaste_2025-01-21_22-20-26.png" alt="" /></li><li><code>åè‰²</code>ï¼šæ‹æ‘„æ—¶ç”±äºå…‰çº¿å¹²æ‰°ï¼Œè‰²æ¸©ç­‰å› ç´ å½±å“ï¼Œä½¿å¾—ç‰©ä½“æœ¬èº«è‰²å½©å—åˆ°å¹²æ‰°<ul><li>çŸ«æ­£ï¼šå°†ç›¸æœºè‰²æ¸©æ•°å€¼è°ƒåˆ°ä¸ç¯å¢ƒè‰²æ¸©æ•°å€¼ç›¸åŒ</li></ul></li><li>ä¸€äº›æ¨èè‰²æ¸© #æ‹æ‘„æŠ€å·§<ul><li>å†°å¤©é›ªåœ°ã€è“è°ƒã€å¤œæ™šã€å¤©ç©ºï¼šå†·è‰²è°ƒï¼ˆunder 5000kï¼‰</li><li>å†¬æ—¥æš–é˜³ã€æ¸©æš–ã€é»„æ²™ï¼šæš–è‰²è°ƒï¼ˆup 6000kï¼‰</li></ul></li></ul><h2 id="ç™½å¹³è¡¡wb"><a class="markdownIt-Anchor" href="#ç™½å¹³è¡¡wb"></a> ç™½å¹³è¡¡ï¼ˆWBï¼‰</h2><ul><li>æ ¡æ­£ç¯å¢ƒåè‰²ã€‚<img src="Snipaste_2025-01-21_22-31-07.png" alt="" /></li><li><strong>ä¸€èˆ¬ä½¿ç”¨ç™½å¹³è¡¡è‡ªåŠ¨æˆ–è€…ç›´æ¥è‡ªå·±æ ¡æ­£è‰²æ¸©</strong></li><li>æ„Ÿè§‰å¹³å¸¸å¯ä»¥ç›´æ¥ç™½å¹³è¡¡è‡ªåŠ¨ï¼ŒåæœŸè°ƒå•Šã€‚ã€‚</li></ul><h2 id="æ ¹æ®ä¸»å¯¼è‰²ç¡®å®šç”»é¢è‰²æ¸©"><a class="markdownIt-Anchor" href="#æ ¹æ®ä¸»å¯¼è‰²ç¡®å®šç”»é¢è‰²æ¸©"></a> æ ¹æ®ä¸»å¯¼è‰²ç¡®å®šç”»é¢è‰²æ¸©</h2><ul><li>å¦‚æœä¸»å¯¼è‰²åæš–ï¼Œå¯ä»¥å¾€æš–è‰²è°ƒè‰²æ¸©</li><li>å¦‚æœä¸»å¯¼è‰²åå†·ï¼Œå¯ä»¥å¾€å†·è‰²è°ƒè‰²æ¸©ï¼Œä½¿ç”»é¢æ›´å…·<strong>æ°›å›´</strong></li><li>æ³¨æ„ï¼šç…§ç‰‡ä¹Ÿ<strong>ä¸ä¸€å®šè¦åå†·å’Œåæš–</strong>ï¼Œåè‰²ç”¨äºè¥é€ æ°›å›´ï¼Œæœ‰äº›ä½œå“éœ€è¦ä¿è¯ä¸è¦åè‰²ï¼Œè¿˜åŸçœŸå®è‰²å½©</li></ul><h2 id="ç™½å¹³è¡¡åç§»"><a class="markdownIt-Anchor" href="#ç™½å¹³è¡¡åç§»"></a> ç™½å¹³è¡¡åç§»</h2><p><img src="Snipaste_2025-01-21_23-10-03.png" alt="" /></p><p><img src="Snipaste_2025-01-21_23-11-23.png" alt="" /></p><ul><li>ä¸¤å¤§ä½œç”¨ï¼š<ul><li>ç”»é¢æ°›å›´æ¸²æŸ“</li><li>æ§åˆ¶é¢œè‰²åç§»çš„ç¨‹åº¦ï¼šè§£å†³è°ƒæ•´è‰²æ¸©å¯¼è‡´ä¸€äº›ç»†èŠ‚çš„è‰²å½©ä¸å¯¹ï¼Œä¾‹å¦‚è‰²æ¸©è¿‡é«˜å¯¼è‡´äººåƒæ³›çº¢ï¼Œè°ƒæ•´ç™½å¹³è¡¡åç§»å¾€çº¢è‰²<strong>åæ–¹å‘è°ƒ</strong>ã€‚</li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> æ‘„å½±å­¦ä¹  </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ‘„å½±åŸºç¡€ </tag>
            
            <tag> å­¦ä¹ ç¬”è®° </tag>
            
            <tag> ç›¸æœºæ§è‰² </tag>
            
            <tag> ç™½å¹³è¡¡ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ„å›¾</title>
      <link href="/posts/40301/"/>
      <url>/posts/40301/</url>
      
        <content type="html"><![CDATA[<h1 id="ç¬¬ä¸€ä¸ªæ•™ç¨‹"><a class="markdownIt-Anchor" href="#ç¬¬ä¸€ä¸ªæ•™ç¨‹"></a> ç¬¬ä¸€ä¸ªæ•™ç¨‹</h1><p>ä»¥ä¸‹å›¾ç‰‡ä¸æ•™ç¨‹æ¥è‡ªbç«™ï¼š <a href="https://www.bilibili.com/video/BV1pv411H78e">https://www.bilibili.com/video/BV1pv411H78e</a></p><hr /><h2 id="æ„å›¾çš„æ ¸å¿ƒ"><a class="markdownIt-Anchor" href="#æ„å›¾çš„æ ¸å¿ƒ"></a> æ„å›¾çš„æ ¸å¿ƒ</h2><ol><li>ç¡®è®¤ç”»é¢ä¸»ä½“æˆ–ä¸»é¢˜</li><li>å»æ‰ç”»é¢ä¸­ä¸ä¸»ä½“æ— å…³çš„å…ƒç´ </li><li><strong>åŠ å…¥</strong>çªå‡ºä¸»é¢˜æˆ–ä¸»é¢˜è¡¨è¾¾çš„å…ƒç´ å¹¶åˆç†æ‘†æ”¾ï¼ˆåˆ©ç”¨æŠ½è±¡å‡ºçš„å‡ ä½•çº¿æ¡ï¼‰</li><li>æˆåŠŸè¡¨è¾¾æƒ³è¡¨è¾¾çš„å†…å®¹</li></ol><h2 id="å¦‚ä½•é€‰æ‹©åˆé€‚çš„å–æ™¯èŒƒå›´"><a class="markdownIt-Anchor" href="#å¦‚ä½•é€‰æ‹©åˆé€‚çš„å–æ™¯èŒƒå›´"></a> å¦‚ä½•é€‰æ‹©åˆé€‚çš„å–æ™¯èŒƒå›´ï¼Ÿ</h2><p>è¿˜æ˜¯æ ¹æ®ä¸»é¢˜æˆ–ä¸»é¢˜â€¦ä¸ç¡®å®šå¯ä»¥å¤šå¤šè¯•ä¸€ä¸‹</p><h2 id="è®©ç”»é¢æ›´åŠ å¸å¼•äººçš„æ–¹æ³•"><a class="markdownIt-Anchor" href="#è®©ç”»é¢æ›´åŠ å¸å¼•äººçš„æ–¹æ³•"></a> è®©ç”»é¢æ›´åŠ å¸å¼•äººçš„æ–¹æ³•</h2><ul><li>åˆ©ç”¨äººçœ¼çš„è§†è§‰æµåŠ¨ï¼š<ul><li>è§†è§‰å‡èšï¼šæ˜æš—ã€é²œè‰³æš—æ·¡ã€å¯¹æ¯”è‰²ã€é‡å¤å…ƒç´ <ul><li><img src="Snipaste_2025-01-19_21-52-29.png" alt="" /></li><li><img src="Snipaste_2025-01-19_21-53-32.png" alt="" /></li><li><img src="Snipaste_2025-01-19_21-54-29.png" alt="" /></li></ul></li></ul></li><li>è§†è§‰å¼•å¯¼ï¼š<ul><li>å¼•å¯¼çº¿<ul><li><img src="Snipaste_2025-01-19_21-55-44.png" alt="" /></li></ul></li><li>è§†çº¿<ul><li><img src="Snipaste_2025-01-19_21-56-10.png" alt="" /></li></ul></li><li>è§†è§‰æ§åˆ¶<ul><li><img src="Snipaste_2025-01-19_21-57-23.png" alt="" /></li></ul></li></ul></li></ul><h2 id="å¸¸ç”¨çš„æ„å›¾æŠ€å·§è¦å’Œä¸Šé¢çš„æŠ€å·§ç»¼åˆè¿ç”¨"><a class="markdownIt-Anchor" href="#å¸¸ç”¨çš„æ„å›¾æŠ€å·§è¦å’Œä¸Šé¢çš„æŠ€å·§ç»¼åˆè¿ç”¨"></a> å¸¸ç”¨çš„æ„å›¾æŠ€å·§ï¼ˆè¦å’Œä¸Šé¢çš„æŠ€å·§ç»¼åˆè¿ç”¨ï¼‰</h2><ul><li>ä¸‰åˆ†<ul><li><img src="Snipaste_2025-01-19_21-59-29.png" alt="" /></li></ul></li><li>å±…ä¸­ï¼ˆå¯¹ç§°ï¼‰ æ‹æ‘„æ¯”è¾ƒåº„ä¸¥è‚ƒç©†çš„ç‰©ä½“<ul><li><img src="Snipaste_2025-01-19_22-00-43.png" alt="" /></li></ul></li><li>ä¸‰è§’å½¢<ul><li><img src="Snipaste_2025-01-19_22-01-27.png" alt="" /></li></ul></li><li>å‰ä¸­åæ™¯å±‚æ¬¡æ„å›¾<ul><li><img src="Snipaste_2025-01-19_22-02-21.png" alt="" /></li></ul></li></ul><h2 id="ç”»é¢çš„å¹³è¡¡"><a class="markdownIt-Anchor" href="#ç”»é¢çš„å¹³è¡¡"></a> ç”»é¢çš„å¹³è¡¡</h2><ul><li>æ´»ç”¨ä¸‰åˆ†æ³•ã€å¯¹ç§°æ³•ï¼šæ ¹æ®æƒ…å†µè°ƒæ•´</li><li>ç•™ç™½å¤„ç‚¹ç¼€<ul><li><img src="Snipaste_2025-01-19_22-10-09.png" alt="" /></li></ul></li></ul><hr /><h1 id="ç¬¬äºŒä¸ªæ•™ç¨‹"><a class="markdownIt-Anchor" href="#ç¬¬äºŒä¸ªæ•™ç¨‹"></a> ç¬¬äºŒä¸ªæ•™ç¨‹</h1><p>ä»¥ä¸‹æ•™ç¨‹ä¸å›¾ç‰‡æ¥è‡ªï¼š <a href="https://www.bilibili.com/video/BV1eZCzYUEKD">https://www.bilibili.com/video/BV1eZCzYUEKD</a> åå‘äºäººåƒ</p><hr /><h2 id="ç¬¬ä¸€é˜¶æ®µå½¢å¼çš„æ„å›¾"><a class="markdownIt-Anchor" href="#ç¬¬ä¸€é˜¶æ®µå½¢å¼çš„æ„å›¾"></a> ç¬¬ä¸€é˜¶æ®µï¼šå½¢å¼çš„æ„å›¾</h2><ul><li>å±…ä¸­æ„å›¾ï¼šçªå‡ºä¸»é¢˜ä½†å®¹æ˜“å¹³æ·¡</li><li>ä¸‰åˆ†æ³•<ul><li><img src="Snipaste_2025-01-19_22-13-39%201.png" alt="" /></li></ul></li><li>å¯¹è§’çº¿ï¼šæœ‰å¼ åŠ›ã€æœ‰çº¿æ¡æ„Ÿï¼Œ<strong>è¡¨è¾¾ä¸»ä½“çš„å»¶ç”³æ„Ÿ</strong><ul><li><img src="Snipaste_2025-01-19_22-14-45.png" alt="" /></li></ul></li><li>å¯¹ç§°ï¼šå‡åŒ€åè°ƒï¼Œç¨³å®š</li><li>æ¡†æ¶æ„å›¾ï¼ˆè§†è§‰æ§åˆ¶ï¼‰</li><li>å¼•å¯¼æ„å›¾ï¼šåˆ©ç”¨çº¿æ¡å»å¼•å¯¼ï¼Œè¦å¼•å¯¼å»ä¸»ä½“ï¼Œä¸æ˜¯éšä¾¿å¼•å¯¼<ul><li><img src="Snipaste_2025-01-19_22-17-14.png" alt="" /></li></ul></li><li>ä¸‰è§’æ„å›¾ï¼šå¹¶ä¸å±€é™äºä¸€ä¸ªï¼Œå¯ä»¥æ‹¼å‡‘å¤šä¸ª<ul><li><img src="Snipaste_2025-01-19_22-18-18.png" alt="" /><br /><strong>ä½†æ˜¯ï¼Œä¸€å®šä¸è¦ç”Ÿæ¬ç¡¬å¥—ï¼ï¼ï¼</strong><br />ä»¥ä¸‹æ˜¯ä¸€äº›é”™è¯¯ä¾‹å­</li></ul></li><li>ç›²ç›®å¥—ç”¨ï¼Œæ²¡æœ‰çªå‡ºæ‹æ‘„çš„ä¸»ä½“<ul><li><img src="Snipaste_2025-01-19_22-20-48.png" alt="" /></li><li><img src="Snipaste_2025-01-19_22-22-00.png" alt="" /></li></ul></li><li>ç›²ç›®å‰åæ™¯<ul><li><img src="Snipaste_2025-01-19_22-23-02.png" alt="" /></li></ul></li><li>å‰æ™¯å¤ªå¤§ï¼šæ·¡åŒ–ä¸»ä½“<ul><li><img src="Snipaste_2025-01-19_22-23-51.png" alt="" /></li></ul></li></ul><h2 id="ç¬¬äºŒé˜¶æ®µç»“æ„æ„å›¾"><a class="markdownIt-Anchor" href="#ç¬¬äºŒé˜¶æ®µç»“æ„æ„å›¾"></a> ç¬¬äºŒé˜¶æ®µï¼šç»“æ„æ„å›¾</h2><ul><li><p>åˆ†æç”»é¢ï¼šç‚¹çº¿é¢çš„è¿ç”¨ï¼Œä¸€äº›å…ƒç´ ä¸å†æ˜¯å…ƒç´ æœ¬èº«ï¼Œè€Œæ˜¯å¼•å¯¼è§‚çœ‹ä¸»ä½“çš„å·¥å…·</p></li><li><p>æ ¹æ®ç”»é¢å†…å®¹ï¼Œåˆç†å®‰æ’ç”»é¢ä¸­çš„æ¯ä¸ªå…ƒç´  è€Œä¸æ˜¯ç”Ÿæ¬ç¡¬å¥—</p></li><li><p>å½“ç”»é¢ä¸»ä½“æ˜¯äººæ—¶ï¼Œäººé¢æœçš„æ–¹å‘å’Œè§†çº¿ä¹Ÿæ˜¯éšå½¢çš„çº¿æ¡ï¼Œåˆç†è¿ç”¨èƒ½å¼•å¯¼ç”»é¢æ•´ä½“èµ°å‘</p></li></ul><h2 id="ç¬¬ä¸‰é˜¶æ®µå¿˜æ‰æ„å›¾ä¸“æ³¨äºç”»é¢å†…å®¹ä¸ä¸»é¢˜è¿”ç’å½’çœŸ"><a class="markdownIt-Anchor" href="#ç¬¬ä¸‰é˜¶æ®µå¿˜æ‰æ„å›¾ä¸“æ³¨äºç”»é¢å†…å®¹ä¸ä¸»é¢˜è¿”ç’å½’çœŸ"></a> ç¬¬ä¸‰é˜¶æ®µï¼šå¿˜æ‰æ„å›¾ï¼Œä¸“æ³¨äºç”»é¢å†…å®¹ä¸ä¸»é¢˜ï¼Œè¿”ç’å½’çœŸ</h2><p><img src="Snipaste_2025-01-19_22-38-26.png" alt="" /><br /><img src="Snipaste_2025-01-19_22-39-01.png" alt="" /><br /><img src="Snipaste_2025-01-19_22-39-21.png" alt="" /><br />å¦‚ä¸‹é¢å›¾ç‰‡ï¼šå…¶ä¸»æ—¨æ›´åŠ ä¸°å¯Œï¼Œè€Œæ„å›¾ä¸é‚£ä¹ˆæ˜æ˜¾<br /><img src="Snipaste_2025-01-19_22-41-51.png" alt="" /></p><h2 id="æ€»ç»“"><a class="markdownIt-Anchor" href="#æ€»ç»“"></a> æ€»ç»“</h2><p>è¯´åˆ°åº•ï¼Œæ„å›¾è¿˜æ˜¯æœä»ç”»é¢ä¸å†…å®¹ï¼Œç…§ç‰‡çš„æ„ä¹‰ï¼Œæœ‰æ—¶å€™ä¸éœ€è¦åä¸½çš„æ„å›¾æŠ€å·§å’Œå½¢å¼ï¼Œç®€å•ï¼ŒçœŸå®ï¼Œæœ‰æ„ä¹‰ï¼Œèƒ½è®©è§‚çœ‹è€…äº§ç”Ÿå…±é¸£å°±å¤Ÿäº†ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æ‘„å½±å­¦ä¹  </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ‘„å½±åŸºç¡€ </tag>
            
            <tag> å­¦ä¹ ç¬”è®° </tag>
            
            <tag> æ„å›¾ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å½±è°ƒæ§åˆ¶</title>
      <link href="/posts/55817/"/>
      <url>/posts/55817/</url>
      
        <content type="html"><![CDATA[<p>ä»¥ä¸‹å›¾ç‰‡ä¸æ•™ç¨‹æ¥è‡ªbç«™ï¼š <a href="https://www.bilibili.com/video/BV1pv411H78e">https://www.bilibili.com/video/BV1pv411H78e</a></p><hr /><h2 id="ä»€ä¹ˆæ˜¯å½±è°ƒ"><a class="markdownIt-Anchor" href="#ä»€ä¹ˆæ˜¯å½±è°ƒ"></a> ä»€ä¹ˆæ˜¯å½±è°ƒ</h2><ul><li>ç”»é¢ä¸­çš„æ˜æš—</li><li><img src="Snipaste_2025-01-21_16-45-24.png" alt="" /></li><li><img src="Snipaste_2025-01-21_16-54-04.png" alt="" /></li></ul><h2 id="å½±è°ƒçš„é‡åŒ–"><a class="markdownIt-Anchor" href="#å½±è°ƒçš„é‡åŒ–"></a> å½±è°ƒçš„é‡åŒ–</h2><ul><li>æµ‹å…‰æ ‡å°ºï¼šå‘å·¦ï¼Œä½è°ƒï¼Œå‘å³ï¼Œé«˜è°ƒã€‚<ul><li>æµ‹å…‰æ¨¡å¼<ul><li><img src="Snipaste_2025-01-21_17-00-29.png" alt="" /></li><li>æ‹æœˆäº®å¯ä»¥ç”¨ç‚¹æµ‹å…‰</li></ul></li></ul></li><li>ç›´æ–¹å›¾<ul><li><strong>åˆ¤æ–­æ˜¯å¦è¿‡æ›ã€æ¬ æ›</strong>ï¼šè¢«æˆªæ–­ã€‚åœ¨æŸä¸€æ–¹å‘çªç„¶é™¡å¢<ul><li><img src="Snipaste_2025-01-21_17-03-12.png" alt="" /></li></ul></li><li>ç›´æ–¹å›¾å¯ä»¥ç”¨äºåˆ¤æ–­å½±è°ƒï¼Œä¾‹å¦‚ï¼š<ul><li><img src="Snipaste_2025-01-21_17-06-14.png" alt="" /></li></ul></li></ul></li></ul><h2 id="æ•°ç æ—¶ä»£çš„æœ€ä½³æ›å…‰æ–¹å¼"><a class="markdownIt-Anchor" href="#æ•°ç æ—¶ä»£çš„æœ€ä½³æ›å…‰æ–¹å¼"></a> æ•°ç æ—¶ä»£çš„æœ€ä½³æ›å…‰æ–¹å¼</h2><ul><li><strong>å‘å³æ›å…‰ï¼Œä½†ä¸æ˜¯è¿‡æ›</strong><ul><li>ä¸ºäº†è®°å½•æ›´å¤šçš„ç”»é¢ç»†èŠ‚ï¼Œè€Œåœ¨åæœŸå¯ä»¥è¿›ä¸€æ­¥è°ƒæ•´</li><li>è®©ç›´æ–¹å›¾å³ä¾§å°½é‡è´´è¿‘å³è¾¹ç¼˜ä½†æ˜¯<strong>ä¸è¢«æˆªæ–­</strong></li><li>å¯ä»¥åŠ ä¸€ç‚¹EVï¼ˆæ›å…‰è¡¥å¿ï¼‰</li><li><img src="Snipaste_2025-01-21_17-11-27%201.png" alt="" /></li></ul></li></ul><h2 id="å¤§å…‰æ¯”æƒ…å†µä¸‹å¹³è¡¡å…‰æ¯”çš„å¤šç§åº”å¯¹æ–¹å¼"><a class="markdownIt-Anchor" href="#å¤§å…‰æ¯”æƒ…å†µä¸‹å¹³è¡¡å…‰æ¯”çš„å¤šç§åº”å¯¹æ–¹å¼"></a> å¤§å…‰æ¯”æƒ…å†µä¸‹ï¼Œå¹³è¡¡å…‰æ¯”çš„å¤šç§åº”å¯¹æ–¹å¼</h2><ul><li>å¦‚ä½•å®šä¹‰å¤§å…‰æ¯”æƒ…å†µ<ul><li>æ˜æš—åå·®å¾ˆå¤§ï¼Œå¯ä»¥ç†è§£ä¸ºæœ€äº®å’Œæœ€æš—çš„åå·®</li><li><img src="Snipaste_2025-01-21_17-19-56.png" alt="" /></li><li><img src="Snipaste_2025-01-21_17-20-33.png" alt="" /></li><li><img src="Snipaste_2025-01-21_17-21-18.png" alt="" /></li></ul></li><li>ä¸åŒæƒ…å†µä¸‹çš„åº”å¯¹æ–¹å¼<ul><li>å¹³è¡¡å…‰æ¯”æ˜¯ç¬¦åˆ<strong>è‚‰çœ¼çœ‹åˆ°çš„ç›´è§‚æ„Ÿè§‰</strong>ï¼Œè€Œä¸æ˜¯æ²¡æœ‰å…‰æ¯”</li></ul><ol><li><code>æ›å…‰åˆæˆ</code> ï¼šæ‹æ‘„å¤šå¼ ä¸åŒæ›å…‰åŒºé—´ä¸‹çš„ç…§ç‰‡ï¼ŒåæœŸåˆæˆåˆ°ä¸€èµ·<ul><li>ç…§ç‰‡å†…å®¹éœ€è¦ä¿æŒä¸€è‡´ï¼Œä½¿ç”¨ç¨³å®šæ‹æ‘„</li><li>ä¸€äº›ç…§ç‰‡ä¿ç•™æš—éƒ¨ç»†èŠ‚ï¼Œå¦ä¸€äº›ä¿ç•™äº®éƒ¨ç»†èŠ‚ï¼ŒåæœŸåˆæˆä¸€å¼ HDRç…§ç‰‡</li><li>ç›¸æœºé‡Œæœ‰ä¸€ä¸ªé˜¶æ®µæ›å…‰è¿æ‹åŠŸèƒ½</li></ul></li><li><code>å®æ¬ å‹¿è¿‡ï¼ŒåæœŸæäº®</code> ï¼šå‰æœŸé€‚å½“å‘å·¦æ›å…‰ï¼Œä¿æŠ¤é«˜å…‰ç»†èŠ‚ï¼Œä½†æ˜¯ä¹Ÿå¯èƒ½å¯¼è‡´æš—éƒ¨ç»†èŠ‚æ— æ³•è¿˜åŸ</li><li><code>è¡¥å…‰</code> ï¼šå¤šç”¨äºäººç‰©</li><li><code>æ‹æ‘„å‰ªå½±</code></li></ol></li></ul>]]></content>
      
      
      <categories>
          
          <category> æ‘„å½±å­¦ä¹  </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ‘„å½±åŸºç¡€ </tag>
            
            <tag> å­¦ä¹ ç¬”è®° </tag>
            
            <tag> å½±è°ƒæ§åˆ¶ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æœºä½æŒæ§</title>
      <link href="/posts/5778/"/>
      <url>/posts/5778/</url>
      
        <content type="html"><![CDATA[<p>æ•™ç¨‹åŠæˆªå›¾æ¥è‡ªbç«™ï¼š <a href="https://www.bilibili.com/video/BV1DQiyYkEJC/">https://www.bilibili.com/video/BV1DQiyYkEJC/</a></p><h2 id="ä»€ä¹ˆæ˜¯æœºä½"><a class="markdownIt-Anchor" href="#ä»€ä¹ˆæ˜¯æœºä½"></a> ä»€ä¹ˆæ˜¯æœºä½</h2><p>ç®€è€Œè¨€ä¹‹ç›¸æœºçš„ä½ç½®ã€‚ç›¸æœºä¸æ¨¡ç‰¹çš„ä¸‰ç»´ä½ç½®</p><h2 id="ä¸‰ç»´"><a class="markdownIt-Anchor" href="#ä¸‰ç»´"></a> ä¸‰ç»´</h2><h3 id="é«˜åº¦"><a class="markdownIt-Anchor" href="#é«˜åº¦"></a> é«˜åº¦</h3><ul><li>å¹³è§†æœºä½<ul><li>å–å†³äºå–æ™¯æ¡†ä¸Šçš„<strong>ä¸­å¿ƒå¯¹ç„¦ç‚¹</strong>ï¼Œåº”ä¸ä¸­å¿ƒå¯¹ç„¦ç‚¹<strong>æŒå¹³</strong></li><li>ä¼˜åŠ¿ï¼š<ul><li>ç›¸æ¯”é«˜ä½æœºä½ï¼Œæ›´å…·çœŸå®æ„Ÿ  é€‚åˆä¸¥è°¨çš„æƒ…å¢ƒ å¦‚è¯ä»¶ç…§ã€äººæ–‡çºªå®ã€‚<img src="Snipaste_2025-01-19_20-36-03.png" alt="" /></li><li>æ›´å®¹æ˜“äº§ç”Ÿæƒ…æ„Ÿå…±é¸£ï¼Œåˆ©äºæƒ…ç»ªä¼ è¾¾ï¼Œå¦‚ä¸Šå›¾å°±æ˜¯ä¸ªå¾ˆå¥½çš„ä¾‹å­ã€‚<strong>çªå‡ºäººç‰©æƒ…ç»ªçš„å…³é”®</strong>ï¼šåˆ©ç”¨<strong>è¿‘æ™¯æˆ–ç‰¹å†™</strong><img src="Snipaste_2025-01-19_20-49-10.png" alt="" /></li><li>å°æŠ€å·§ï¼š #æ‹æ‘„æŠ€å·§<ul><li>ä¸Šé¢çš„ç…§ç‰‡ä¹Ÿæ²¡æœ‰å®Œå…¨æŒå¹³å“¦ï¼Œå¯ä»¥æŠŠç›¸æœºç¨å¾®æ‹‰é«˜æˆ–æ‹‰ä½ï¼Œæ›´èƒ½è¡¨ç°æƒ…ç»ªçŠ¶æ€</li><li>é‚£ä¹ˆé«˜åˆ°ä»€ä¹ˆåœ°æ–¹ï¼Œä½åˆ°ä»€ä¹ˆåœ°æ–¹å‘¢ï¼Ÿ<strong>ä¸Šä¸‹15åº¦èŒƒå›´ï¼Œé¿å…æˆä¸ºé«˜ä½æœºä½çš„è§†è§‰è§‚æ„Ÿ</strong></li></ul></li></ul></li><li>åŠ£åŠ¿ï¼š<ul><li>æ•ˆæœä¸æƒŠè‰³ï¼šä¸è¦æ‹è¿œã€å…¨ã€ä¸­æ™¯</li></ul></li><li>è¿›ä¸€æ­¥æ‹”é«˜ï¼š<ul><li>å¼ºåŒ–ï¼šææ¸…æ¥šæƒ³è¦è¡¨è¾¾çš„ä¸»é¢˜ï¼Œä½¿ç”¨æŠ€å·§å¼ºåŒ–å®ƒ</li><li>è§„é¿ï¼šå¯ä»¥æŠŠä¸å¥½çœ‹çš„äººç‰©äº”å®˜åˆ©ç”¨æœºä½çš„å˜åŒ–è§„é¿æ‰ å£è¯€ï¼š<strong>è¿‘å¤§è¿œå°</strong></li></ul></li></ul></li><li>é«˜æœºä½</li><li>ä½æœºä½</li></ul><h3 id="è§’åº¦"><a class="markdownIt-Anchor" href="#è§’åº¦"></a> è§’åº¦</h3><ul><li>æ­£é¢</li><li>ä¾§é¢</li><li>èƒŒé¢</li></ul><h3 id="è·ç¦»"><a class="markdownIt-Anchor" href="#è·ç¦»"></a> è·ç¦»</h3><p>å–æ™¯èŒƒå›´ï¼ˆæ™¯åˆ«ï¼‰</p><ul><li>è¿œ<ul><li>å³è¿œæ™¯æ‹æ‘„</li><li><img src="Snipaste_2025-01-19_17-41-06.png" alt="" /></li></ul></li><li>å…¨<ul><li>ä¸»ä½“å®Œæ•´å‘ˆç°äºç”»é¢ï¼Œ äººç‰©å æ¯”å¤§</li><li><img src="Snipaste_2025-01-19_17-43-05.png" alt="" /></li></ul></li><li>ä¸­<ul><li>å–æ™¯èŒƒå›´ä¸ºäººç‰©çš„è†ç›–ä»¥ä¸Šæˆ–èƒ¸éƒ¨ä»¥ä¸‹</li></ul></li><li>è¿‘<ul><li>å–æ™¯èŒƒå›´ä¸ºäººç‰©çš„èƒ¸éƒ¨ä»¥ä¸Šæˆ–è‚©éƒ¨ä»¥ä¸‹</li></ul></li><li>ç‰¹<ul><li>ç‰¹å†™</li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> æ‘„å½±å­¦ä¹  </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ‘„å½±åŸºç¡€ </tag>
            
            <tag> å­¦ä¹ ç¬”è®° </tag>
            
            <tag> æœºä½æŒæ§ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>markdownæ¸²æŸ“å™¨æµ‹è¯•</title>
      <link href="/posts/50034/"/>
      <url>/posts/50034/</url>
      
        <content type="html"><![CDATA[<p><ul class="markdownIt-TOC"><li><a href="#%E6%A0%87%E9%A2%982">æ ‡é¢˜2</a><ul><li><a href="#%E5%88%97%E8%A1%A8">åˆ—è¡¨</a></li><li><a href="#%E6%9C%89%E5%BA%8F%E5%88%97%E8%A1%A8">æœ‰åºåˆ—è¡¨</a></li><li><a href="#%E9%93%BE%E6%8E%A5">é“¾æ¥</a></li><li><a href="#%E5%9B%BE%E7%89%87">å›¾ç‰‡</a></li><li><a href="#%E4%BB%A3%E7%A0%81%E5%9D%97">ä»£ç å—</a></li><li><a href="#%E5%BC%95%E7%94%A8">å¼•ç”¨</a></li><li><a href="#%E8%A1%A8%E6%A0%BC">è¡¨æ ¼</a></li><li><a href="#%E5%88%92%E7%BA%BF">åˆ’çº¿</a></li><li><a href="#%E5%85%B6%E4%BB%96">å…¶ä»–</a><ul><li><a href="#tips">tips</a></li></ul></li></ul></li><li><a href="#2%E7%BA%A7">2çº§</a><ul><li><a href="#3%E7%BA%A7">3çº§</a><ul><li><a href="#4%E7%BA%A7">4çº§</a><ul><li><a href="#5%E7%BA%A7">5çº§</a><ul><li><a href="#6%E7%BA%A7">6çº§</a></li></ul></li></ul></li></ul></li></ul></li></ul></p><h1 id="markdown-æµ‹è¯•æ–‡æœ¬"><a class="markdownIt-Anchor" href="#markdown-æµ‹è¯•æ–‡æœ¬"></a> Markdown æµ‹è¯•æ–‡æœ¬</h1><h2 id="æ ‡é¢˜2"><a class="markdownIt-Anchor" href="#æ ‡é¢˜2"></a> æ ‡é¢˜2</h2><p>è¿™æ˜¯ä¸€ä¸ªæ®µè½ï¼Œä¸‹é¢æ˜¯<strong>åŠ ç²—</strong>å’Œ<em>æ–œä½“</em>æ–‡æœ¬çš„ç¤ºä¾‹ã€‚</p><h3 id="åˆ—è¡¨"><a class="markdownIt-Anchor" href="#åˆ—è¡¨"></a> åˆ—è¡¨</h3><ul><li>é¡¹ç›®1</li><li>é¡¹ç›®2<ul><li>å­é¡¹ç›®2.1</li><li>å­é¡¹ç›®2.2</li></ul></li><li>é¡¹ç›®3</li></ul><h3 id="æœ‰åºåˆ—è¡¨"><a class="markdownIt-Anchor" href="#æœ‰åºåˆ—è¡¨"></a> æœ‰åºåˆ—è¡¨</h3><ol><li><p>ç¬¬ä¸€é¡¹</p></li><li><p>ç¬¬äºŒé¡¹</p></li><li><p>ç¬¬ä¸‰é¡¹</p></li></ol><h3 id="é“¾æ¥"><a class="markdownIt-Anchor" href="#é“¾æ¥"></a> é“¾æ¥</h3><p><a href="https://www.openai.com">ç‚¹å‡»è¿™é‡Œè®¿é—®OpenAI</a></p><h3 id="å›¾ç‰‡"><a class="markdownIt-Anchor" href="#å›¾ç‰‡"></a> å›¾ç‰‡</h3><p><img src="https://openai.com/favicon.ico" alt="OpenAI logo" /></p><h3 id="ä»£ç å—"><a class="markdownIt-Anchor" href="#ä»£ç å—"></a> ä»£ç å—</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">hello_world</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Hello, World!&quot;</span>)</span><br></pre></td></tr></table></figure><h3 id="å¼•ç”¨"><a class="markdownIt-Anchor" href="#å¼•ç”¨"></a> å¼•ç”¨</h3><blockquote><p>â€œæˆ‘çˆ±åƒé¦™è‚ â€</p></blockquote><h3 id="è¡¨æ ¼"><a class="markdownIt-Anchor" href="#è¡¨æ ¼"></a> è¡¨æ ¼</h3><table><thead><tr><th>åç§°</th><th>å¹´é¾„</th><th>èŒä¸š</th></tr></thead><tbody><tr><td>Alice</td><td>28</td><td>åŒ»ç”Ÿ</td></tr><tr><td>Bob</td><td>34</td><td>å·¥ç¨‹å¸ˆ</td></tr><tr><td>Carol</td><td>25</td><td>è®¾è®¡å¸ˆ</td></tr></tbody></table><h3 id="åˆ’çº¿"><a class="markdownIt-Anchor" href="#åˆ’çº¿"></a> åˆ’çº¿</h3><p><s>æˆ‘è¢«åˆ’äº†</s></p><h3 id="å…¶ä»–"><a class="markdownIt-Anchor" href="#å…¶ä»–"></a> å…¶ä»–</h3><p><mark>åˆ’é‡ç‚¹ï¼Œæ ‡è®°</mark></p><details><summary>å¯æ”¶èµ·æ–‡æœ¬</summary>è¿™æ˜¯å¯æ”¶èµ·æ–‡æœ¬. å¯ä»¥åŒ…å«ä»»æ„å…ƒç´ , æ¯”å¦‚ **ç²—ä½“**, *æ–œä½“*,ä»£ç å—<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Hello, World!&quot;</span>)</span><br></pre></td></tr></table></figure></details> <p><span class="spoiler">é˜²å‰§é€</span></p><ul><li>[ ] TODO List ï¼æ¸²æŸ“å¤±è´¥</li></ul><p>H<sub>2</sub>0<br />x<sup>2</sup></p><p>è„šæ³¨æµ‹è¯•<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup></p><h4 id="tips"><a class="markdownIt-Anchor" href="#tips"></a> tips</h4><p>:::warning</p><p>warning</p><p>:::</p><p>:::danger</p><p>danger</p><p>:::</p><p>:::tip</p><p>tip</p><p>:::</p><p>:::mention</p><p>mention</p><p>:::</p><p>:::recommend</p><p>recommend</p><p>:::</p><p>:::note</p><p>note</p><p>:::</p><p>:::info</p><p>info</p><p>:::</p><p>:::success</p><p>success</p><p>:::</p><p>:::error</p><p>error</p><p>:::</p><p>:::bug</p><p>bug</p><p>:::</p><p>:::todo</p><p>todo</p><p>:::</p><p>:::example</p><p>example</p><p>:::</p><p>:::quote</p><p>quote</p><p>:::</p><p>:::link</p><p>link</p><p>:::</p><p>:::code</p><p>code</p><p>:::</p><p>:::update</p><p>update</p><p>:::</p><p>:::star</p><p>star</p><p>:::</p><p>:::time</p><p>time</p><p>:::</p><h1 id="æ ‡é¢˜å¤§å°å¯¹æ¯”"><a class="markdownIt-Anchor" href="#æ ‡é¢˜å¤§å°å¯¹æ¯”"></a> æ ‡é¢˜å¤§å°å¯¹æ¯”</h1><h2 id="2çº§"><a class="markdownIt-Anchor" href="#2çº§"></a> 2çº§</h2><h3 id="3çº§"><a class="markdownIt-Anchor" href="#3çº§"></a> 3çº§</h3><h4 id="4çº§"><a class="markdownIt-Anchor" href="#4çº§"></a> 4çº§</h4><h5 id="5çº§"><a class="markdownIt-Anchor" href="#5çº§"></a> 5çº§</h5><h6 id="6çº§"><a class="markdownIt-Anchor" href="#6çº§"></a> 6çº§</h6><hr class="footnotes-sep" /><section class="footnotes"><ol class="footnotes-list"><li id="fn1" class="footnote-item"><p>è¿™æ˜¯ä¸€ä¸ªè„šæ³¨è§£é‡Š <a href="#fnref1" class="footnote-backref">â†©ï¸</a></p></li></ol></section>]]></content>
      
      
      <categories>
          
          <category> å…¶ä»– </category>
          
      </categories>
      
      
        <tags>
            
            <tag> åšå®¢ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ›å…‰ä¸‰è¦ç´ </title>
      <link href="/posts/27350/"/>
      <url>/posts/27350/</url>
      
        <content type="html"><![CDATA[<p>æ•™ç¨‹åŠæˆªå›¾æ¥è‡ªbç«™ï¼š <a href="https://www.bilibili.com/video/BV1DQiyYkEJC/">https://www.bilibili.com/video/BV1DQiyYkEJC/</a></p><h2 id="è®¤è¯†å¿«é—¨"><a class="markdownIt-Anchor" href="#è®¤è¯†å¿«é—¨"></a> è®¤è¯†å¿«é—¨</h2><ul><li>å¿«é—¨ï¼šæ§åˆ¶æ¥æ”¶å…‰çº¿çš„æ—¶é—´ æ—¶é—´é•¿ï¼Œè¿›å…‰é‡å¤§ï¼Œç”»é¢äº®ã€‚</li><li>åœ¨Mæ¡£ã€å¿«é—¨ä¼˜å…ˆæ¡£ï¼ˆSæ¡£ï¼‰æ§åˆ¶ã€‚</li><li><strong>å¿«é—¨å½±å“ç‰©ä½“çš„åŠ¨æ€æ¨¡ç³Šã€‚</strong><ul><li>åœ¨å¿«é—¨æ‰“å¼€å…³é—­æ—¶é—´å†…ï¼Œæ‰€æ‹æ‘„ç‰©ä½“æ²¡æœ‰è¶³å¤Ÿæ—¶é—´ç§»åŠ¨ï¼Œé‚£ä¹ˆæ‰€æ‹æ‘„ç‰©ä½“æ—¶é™æ­¢çš„</li><li>ç›¸åï¼Œè‹¥ç‰©ä½“æ˜¯è¿åŠ¨çš„ï¼Œåˆ™ä¼šæŠŠè¿åŠ¨è½¨è¿¹è®°å½•èµ·æ¥ã€‚<br /><img src="Snipaste_2025-01-19_11-59-54.png" alt="" /></li></ul></li></ul><h3 id="å®‰å…¨å¿«é—¨"><a class="markdownIt-Anchor" href="#å®‰å…¨å¿«é—¨"></a> å®‰å…¨å¿«é—¨</h3><ul><li><p>èƒ½ä¿è¯ç”»é¢æ¸…æ™°æ‰€ä½¿ç”¨çš„æœ€ä½å¿«é—¨é€Ÿåº¦ï¼ˆæ‰‹æŒæ‹æ‘„ï¼‰</p></li><li><p>å…·ä½“æ•°å€¼ä¸ºç„¦è·çš„å€’æ•°ï¼Œä¾‹å¦‚50mmç„¦è·ï¼Œå®‰å…¨å¿«é—¨ä¸ºï¼š1/50s</p></li><li><p>ä¸€äº›å¸¸è§„é¢˜æå¿«é—¨é€Ÿåº¦æ¨èï¼ˆå¸¸ç”¨è°ƒæ•´å€¼ï¼‰ï¼š #æ‹æ‘„æŠ€å·§</p><ul><li>äººæ–‡é¢˜æ æ–°é—»æŠ¥é“  <strong>å¿«é—¨å¸¸ç”¨ 1/125s</strong></li><li>è¡Œäººï¼Œè·‘åŠ¨çš„å°å­©   <strong>å¿«é—¨å¸¸ç”¨ 1/500s</strong></li></ul></li></ul><h3 id="é«˜é€Ÿå¿«é—¨"><a class="markdownIt-Anchor" href="#é«˜é€Ÿå¿«é—¨"></a> é«˜é€Ÿå¿«é—¨</h3><ul><li><p>ç”»é¢äº®åº¦ä¼šé™ä½ï¼Œå¯ä»¥æ¸…æ™°çš„æ‹æ‘„é«˜é€Ÿè¿åŠ¨çš„ç‰©ä½“</p></li><li><p>é™åˆ¶ï¼šåœºæ™¯å…‰çº¿å¼ºï¼Œå¦åˆ™ç”»é¢éå¸¸æš—</p></li><li><p>ä½¿ç”¨é«˜é€Ÿå¿«é—¨æ‹æ‘„çš„é¢˜æ #æ‹æ‘„æŠ€å·§</p><ul><li><p><img src="Snipaste_2025-01-19_12-16-50.png" alt="" /></p></li><li><p><img src="Snipaste_2025-01-19_12-27-34.png" alt="" /></p></li></ul></li></ul><h3 id="ä½é€Ÿå¿«é—¨"><a class="markdownIt-Anchor" href="#ä½é€Ÿå¿«é—¨"></a> ä½é€Ÿå¿«é—¨</h3><ul><li><p>æ›å…‰çš„æ—¶é—´è¾ƒé•¿ï¼Œç”»é¢ä¸­è¿åŠ¨çš„ç‰©ä½“çš„ä¸»é¢˜ä¼šç•™ä¸‹è¿è¡Œçš„è½¨è¿¹ï¼Œä¼šå˜å¾—æ¨¡ç³Šï¼Œ<strong>åŒæ—¶ç”»é¢çš„äº®åº¦ä¼šè¢«æé«˜ã€‚</strong></p></li><li><p>ä¸€èˆ¬éœ€è¦ç¨³å®šæ‹æ‘„ï¼Œæ‰‹æŒçš„æŠ–åŠ¨å¯¹ç”»é¢å½±å“å¤§</p></li><li><p>ä½¿ç”¨ä½é€Ÿå¿«é—¨çš„é¢˜æ #æ‹æ‘„æŠ€å·§</p><ul><li><img src="Snipaste_2025-01-19_13-32-09.png" alt="" /><ul><li>å¯¹äºæ‘‡æ‹çš„è¡¥å……ï¼šåˆ©ç”¨ç›¸å¯¹é™æ­¢çš„åŸç†ï¼Œè·Ÿéšè¿åŠ¨ç‰©ä½“è¿›è¡Œå¹³è¡Œç§»åŠ¨ï¼Œå¯ä»¥å®ç°æ‹æ‘„ç‰©ä½“æ¸…æ™°ï¼Œè€Œå…¶ä»–èƒŒæ™¯æ¨¡ç³Šï¼ŒåŒæ ·ä¹Ÿå¯ä»¥ä½¿ç”¨ç›¸æœºè¿æ‹åŠŸèƒ½å®ç°è¯¥æ•ˆæœ</li></ul></li><li>ç€‘å¸ƒæ°´æµæ‹‰ä¸æ•ˆæœï¼š <strong>å¿«é—¨å¸¸ç”¨ 5~10s</strong> é…åˆå‡å…‰é•œç¨³å®šæ‹æ‘„ï¼ˆä¸‰è„šæ¶ï¼‰ã€‚æˆ–è€…è°ƒæ•´å…‰åœˆf/22å·¦å³</li><li>è½¦è½¨ çƒŸèŠ±ï¼š<strong>å¿«é—¨å¸¸ç”¨ 5~10s</strong> ç¨³å®šæ‹æ‘„ï¼ˆä¸‰è„šæ¶ï¼‰ã€‚è°ƒæ•´å…‰åœˆf/16é…åˆã€‚</li></ul></li></ul><h3 id="å¿«é—¨ä¼˜å…ˆtvs"><a class="markdownIt-Anchor" href="#å¿«é—¨ä¼˜å…ˆtvs"></a> å¿«é—¨ä¼˜å…ˆï¼ˆTV/Sï¼‰</h3><ul><li>åªéœ€è°ƒæ•´å¿«é—¨é€Ÿåº¦</li><li>ä¸ºæ»¡è¶³æ—¥å¸¸çš„ é£å…‰æ‹æ‘„ å’Œ è¿åŠ¨æ‘„å½±</li></ul><h3 id="ç»ƒä¹ "><a class="markdownIt-Anchor" href="#ç»ƒä¹ "></a> ç»ƒä¹ </h3><ol><li>é«˜é€Ÿè¿åŠ¨çš„ç‰©ä½“</li><li>è¿½ç„¦æ‹æ‘„ï¼ˆæ‘‡æ‹ï¼‰</li><li>è½¦è½¨</li></ol><p><img src="Snipaste_2025-01-19_17-05-08.png" alt="å¿«é—¨çš„é€‰æ‹©" /></p><hr /><h2 id="è®¤è¯†å…‰åœˆ"><a class="markdownIt-Anchor" href="#è®¤è¯†å…‰åœˆ"></a> è®¤è¯†å…‰åœˆ</h2><ul><li>æ§åˆ¶è¿›å…‰é‡çš„è£…ç½®</li></ul><h3 id="å…‰åœˆå½±å“è¿›å…‰é‡"><a class="markdownIt-Anchor" href="#å…‰åœˆå½±å“è¿›å…‰é‡"></a> å…‰åœˆå½±å“è¿›å…‰é‡</h3><ul><li><img src="Snipaste_2025-01-19_15-49-45.png" alt="" /></li><li>ä¸åŒçš„æ›å…‰çŠ¶æ€ï¼šæ¬ æ›ã€è¿‡æ›</li><li><strong>å…‰åœˆä¼šå’Œå¿«é—¨é€Ÿåº¦ä¸€èµ·å½±å“è¿›å…‰é‡</strong></li></ul><h3 id="å…‰åœˆå½±å“æ™¯æ·±"><a class="markdownIt-Anchor" href="#å…‰åœˆå½±å“æ™¯æ·±"></a> å…‰åœˆå½±å“æ™¯æ·±</h3><ul><li><img src="Snipaste_2025-01-19_15-55-04.png" alt="" /></li><li>å…‰åœˆçš„è¿ç”¨ï¼š #æ‹æ‘„æŠ€å·§<ul><li><strong>å¤§å…‰åœˆçš„è·‘ç„¦é—®é¢˜</strong>ã€‚ä½¿ç”¨è¶…å¤§å…‰åœˆé•œå¤´æ—¶ï¼Œæœ€å¥½ä¸è¦ä½¿ç”¨æœ€å¤§å…‰åœˆå»æ‹ï¼Œé™ä½ä¸€ä¸ªæŒ¡ä½ã€‚</li><li>æœ‰æ—¶<strong>ä¸»é¢˜çªå‡º</strong>ä½¿ç”¨å¤§å…‰åœˆ<ul><li><img src="Snipaste_2025-01-19_16-00-53.png" alt="" /></li></ul></li><li>æ‹äººåƒæ—¶<strong>ä¸è¦ä¸€å‘³çš„ä½¿ç”¨æ™¯æ·±æ•ˆæœ</strong>ï¼ˆä¸ºäº†çªå‡ºä¸»é¢˜è€Œçªå‡ºä¸»ä½“ï¼‰ï¼šéœ€è¦ç»“åˆç¯å¢ƒï¼Œæœ‰äº›æƒ…å†µéœ€è¦ç¯å¢ƒé…åˆæˆ–äº¤ä»£ç¯å¢ƒ<ul><li><img src="Snipaste_2025-01-19_16-04-53.png" alt="" /></li></ul></li><li>æœ‰æ—¶éœ€è¦<strong>å…¨å±€æ¸…æ™°</strong>ä½¿ç”¨å°å…‰åœˆ è¡¨ç°å¤§ç¯å¢ƒ<ul><li><img src="Snipaste_2025-01-19_16-06-22.png" alt="" /></li></ul></li></ul></li></ul><h3 id="æœ€ä½³ç”»è´¨å…‰åœˆ"><a class="markdownIt-Anchor" href="#æœ€ä½³ç”»è´¨å…‰åœˆ"></a> æœ€ä½³ç”»è´¨å…‰åœˆ</h3><ul><li>ä¸€èˆ¬åœ¨æœ€å¤§å…‰åœˆç¼©å°2~3æ¡£ä½</li></ul><h3 id="å…‰åœˆä¼˜å…ˆava"><a class="markdownIt-Anchor" href="#å…‰åœˆä¼˜å…ˆava"></a> å…‰åœˆä¼˜å…ˆï¼ˆAV/Aï¼‰</h3><ul><li>æ‰‹åŠ¨è°ƒæ•´å…‰åœˆ</li><li>æ»¡è¶³äºæ—¥å¸¸çš„äººåƒæ‹æ‘„ã€é™ç‰©æ‹æ‘„</li></ul><h3 id="ç»ƒä¹ -2"><a class="markdownIt-Anchor" href="#ç»ƒä¹ -2"></a> ç»ƒä¹ </h3><ul><li>è™šåŒ–æ•ˆæœçš„å°èŠ±</li></ul><hr /><h2 id="è®¤è¯†æ„Ÿå…‰åº¦iso"><a class="markdownIt-Anchor" href="#è®¤è¯†æ„Ÿå…‰åº¦iso"></a> è®¤è¯†æ„Ÿå…‰åº¦ï¼ˆISOï¼‰</h2><ul><li>æ„Ÿå…‰å™¨ä»¶å¯¹å…‰çš„æ•æ„Ÿç¨‹åº¦</li><li>æ§åˆ¶äº®åº¦å’Œæˆç‰‡è´¨é‡</li><li>æ•°å€¼è¶Šå¤§ï¼Œæ„Ÿå…‰åº¦é«˜ï¼Œé‚£ä¹ˆç”»é¢äº®</li></ul><h3 id="isoå½±å“ç”»è´¨å™ªç‚¹"><a class="markdownIt-Anchor" href="#isoå½±å“ç”»è´¨å™ªç‚¹"></a> ISOå½±å“ç”»è´¨ï¼ˆå™ªç‚¹ï¼‰</h3><ul><li><p><img src="Snipaste_2025-01-19_16-38-20.png" alt="" /></p></li><li><p>æ„Ÿå…‰åº¦çš„è¿ç”¨ #æ‹æ‘„æŠ€å·§</p><ul><li><strong>å¯¹äºISOï¼Œå…¶ä½œç”¨ç›¸å½“äºç»™ä½ ä¸€ç›ç¯ï¼Œåœ¨é»‘æš—ç¯å¢ƒä¸‹æˆ‘ä»¬éœ€è¦æ‰“å¼€ç¯çœ‹æ¸…ç”»é¢ï¼Œç¯çš„åŠŸç‡æœ‰ä¸åŒçš„ç“¦æ•°ã€‚</strong></li><li>é€šå¸¸æƒ…å†µ<ul><li><img src="Snipaste_2025-01-19_16-41-30.png" alt="" /></li></ul></li><li>è¿‡æš—ç¯å¢ƒ ISOå¤ªé«˜å¯¼è‡´å™ªç‚¹<ul><li>å…¼é¡¾ç”»è´¨å’Œç”»é¢ï¼š<strong>è¡¥å…‰</strong> é—ªå…‰ç¯ã€å¸¸äº®ç¯</li><li>ç”»é¢ä¼˜å…ˆï¼šæé«˜ISO</li></ul></li><li>æƒ³è¦å¤å¤æ„Ÿï¼Œæƒ³è¦å™ªç‚¹ï¼šä¸»åŠ¨æé«˜ISO</li></ul></li></ul><hr /><h2 id="æ›å…‰ä¸‰è¦ç´ çš„ç»“åˆä½¿ç”¨"><a class="markdownIt-Anchor" href="#æ›å…‰ä¸‰è¦ç´ çš„ç»“åˆä½¿ç”¨"></a> æ›å…‰ä¸‰è¦ç´ çš„ç»“åˆä½¿ç”¨</h2><p><img src="Snipaste_2025-01-19_17-03-48.png" alt="" /></p><h3 id="åœ¨ä¸€ä¸ªé˜³å…‰ç¿çƒ‚çš„ä¸­åˆæ‹æ‘„æœ‰è™šåŒ–æ•ˆæœçš„å°èŠ±"><a class="markdownIt-Anchor" href="#åœ¨ä¸€ä¸ªé˜³å…‰ç¿çƒ‚çš„ä¸­åˆæ‹æ‘„æœ‰è™šåŒ–æ•ˆæœçš„å°èŠ±"></a> åœ¨ä¸€ä¸ªé˜³å…‰ç¿çƒ‚çš„ä¸­åˆæ‹æ‘„æœ‰è™šåŒ–æ•ˆæœçš„å°èŠ±</h3><ul><li>é¦–å…ˆå…‰åœˆè¦å¤§ä¸€ç‚¹ï¼Œæ‰æœ‰è™šåŒ–æ•ˆæœï¼Œé™æ­¢ç‰©ä½“ï¼Œä¸éœ€è¦é«˜é€Ÿæˆ–ä½é€Ÿå¿«é—¨ï¼Œå®¤å¤–é˜³å…‰å¤©æ°”å…‰çº¿å……è¶³ï¼ŒISOè°ƒåˆ°æœ€å°</li><li>f/1.8 1/500 100</li><li>æ²¡æœ‰å¤§å…‰åœˆï¼Œæ€ä¹ˆåŠ #æ‹æ‘„æŠ€å·§<ul><li>ä¸»ä½“ç¦»èƒŒæ™¯è¶³å¤Ÿè¿œï¼Œä¹Ÿä¼šæœ‰è™šåŒ–æ•ˆæœ</li></ul></li><li>æ„Ÿè§‰å¯ä»¥ä½¿ç”¨å…‰åœˆAä¼˜å…ˆã€‚ã€‚</li></ul><h3 id="æ‹æ‘„äººåœ¨å¤œæ™šè·‘æ­¥"><a class="markdownIt-Anchor" href="#æ‹æ‘„äººåœ¨å¤œæ™šè·‘æ­¥"></a> æ‹æ‘„äººåœ¨å¤œæ™šè·‘æ­¥</h3><ul><li>å¤œæ™šç¯å¢ƒè¾ƒæš—ï¼Œä½¿ç”¨è¾ƒå¤§å…‰åœˆæé«˜è¿›å…‰é‡ï¼Œä½†æ˜¯å¤ªå¤§ä¼šè·‘ç„¦ï¼Œæ‹æ‘„è¿åŠ¨çš„ç‰©ä½“ï¼Œå¿«é—¨speeçš„å¿«ä¸€ç‚¹ï¼Œä½†æ˜¯å¿«é—¨å¤ªå¿«ç”»é¢å¤ªæš—ï¼Œäºæ˜¯è°ƒé«˜æ„Ÿå…‰åº¦</li><li>f/2.8 1/250 800</li><li>ä¸ªäººæ„Ÿè§‰å¯ä»¥ä½¿ç”¨å¿«é—¨Sä¼˜å…ˆã€‚ã€‚</li></ul>]]></content>
      
      
      <categories>
          
          <category> æ‘„å½±å­¦ä¹  </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ‘„å½±åŸºç¡€ </tag>
            
            <tag> å­¦ä¹ ç¬”è®° </tag>
            
            <tag> æ›å…‰ä¸‰è¦ç´  </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
